/*! For license information please see main.0f696d48.js.LICENSE.txt */
(()=>{"use strict";var e={110:(e,t,n)=>{var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var y=s[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!a||!a[y])){var v=d(n,y);try{c(t,y,v)}catch(_){}}}}return t}},746:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return w(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||w(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===v||e.$$typeof===_||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:(e,t,n)=>{e.exports=n(746)},463:(e,t,n)=>{var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case k:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ce=null,Se=null;function ke(e){if(e=_i(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Te(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function Ie(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return xe(e,t,n)}finally{Re=!1,(null!==Ce||null!==Se)&&(Ne(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Me(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,o,s,a,l){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,Ct,St,kt,Tt=!1,It=[],xt=null,Nt=null,Rt=null,Pt=new Map,At=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Tt=!1,null!==xt&&Ut(xt)&&(xt=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==Rt&&Ut(Rt)&&(Rt=null),Pt.forEach(jt),At.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==Nt&&zt(Nt,e),null!==Rt&&zt(Rt,e),Pt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=_t,o=qt.transition;qt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,qt.transition=o}}function Kt(e,t,n,r){var i=_t,o=qt.transition;qt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Lt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Lt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=F({},cn,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},hn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(vn),bn=on(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function kn(){return Sn}var Tn=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Tn),xn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Pn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,Fn=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Cr={},Sr={};function kr(e){if(Cr[e])return Cr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Tr=kr("animationend"),Ir=kr("animationiteration"),xr=kr("animationstart"),Nr=kr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Rr.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Tr,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(xr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Fe;Le=!1,Fe=null,Ue||(Ue=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=o,i=we(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Tr:case Ir:case xr:l=yn;break;case Nr:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ae(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==h&&Qr(s,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Wn(a))if(Jn)g=sr;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(v=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Kr(r,_)).length&&(_=new bn(_,e,null,n,i),s.push({event:_,listeners:y}),v?_.data=v:null!==(v=zn(n))&&(_.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),$t=Zt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Ur(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Ae(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ae(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Ae(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var Ei=[],Ci=-1;function Si(e){return{current:e}}function ki(e){0>Ci||(e.current=Ei[Ci],Ei[Ci]=null,Ci--)}function Ti(e,t){Ci++,Ei[Ci]=e.current,e.current=t}var Ii={},xi=Si(Ii),Ni=Si(!1),Ri=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Ni),ki(xi)}function Di(e,t,n){if(xi.current!==Ii)throw Error(o(168));Ti(xi,t),Ti(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ri=xi.current,Ti(xi,e),Ti(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(Ni),ki(xi),Ti(xi,e)):ki(Ni),Ti(Ni,n)}var Ui=null,ji=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=_t;try{var n=Ui;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge($e,Bi),i}finally{_t=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function Zi(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function $i(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,Ji=o+e}else Xi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=Si(null),_o=null,bo=null,wo=null;function Eo(){wo=bo=_o=null}function Co(e){var t=vo.current;ki(vo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){_o=e,wo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===_o)throw Error(o(308));bo=e,_o.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Io=null;function xo(e){null===Io?Io=[e]:Io.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,xo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Po=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=h}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(rc(t,e,r,n),Lo(t,e,r))}};function qo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Ai(t)?Ri:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,Ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Ai(t)?Ri:xi.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case E:return(t=jc(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),io&&Zi(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===u?c=h:u.sibling=h,u=h);return io&&Zi(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Zi(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=f(i,m,v.value,c);if(null===_){null===m&&(m=y);break}e&&m&&null===_.alternate&&t(i,m),a=s(_,a,g),null===h?u=_:h.sibling=_,h=_,m=y}if(v.done)return n(i,m),io&&Zi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return io&&Zi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Zi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===C&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===C){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Yo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Go(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===C?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Mc(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return a(r);case E:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(s,r.mode,l)).return=r,r=o}return a(r);case A:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(M(s))return g(r,o,s,l);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Uc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Jo=Xo(!0),Zo=Xo(!1),$o={},es=Si($o),ts=Si($o),ns=Si($o);function rs(e){if(e===$o)throw Error(o(174));return e}function is(e,t){switch(Ti(ns,t),Ti(ts,e),Ti(es,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),Ti(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ti(ts,e),Ti(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var ls=Si(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function hs(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var ds=b.ReactCurrentDispatcher,fs=b.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,ys=null,vs=!1,_s=!1,bs=0,ws=0;function Es(){throw Error(o(321))}function Cs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Ss(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),_s){s=0;do{if(_s=!1,bs=0,25<=s)throw Error(o(301));s+=1,ys=gs=null,t.updateQueue=null,ds.current=ca,e=n(r,i)}while(_s)}if(ds.current=sa,t=null!==gs&&null!==gs.next,ps=0,ys=gs=ms=null,vs=!1,t)throw Error(o(300));return e}function ks(){var e=0!==bs;return bs=0,e}function Ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?ms.memoizedState=ys=e:ys=ys.next=e,ys}function Is(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===ys?ms.memoizedState:ys.next;if(null!==t)ys=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===ys?ms.memoizedState=ys=e:ys=ys.next=e}return ys}function xs(e,t){return"function"===typeof t?t(e):t}function Ns(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ps&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,ms.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rs(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ps(){}function As(e,t){var n=ms,r=Is(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ws(Ms.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,js(9,Ds.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(o(349));0!==(30&ps)||Os(n,t,i)}return i}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&Fs(e)}function Ms(e,t,n){return n((function(){Ls(t)&&Fs(e)}))}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=Ro(e,1);null!==t&&rc(t,e,1,-1)}function Us(e){var t=Ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function js(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vs(){return Is().memoizedState}function zs(e,t,n,r){var i=Ts();ms.flags|=e,i.memoizedState=js(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var i=Is();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&Cs(r,s.deps))return void(i.memoizedState=js(t,n,o,r))}ms.flags|=e,i.memoizedState=js(1|t,n,o,r)}function qs(e,t){return zs(8390656,8,e,t)}function Ws(e,t){return Bs(2048,8,e,t)}function Hs(e,t){return Bs(4,2,e,t)}function Ks(e,t){return Bs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Gs.bind(null,t,e),n)}function Ys(){}function Xs(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zs(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Fl|=n,e.baseState=!0),t)}function $s(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{_t=n,fs.transition=r}}function ea(){return Is().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=No(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,xo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){_s=vs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var sa={readContext:To,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},aa={readContext:To,useCallback:function(e,t){return Ts().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:qs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zs(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return zs(4,2,e,t)},useMemo:function(e,t){var n=Ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ts();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ts().memoizedState=e},useState:Us,useDebugValue:Ys,useDeferredValue:function(e){return Ts().memoizedState=e},useTransition:function(){var e=Us(!1),t=e[0];return e=$s.bind(null,e[1]),Ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Ts();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Rl)throw Error(o(349));0!==(30&ps)||Os(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qs(Ms.bind(null,r,s,e),[e]),r.flags|=2048,js(9,Ds.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ts(),t=Rl.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=bs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ws++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:To,useCallback:Xs,useContext:To,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Js,useReducer:Ns,useRef:Vs,useState:function(){return Ns(xs)},useDebugValue:Ys,useDeferredValue:function(e){return Zs(Is(),gs.memoizedState,e)},useTransition:function(){return[Ns(xs)[0],Is().memoizedState]},useMutableSource:Ps,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1},ca={readContext:To,useCallback:Xs,useContext:To,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Js,useReducer:Rs,useRef:Vs,useState:function(){return Rs(xs)},useDebugValue:Ys,useDeferredValue:function(e){var t=Is();return null===gs?t.memoizedState=e:Zs(t,gs.memoizedState,e)},useTransition:function(){return[Rs(xs)[0],Is().memoizedState]},useMutableSource:Ps,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),da(0,t)},n}function ma(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _a=b.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Jo(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Ss(e,t,n,r,o,i),n=ks(),null===e||ba?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ia(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Dl,Ol),Ol|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Dl,Ol),Ol|=r;return wa(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var o=Ai(n)?Ri:xi.current;return o=Pi(t,o),ko(t,i),n=Ss(e,t,n,r,o,i),r=ks(),null===e||ba?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function xa(e,t,n,r,i){if(Ai(n)){var o=!0;Li(t)}else o=!1;if(ko(t,i),null===t.stateNode)Wa(e,t),Wo(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Pi(t,c=Ai(n)?Ri:xi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Ho(t,s,r,c),Po=!1;var d=t.memoizedState;s.state=d,Uo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ni.current||Po?("function"===typeof u&&(zo(t,n,u,r),l=t.memoizedState),(a=Po||qo(t,n,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Oo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:yo(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=To(l):l=Pi(t,l=Ai(n)?Ri:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Ho(t,s,r,l),Po=!1,d=t.memoizedState,s.state=d,Uo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Po?("function"===typeof f&&(zo(t,n,f,r),p=t.memoizedState),(c=Po||qo(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,o,i)}function Na(e,t,n,r,i,o){Ta(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Ha(e,t,o);r=t.stateNode,_a.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),is(e,t.containerInfo)}function Pa(e,t,n,r,i){return po(),mo(i),t.flags|=256,wa(e,t,n,r),t.child}var Aa,Oa,Da,Ma,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ti(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=La,e):ja(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=La,s);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Rl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ro(e,i),rc(r,e,i,-1))}return gc(),Va(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&mo(r),Jo(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ai(t.type)&&Oi(),Ga(t),null;case 3:return r=t.stateNode,os(),ki(Ni),ki(xi),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Oa(e,t),Ga(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,s),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jr("invalid",r);break;case"textarea":ie(r,s),jr("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":K(r),$(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&jr("scroll",e):null!=u&&_(e,s,u,l))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(ki(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return os(),Oa(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return Co(t.type._context),Ga(t),null;case 19:if(ki(ls),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ka(s,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Ka(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>ql&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*Je()-s.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=ls.current,Ti(ls,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Ni),ki(xi),hs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ls),null;case 4:return os(),null;case 10:return Co(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ja=!1,Za="function"===typeof WeakSet?WeakSet:Set,$a=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ja&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fl(e,t,n),Ja=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(o(160));pl(s,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),_e(l,a);var u=_e(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,u)}switch(l){case"input":Z(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Je())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||h,gl(t,e),Ja=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for($a=e,h=e.child;null!==h;){for(d=$a=h;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,$a=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){$a=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==$a;){var i=$a,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Xa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Xa;var c=Ja;if(Xa=s,(Ja=l)&&!c)for($a=i;null!==$a;)l=(s=$a).child,22===s.tag&&null!==s.memoizedState?Cl(i):null!==l?(l.return=s,$a=l):Cl(i);for(;null!==o;)$a=o,bl(o,t,n),o=o.sibling;$a=i,Xa=a,Ja=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$a=o):wl(e)}}function wl(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&jo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}Ja||512&t.flags&&ol(t)}catch(f){kc(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function El(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function Cl(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var Sl,kl=Math.ceil,Tl=b.ReactCurrentDispatcher,Il=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Nl=0,Rl=null,Pl=null,Al=0,Ol=0,Dl=Si(0),Ml=0,Ll=null,Fl=0,Ul=0,jl=0,Vl=null,zl=null,Bl=0,ql=1/0,Wl=null,Hl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,Xl=0,Jl=0,Zl=null,$l=-1,ec=0;function tc(){return 0!==(6&Nl)?Je():-1!==$l?$l:$l=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Al?Al&-Al:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,Zl=null,Error(o(185));yt(e,n,r),0!==(2&Nl)&&e===Rl||(e===Rl&&(0===(2&Nl)&&(Ul|=n),4===Ml&&lc(e,Al)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(ql=Je()+500,ji&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Rl?Al:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),si((function(){0===(6&Nl)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if($l=-1,ec=0,0!==(6&Nl))throw Error(o(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=dt(e,e===Rl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Nl;Nl|=2;var s=mc();for(Rl===e&&Al===t||(Wl=null,ql=Je()+500,fc(e,t));;)try{_c();break}catch(l){pc(e,l)}Eo(),Tl.current=s,Nl=i,null!==Pl?t=0:(Rl=null,Al=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ec(e,zl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,zl,Wl),t);break}Ec(e,zl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,zl,Wl),r);break}Ec(e,zl,Wl);break;default:throw Error(o(329))}}}return ic(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~jl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(o(327));Cc();var t=dt(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,zl,Wl),ic(e,Je()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=Je()+500,ji&&Bi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Nl)&&Cc();var t=Nl;Nl|=1;var n=xl.transition,r=_t;try{if(xl.transition=null,_t=1,e)return e()}finally{_t=r,xl.transition=n,0===(6&(Nl=t))&&Bi()}}function dc(){Ol=Dl.current,ki(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:os(),ki(Ni),ki(xi),hs();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(ls);break;case 10:Co(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Rl=e,Pl=e=Dc(e.current,null),Al=Ol=t,Ml=0,Ll=null,jl=Ul=Fl=0,zl=Vl=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Io=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(Eo(),ds.current=sa,vs){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vs=!1}if(ps=0,ys=gs=ms=null,_s=!1,bs=0,Il.current=null,null===n||null===n.return){Ml=1,Ll=t,Pl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),mo(ua(c,l));break e}}s=c=ua(c,l),4!==Ml&&(Ml=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,c,t));break e;case 1:l=c;var v=s.type,_=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gl||!Gl.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=sa,null===e?sa:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Rl||0===(268435455&Fl)&&0===(268435455&Ul)||lc(Rl,Al)}function yc(e,t){var n=Nl;Nl|=2;var r=mc();for(Rl===e&&Al===t||(Wl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Eo(),Nl=n,Tl.current=r,null!==Pl)throw Error(o(261));return Rl=null,Al=0,Ml}function vc(){for(;null!==Pl;)bc(Pl)}function _c(){for(;null!==Pl&&!Ye();)bc(Pl)}function bc(e){var t=Sl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,Il.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Ol)))return void(Pl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ml=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ml&&(Ml=5)}function Ec(e,t,n){var r=_t,i=xl.transition;try{xl.transition=null,_t=1,function(e,t,n,r){do{Cc()}while(null!==Yl);if(0!==(6&Nl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Rl&&(Pl=Rl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Rc(tt,(function(){return Cc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=xl.transition,xl.transition=null;var a=_t;_t=1;var l=Nl;Nl|=4,Il.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,_l(n,e,i),Xe(),Nl=l,_t=a,xl.transition=s}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Xl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Cc(),s=e.pendingLanes,0!==(1&s)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,Bi()}(e,t,n,r)}finally{xl.transition=i,_t=r}return null}function Cc(){if(null!==Yl){var e=bt(Xl),t=xl.transition,n=_t;try{if(xl.transition=null,_t=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Nl))throw Error(o(331));var i=Nl;for(Nl|=4,$a=e.current;null!==$a;){var s=$a,a=s.child;if(0!==(16&$a.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($a=u;null!==$a;){var h=$a;switch(h.tag){case 0:case 11:case 15:rl(8,h,s)}var d=h.child;if(null!==d)d.return=h,$a=d;else for(;null!==$a;){var f=(h=$a).sibling,p=h.return;if(sl(h),h===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$a=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,$a=a;else e:for(;null!==$a;){if(0!==(2048&(s=$a).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,$a=v;break e}$a=s.return}}var _=e.current;for($a=_;null!==$a;){var b=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,$a=b;else e:for(a=_;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){kc(l,l.return,E)}if(l===a){$a=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$a=w;break e}$a=l.return}}if(Nl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{_t=n,xl.transition=t}}return!1}function Sc(e,t,n){e=Mo(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Mo(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Al&n)===n&&(4===Ml||3===Ml&&(130023424&Al)===Al&&500>Je()-Bl?fc(e,0):jl|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ro(e,t))&&(yt(e,t,n),ic(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Rc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Lc(n.children,i,s,t);case S:a=8,i|=8;break;case k:return(e=Ac(12,n,t,2|i)).elementType=k,e.lanes=s,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=s,e;case R:return(e=Ac(19,n,t,i)).elementType=R,e.lanes=s,e;case O:return Fc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case I:a=9;break e;case x:a=11;break e;case P:a=14;break e;case A:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,s,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,o,s,a,l){return(e=zc(n,r,!0,e,0,o,0,a,l)).context=Bc(null),n=e.current,(o=Do(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,s))&&(rc(e,i,s,o),Lo(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),po();break;case 5:ss(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(Ti(ls,1&ls.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ti(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Pi(t,xi.current);ko(t,n),i=Ss(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=Na(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Ra(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Oo(e,t),Uo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ta(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ua(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ti(vo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ni.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Do(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),So(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),So(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=To(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Ca(e,t,r,i=yo(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Wa(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,ko(t,n),Wo(t,r,i),Ko(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(s);o.call(e)}}var s=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),hc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(s)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Je()),0===(6&Nl)&&(ql=Je()+500,Bi()))}break;case 13:hc((function(){var t=Ro(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=nc(e),n=Ro(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return _t},kt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Ee=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=uc,Ne=hc;var tu={usingClientEntryPoint:!1,Events:[_i,bi,wi,Te,Ie,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:C.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+x(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+x(a=e[c],c);l+=N(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=o+x(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:C};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{e.exports=n(117)},184:(e,t,n)=>{e.exports=n(374)},813:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,O(E);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var o=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(w,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,k=null,T=-1,I=5,x=-1;function N(){return!(t.unstable_now()-x<I)}function R(){if(null!==k){var e=t.unstable_now();x=e;var n=!0;try{n=k(!0,e)}finally{n?C():(S=!1,k=null)}}else S=!1}if("function"===typeof _)C=function(){_(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=R,C=function(){A.postMessage(null)}}else C=function(){y(R,0)};function O(e){k=e,S||(S=!0,C())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,D(w,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".cbeb0772.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="gmash:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/gmash/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkgmash=self.webpackChunkgmash||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{const e=!1,t=!1,r="${JSCORE_VERSION}",i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database ("+r+") INTERNAL ASSERT FAILED: "+e)},s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new l;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c=function(e){const t=s(e);return a.encodeByteArray(t,!0)},u=function(e){return c(e).replace(/\./g,"")},h=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=f(e[n],t[n]));return e}const p=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,m=()=>{try{return p()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/gmash",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&h(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},g=e=>{var t,n;return null===(n=null===(t=m())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},y=e=>{const t=g(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},v=()=>{var e;return null===(e=m())||void 0===e?void 0:e.config},_=e=>{var t;return null===(t=m())||void 0===t?void 0:t["_".concat(e)]};class b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function w(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(o)),""].join(".")}function E(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(E())}function S(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function k(){return!0===e||!0===t}class T extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(x,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new T(n,o,t)}}const x=/\{\$([^}]+)}/g;function N(e){return JSON.parse(e)}function R(e){return JSON.stringify(e)}const P=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=N(h(o[0])||""),n=N(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function D(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function L(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(F(n)&&F(o)){if(!L(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function F(e){return null!==e&&"object"===typeof e}function U(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function j(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function V(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class z{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class B{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=q),void 0===r.error&&(r.error=q),void 0===r.complete&&(r.complete=q);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function q(){}function W(e,t){return"".concat(e," failed: ").concat(t," argument ")}const H=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function K(e){return e&&e._delegate?e._delegate:e}class G{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Q="[DEFAULT]";class Y{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new b;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Q})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.component?this.component.multipleInstances?e:Q:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function X(e){return e===Q?void 0:e}class J{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Y(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Z=[];var $;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($||($={}));const ee={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},te=$.INFO,ne={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},re=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ne[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class ie{constructor(e){this.name=e,this._logLevel=te,this._logHandler=re,this._userLogHandler=null,Z.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...t),this._logHandler(this,$.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...t),this._logHandler(this,$.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$.INFO,...t),this._logHandler(this,$.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$.WARN,...t),this._logHandler(this,$.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$.ERROR,...t),this._logHandler(this,$.ERROR,...t)}}const oe=(e,t)=>t.some((t=>e instanceof t));let se,ae;const le=new WeakMap,ce=new WeakMap,ue=new WeakMap,he=new WeakMap,de=new WeakMap;let fe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ce.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ue.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ge(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ye(this),n),ge(le.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ge(e.apply(ye(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(ye(this),t,...r);return ue.set(o,t.sort?t.sort():[t]),ge(o)}}function me(e){return"function"===typeof e?pe(e):(e instanceof IDBTransaction&&function(e){if(ce.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));ce.set(e,t)}(e),oe(e,se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,fe):e)}function ge(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ge(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&le.set(t,e)})).catch((()=>{})),de.set(t,e),t}(e);if(he.has(e))return he.get(e);const t=me(e);return t!==e&&(he.set(e,t),de.set(t,e)),t}const ye=e=>de.get(e);const ve=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],be=new Map;function we(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(be.get(t))return be.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ve.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return be.set(t,o),o}fe=(e=>({...e,get:(t,n,r)=>we(t,n)||e.get(t,n,r),has:(t,n)=>!!we(t,n)||e.has(t,n)}))(fe);class Ee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ce="@firebase/app",Se="0.9.25",ke=new ie("@firebase/app"),Te="[DEFAULT]",Ie={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xe=new Map,Ne=new Map;function Re(e,t){try{e.container.addComponent(t)}catch(n){ke.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Pe(e){const t=e.name;if(Ne.has(t))return ke.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ne.set(t,e);for(const n of xe.values())Re(n,e);return!0}function Ae(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Oe=new I("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class De{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new G("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oe.create("app-deleted",{appName:this._name})}}const Me="10.7.1";function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Te,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Oe.create("bad-app-name",{appName:String(i)});if(n||(n=v()),!n)throw Oe.create("no-options");const o=xe.get(i);if(o){if(L(n,o.options)&&L(r,o.config))return o;throw Oe.create("duplicate-app",{appName:i})}const s=new J(i);for(const l of Ne.values())s.addComponent(l);const a=new De(n,r,s);return xe.set(i,a),a}function Fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;const t=xe.get(e);if(!t&&e===Te&&v())return Le();if(!t)throw Oe.create("no-app",{appName:e});return t}function Ue(e,t,n){var r;let i=null!==(r=Ie[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ke.warn(e.join(" "))}Pe(new G("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const je="firebase-heartbeat-database",Ve=1,ze="firebase-heartbeat-store";let Be=null;function qe(){return Be||(Be=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=ge(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(ge(s.result),e.oldVersion,e.newVersion,ge(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(je,Ve,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ze)}}).catch((e=>{throw Oe.create("idb-open",{originalErrorMessage:e.message})}))),Be}async function We(e,t){try{const n=(await qe()).transaction(ze,"readwrite"),r=n.objectStore(ze);await r.put(t,He(e)),await n.done}catch(n){if(n instanceof T)ke.warn(n.message);else{const e=Oe.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ke.warn(e.message)}}}function He(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ke{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qe(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ge();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ge(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ye(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ye(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=u(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ge(){return(new Date).toISOString().substring(0,10)}class Qe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(th){t(th)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await qe();return await t.transaction(ze).objectStore(ze).get(He(e))}catch(t){if(t instanceof T)ke.warn(t.message);else{const e=Oe.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ke.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return We(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return We(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ye(e){return u(JSON.stringify({version:2,heartbeats:e})).length}var Xe;Xe="",Pe(new G("platform-logger",(e=>new Ee(e)),"PRIVATE")),Pe(new G("heartbeat",(e=>new Ke(e)),"PRIVATE")),Ue(Ce,Se,Xe),Ue(Ce,Se,"esm2017"),Ue("fire-js","");Ue("firebase","10.7.1","app");var Je,Ze=n(791),$e=n.t(Ze,2),et=n(250),tt=n(164),nt=n.t(tt,2);function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Je||(Je={}));const it="popstate";function ot(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function st(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function at(e,t){return{usr:e.state,key:e.key,idx:t}}function lt(e,t,n,r){return void 0===n&&(n=null),rt({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ut(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ct(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function ut(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ht(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Je.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function h(){a=Je.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:ct(e);return ot(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(rt({},s.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(it,h),l=e,()=>{i.removeEventListener(it,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=Je.Push;let r=lt(f.location,e,t);n&&n(r,e),c=u()+1;let h=at(r,c),d=f.createHref(r);try{s.pushState(h,"",d)}catch(th){if(th instanceof DOMException&&"DataCloneError"===th.name)throw th;i.location.assign(d)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=Je.Replace;let r=lt(f.location,e,t);n&&n(r,e),c=u();let i=at(r,c),h=f.createHref(r);s.replaceState(i,"",h),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var dt;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(dt||(dt={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function ft(e,t,n){void 0===n&&(n="/");let r=It(("string"===typeof t?ut(t):t).pathname||"/",n);if(null==r)return null;let i=pt(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=St(i[s],Tt(r));return o}function pt(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(ot(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=At([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(ot(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),pt(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:Ct(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of mt(e.path))i(e,t,r);else i(e,t)})),t}function mt(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=mt(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const gt=/^:[\w-]+$/,yt=3,vt=2,_t=1,bt=10,wt=-2,Et=e=>"*"===e;function Ct(e,t){let n=e.split("/"),r=n.length;return n.some(Et)&&(r+=wt),t&&(r+=vt),n.filter((e=>!Et(e))).reduce(((e,t)=>e+(gt.test(t)?yt:""===t?_t:bt)),r)}function St(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=kt({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:At([i,c.pathname]),pathnameBase:Ot(At([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=At([i,c.pathnameBase]))}return o}function kt(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);st("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(th){return st(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+th+")."),e}}(l||"",r),e}),{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function Tt(e){try{return decodeURI(e)}catch(th){return st(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+th+")."),e}}function It(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function xt(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Nt(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Rt(e,t){let n=Nt(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function Pt(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=ut(e):(i=rt({},e),ot(!i.pathname||!i.pathname.includes("?"),xt("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),xt("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),xt("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?ut(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Dt(r),hash:Mt(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const At=e=>e.join("/").replace(/\/\/+/g,"/"),Ot=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dt=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Mt=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Lt(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Ft=["post","put","patch","delete"],Ut=(new Set(Ft),["get",...Ft]);new Set(Ut),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jt.apply(this,arguments)}const Vt=Ze.createContext(null);const zt=Ze.createContext(null);const Bt=Ze.createContext(null);const qt=Ze.createContext(null);const Wt=Ze.createContext({outlet:null,matches:[],isDataRoute:!1});const Ht=Ze.createContext(null);function Kt(){return null!=Ze.useContext(qt)}function Gt(){return Kt()||ot(!1),Ze.useContext(qt).location}function Qt(e){Ze.useContext(Bt).static||Ze.useLayoutEffect(e)}function Yt(){let{isDataRoute:e}=Ze.useContext(Wt);return e?function(){let{router:e}=on(nn.UseNavigateStable),t=an(rn.UseNavigateStable),n=Ze.useRef(!1);Qt((()=>{n.current=!0}));let r=Ze.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,jt({fromRouteId:t},i)))}),[e,t]);return r}():function(){Kt()||ot(!1);let e=Ze.useContext(Vt),{basename:t,future:n,navigator:r}=Ze.useContext(Bt),{matches:i}=Ze.useContext(Wt),{pathname:o}=Gt(),s=JSON.stringify(Rt(i,n.v7_relativeSplatPath)),a=Ze.useRef(!1);return Qt((()=>{a.current=!0})),Ze.useCallback((function(n,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof n)return void r.go(n);let l=Pt(n,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:At([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[t,r,s,o,e])}()}function Xt(e,t,n,r){Kt()||ot(!1);let{navigator:i}=Ze.useContext(Bt),{matches:o}=Ze.useContext(Wt),s=o[o.length-1],a=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let c,u=Gt();if(t){var h;let e="string"===typeof t?ut(t):t;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||ot(!1),c=e}else c=u;let d=c.pathname||"/",f=ft(e,{pathname:"/"===l?d:d.slice(l.length)||"/"});let p=tn(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:At([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:At([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&p?Ze.createElement(qt.Provider,{value:{location:jt({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Je.Pop}},p):p}function Jt(){let e=function(){var e;let t=Ze.useContext(Ht),n=sn(rn.UseRouteError),r=an(rn.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Lt(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return Ze.createElement(Ze.Fragment,null,Ze.createElement("h2",null,"Unexpected Application Error!"),Ze.createElement("h3",{style:{fontStyle:"italic"}},t),n?Ze.createElement("pre",{style:i},n):null,null)}const Zt=Ze.createElement(Jt,null);class $t extends Ze.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?Ze.createElement(Wt.Provider,{value:this.props.routeContext},Ze.createElement(Ht.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function en(e){let{routeContext:t,match:n,children:r}=e,i=Ze.useContext(Vt);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Ze.createElement(Wt.Provider,{value:t},r)}function tn(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let s=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=s.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||ot(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let e=s[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight(((e,r,i)=>{let o,u=!1,h=null,d=null;var f;n&&(o=a&&r.route.id?a[r.route.id]:void 0,h=r.route.errorElement||Zt,l&&(c<0&&0===i?(f="route-fallback",!1||ln[f]||(ln[f]=!0),u=!0,d=null):c===i&&(u=!0,d=r.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,i+1)),m=()=>{let t;return t=o?h:u?d:r.route.Component?Ze.createElement(r.route.Component,null):r.route.element?r.route.element:e,Ze.createElement(en,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?Ze.createElement($t,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}var nn=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nn||{}),rn=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rn||{});function on(e){let t=Ze.useContext(Vt);return t||ot(!1),t}function sn(e){let t=Ze.useContext(zt);return t||ot(!1),t}function an(e){let t=function(e){let t=Ze.useContext(Wt);return t||ot(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||ot(!1),n.route.id}const ln={};$e.startTransition;function cn(e){ot(!1)}function un(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Je.Pop,navigator:o,static:s=!1,future:a}=e;Kt()&&ot(!1);let l=t.replace(/^\/*/,"/"),c=Ze.useMemo((()=>({basename:l,navigator:o,static:s,future:jt({v7_relativeSplatPath:!1},a)})),[l,a,o,s]);"string"===typeof r&&(r=ut(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=Ze.useMemo((()=>{let e=It(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:i}}),[l,u,h,d,f,p,i]);return null==m?null:Ze.createElement(Bt.Provider,{value:c},Ze.createElement(qt.Provider,{children:n,value:m}))}function hn(e){let{children:t,location:n}=e;return Xt(dn(t),n)}new Promise((()=>{}));Ze.Component;function dn(e,t){void 0===t&&(t=[]);let n=[];return Ze.Children.forEach(e,((e,r)=>{if(!Ze.isValidElement(e))return;let i=[...t,r];if(e.type===Ze.Fragment)return void n.push.apply(n,dn(e.props.children,i));e.type!==cn&&ot(!1),e.props.index&&e.props.children&&ot(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=dn(e.props.children,i)),n.push(o)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const fn=$e.startTransition;nt.flushSync,$e.useId;function pn(e){let{basename:t,children:n,future:r,window:i}=e,o=Ze.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),ht((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return lt("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:ct(t)}),null,s)));let a=o.current,[l,c]=Ze.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=Ze.useCallback((e=>{u&&fn?fn((()=>c(e))):c(e)}),[c,u]);return Ze.useLayoutEffect((()=>a.listen(h)),[a,h]),Ze.createElement(un,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var mn,gn;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mn||(mn={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(gn||(gn={}));function yn(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vn.apply(this,arguments)}function _n(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_n(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const bn=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_n(e))&&(r&&(r+=" "),r+=t);return r};function wn(e,t){const n=vn({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=vn({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},o&&Object.keys(o)?i&&Object.keys(i)?(n[r]=vn({},o),Object.keys(i).forEach((e=>{n[r][e]=wn(i[e],o[e])}))):n[r]=o:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function En(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}function Cn(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Sn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function kn(e){return Sn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function Tn(e){if(e.type)return e;if("#"===e.charAt(0))return Tn(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Cn(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Cn(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}function In(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function xn(e){let t="hsl"===(e=Tn(e)).type||"hsla"===e.type?Tn(function(e){e=Tn(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),In({type:a,values:l})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Nn(e,t){return e=Tn(e),t=kn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,In(e)}function Rn(e,t){if(e=Tn(e),t=kn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return In(e)}function Pn(e,t){if(e=Tn(e),t=kn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return In(e)}function An(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var On=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Dn=An((function(e){return On.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Mn=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ln=Math.abs,Fn=String.fromCharCode,Un=Object.assign;function jn(e){return e.trim()}function Vn(e,t,n){return e.replace(t,n)}function zn(e,t){return e.indexOf(t)}function Bn(e,t){return 0|e.charCodeAt(t)}function qn(e,t,n){return e.slice(t,n)}function Wn(e){return e.length}function Hn(e){return e.length}function Kn(e,t){return t.push(e),e}var Gn=1,Qn=1,Yn=0,Xn=0,Jn=0,Zn="";function $n(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Gn,column:Qn,length:s,return:""}}function er(e,t){return Un($n("",null,null,"",null,null,0),e,{length:-e.length},t)}function tr(){return Jn=Xn>0?Bn(Zn,--Xn):0,Qn--,10===Jn&&(Qn=1,Gn--),Jn}function nr(){return Jn=Xn<Yn?Bn(Zn,Xn++):0,Qn++,10===Jn&&(Qn=1,Gn++),Jn}function rr(){return Bn(Zn,Xn)}function ir(){return Xn}function or(e,t){return qn(Zn,e,t)}function sr(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ar(e){return Gn=Qn=1,Yn=Wn(Zn=e),Xn=0,[]}function lr(e){return Zn="",e}function cr(e){return jn(or(Xn-1,dr(91===e?e+2:40===e?e+1:e)))}function ur(e){for(;(Jn=rr())&&Jn<33;)nr();return sr(e)>2||sr(Jn)>3?"":" "}function hr(e,t){for(;--t&&nr()&&!(Jn<48||Jn>102||Jn>57&&Jn<65||Jn>70&&Jn<97););return or(e,ir()+(t<6&&32==rr()&&32==nr()))}function dr(e){for(;nr();)switch(Jn){case e:return Xn;case 34:case 39:34!==e&&39!==e&&dr(Jn);break;case 40:41===e&&dr(e);break;case 92:nr()}return Xn}function fr(e,t){for(;nr()&&e+Jn!==57&&(e+Jn!==84||47!==rr()););return"/*"+or(t,Xn-1)+"*"+Fn(47===e?e:nr())}function pr(e){for(;!sr(rr());)nr();return or(e,Xn)}var mr="-ms-",gr="-moz-",yr="-webkit-",vr="comm",_r="rule",br="decl",wr="@keyframes";function Er(e,t){for(var n="",r=Hn(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Cr(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case br:return e.return=e.return||e.value;case vr:return"";case wr:return e.return=e.value+"{"+Er(e.children,r)+"}";case _r:e.value=e.props.join(",")}return Wn(n=Er(e.children,r))?e.return=e.value+"{"+n+"}":""}function Sr(e){return function(t){t.root||(t=t.return)&&e(t)}}function kr(e){return lr(Tr("",null,null,null,[""],e=ar(e),0,[0],e))}function Tr(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,p=0,m=1,g=1,y=1,v=0,_="",b=i,w=o,E=r,C=_;g;)switch(p=v,v=nr()){case 40:if(108!=p&&58==Bn(C,h-1)){-1!=zn(C+=Vn(cr(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:C+=cr(v);break;case 9:case 10:case 13:case 32:C+=ur(p);break;case 92:C+=hr(ir()-1,7);continue;case 47:switch(rr()){case 42:case 47:Kn(xr(fr(nr(),ir()),t,n),l);break;default:C+="/"}break;case 123*m:a[c++]=Wn(C)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(C=Vn(C,/\f/g,"")),f>0&&Wn(C)-h&&Kn(f>32?Nr(C+";",r,n,h-1):Nr(Vn(C," ","")+";",r,n,h-2),l);break;case 59:C+=";";default:if(Kn(E=Ir(C,t,n,c,u,i,a,_,b=[],w=[],h),o),123===v)if(0===u)Tr(C,t,E,E,b,o,h,a,w);else switch(99===d&&110===Bn(C,3)?100:d){case 100:case 108:case 109:case 115:Tr(e,E,E,r&&Kn(Ir(e,E,E,0,0,i,a,_,i,b=[],h),w),i,w,h,a,r?b:w);break;default:Tr(C,E,E,E,[""],w,0,a,w)}}c=u=f=0,m=y=1,_=C="",h=s;break;case 58:h=1+Wn(C),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==tr())continue;switch(C+=Fn(v),v*m){case 38:y=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(Wn(C)-1)*y,y=1;break;case 64:45===rr()&&(C+=cr(nr())),d=rr(),u=h=Wn(_=C+=pr(ir())),v++;break;case 45:45===p&&2==Wn(C)&&(m=0)}}return o}function Ir(e,t,n,r,i,o,s,a,l,c,u){for(var h=i-1,d=0===i?o:[""],f=Hn(d),p=0,m=0,g=0;p<r;++p)for(var y=0,v=qn(e,h+1,h=Ln(m=s[p])),_=e;y<f;++y)(_=jn(m>0?d[y]+" "+v:Vn(v,/&\f/g,d[y])))&&(l[g++]=_);return $n(e,t,n,0===i?_r:a,l,c,u)}function xr(e,t,n){return $n(e,t,n,vr,Fn(Jn),qn(e,2,-2),0)}function Nr(e,t,n,r){return $n(e,t,n,br,qn(e,0,r),qn(e,r+1,-1),r)}var Rr=function(e,t,n){for(var r=0,i=0;r=i,i=rr(),38===r&&12===i&&(t[n]=1),!sr(i);)nr();return or(e,Xn)},Pr=function(e,t){return lr(function(e,t){var n=-1,r=44;do{switch(sr(r)){case 0:38===r&&12===rr()&&(t[n]=1),e[n]+=Rr(Xn-1,t,n);break;case 2:e[n]+=cr(r);break;case 4:if(44===r){e[++n]=58===rr()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Fn(r)}}while(r=nr());return e}(ar(e),t))},Ar=new WeakMap,Or=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ar.get(n))&&!r){Ar.set(e,!0);for(var i=[],o=Pr(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},Dr=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Mr(e,t){switch(function(e,t){return 45^Bn(e,0)?(((t<<2^Bn(e,0))<<2^Bn(e,1))<<2^Bn(e,2))<<2^Bn(e,3):0}(e,t)){case 5103:return yr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return yr+e+gr+e+mr+e+e;case 6828:case 4268:return yr+e+mr+e+e;case 6165:return yr+e+mr+"flex-"+e+e;case 5187:return yr+e+Vn(e,/(\w+).+(:[^]+)/,yr+"box-$1$2"+mr+"flex-$1$2")+e;case 5443:return yr+e+mr+"flex-item-"+Vn(e,/flex-|-self/,"")+e;case 4675:return yr+e+mr+"flex-line-pack"+Vn(e,/align-content|flex-|-self/,"")+e;case 5548:return yr+e+mr+Vn(e,"shrink","negative")+e;case 5292:return yr+e+mr+Vn(e,"basis","preferred-size")+e;case 6060:return yr+"box-"+Vn(e,"-grow","")+yr+e+mr+Vn(e,"grow","positive")+e;case 4554:return yr+Vn(e,/([^-])(transform)/g,"$1"+yr+"$2")+e;case 6187:return Vn(Vn(Vn(e,/(zoom-|grab)/,yr+"$1"),/(image-set)/,yr+"$1"),e,"")+e;case 5495:case 3959:return Vn(e,/(image-set\([^]*)/,yr+"$1$`$1");case 4968:return Vn(Vn(e,/(.+:)(flex-)?(.*)/,yr+"box-pack:$3"+mr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yr+e+e;case 4095:case 3583:case 4068:case 2532:return Vn(e,/(.+)-inline(.+)/,yr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wn(e)-1-t>6)switch(Bn(e,t+1)){case 109:if(45!==Bn(e,t+4))break;case 102:return Vn(e,/(.+:)(.+)-([^]+)/,"$1"+yr+"$2-$3$1"+gr+(108==Bn(e,t+3)?"$3":"$2-$3"))+e;case 115:return~zn(e,"stretch")?Mr(Vn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Bn(e,t+1))break;case 6444:switch(Bn(e,Wn(e)-3-(~zn(e,"!important")&&10))){case 107:return Vn(e,":",":"+yr)+e;case 101:return Vn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+yr+(45===Bn(e,14)?"inline-":"")+"box$3$1"+yr+"$2$3$1"+mr+"$2box$3")+e}break;case 5936:switch(Bn(e,t+11)){case 114:return yr+e+mr+Vn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return yr+e+mr+Vn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return yr+e+mr+Vn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return yr+e+mr+e+e}return e}var Lr=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case br:e.return=Mr(e.value,e.length);break;case wr:return Er([er(e,{value:Vn(e.value,"@","@"+yr)})],r);case _r:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Er([er(e,{props:[Vn(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Er([er(e,{props:[Vn(t,/:(plac\w+)/,":"+yr+"input-$1")]}),er(e,{props:[Vn(t,/:(plac\w+)/,":-moz-$1")]}),er(e,{props:[Vn(t,/:(plac\w+)/,mr+"input-$1")]})],r)}return""}))}}],Fr=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Lr;var i,o,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l=[Or,Dr];var c,u=[Cr,Sr((function(e){c.insert(e)}))],h=function(e){var t=Hn(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(l.concat(r,u));o=function(e,t,n,r){c=n,function(e){Er(kr(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Mn({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return d.sheet.hydrate(a),d};var Ur={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},jr=/[A-Z]|^ms/g,Vr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zr=function(e){return 45===e.charCodeAt(1)},Br=function(e){return null!=e&&"boolean"!==typeof e},qr=An((function(e){return zr(e)?e:e.replace(jr,"-$&").toLowerCase()})),Wr=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Vr,(function(e,t,n){return Kr={name:t,styles:n,next:Kr},t}))}return 1===Ur[e]||zr(e)||"number"!==typeof t||0===t?t:t+"px"};function Hr(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Kr={name:n.name,styles:n.styles,next:Kr},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Kr={name:r.name,styles:r.styles,next:Kr},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Hr(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":Br(s)&&(r+=qr(o)+":"+Wr(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=Hr(e,t,s);switch(o){case"animation":case"animationName":r+=qr(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var l=0;l<s.length;l++)Br(s[l])&&(r+=qr(o)+":"+Wr(o,s[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Kr,o=n(e);return Kr=i,Hr(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var Kr,Gr=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Qr=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Kr=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Hr(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=Hr(n,t,e[s]),r&&(i+=o[s]);Gr.lastIndex=0;for(var a,l="";null!==(a=Gr.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Kr}},Yr=!!$e.useInsertionEffect&&$e.useInsertionEffect,Xr=Yr||function(e){return e()},Jr=(Yr||Ze.useLayoutEffect,Ze.createContext("undefined"!==typeof HTMLElement?Fr({key:"css"}):null));Jr.Provider;var Zr=function(e){return(0,Ze.forwardRef)((function(t,n){var r=(0,Ze.useContext)(Jr);return e(t,r,n)}))};var $r=Ze.createContext({});var ei=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ti=Dn,ni=function(e){return"theme"!==e},ri=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ti:ni},ii=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},oi=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return ei(t,n,r),Xr((function(){return function(e,t,n){ei(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},si=function e(t,n){var r,i,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var a=ii(t,n,o),l=a||ri(s),c=!l("as");return function(){var u=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==u[0]||void 0===u[0].raw)h.push.apply(h,u);else{0,h.push(u[0][0]);for(var d=u.length,f=1;f<d;f++)h.push(u[f],u[0][f])}var p=Zr((function(e,t,n){var r=c&&e.as||s,o="",u=[],d=e;if(null==e.theme){for(var f in d={},e)d[f]=e[f];d.theme=Ze.useContext($r)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,u,e.className):null!=e.className&&(o=e.className+" ");var p=Qr(h.concat(u),t.registered,d);o+=t.key+"-"+p.name,void 0!==i&&(o+=" "+i);var m=c&&void 0===a?ri(r):l,g={};for(var y in e)c&&"as"===y||m(y)&&(g[y]=e[y]);return g.className=o,g.ref=n,Ze.createElement(Ze.Fragment,null,Ze.createElement(oi,{cache:t,serialized:p,isStringTag:"string"===typeof r}),Ze.createElement(r,g))}));return p.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=s,p.__emotion_styles=h,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+i}}),p.withComponent=function(t,r){return e(t,vn({},n,r,{shouldForwardProp:ii(p,r,!0)})).apply(void 0,h)},p}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){si[e]=si(e)}));function ai(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function li(e){if(!ai(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=li(e[n])})),t}function ci(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?vn({},e):e;return ai(e)&&ai(t)&&Object.keys(t).forEach((i=>{"__proto__"!==i&&(ai(t[i])&&i in e&&ai(e[i])?r[i]=ci(e[i],t[i],n):n.clone?r[i]=ai(t[i])?li(t[i]):t[i]:r[i]=t[i])})),r}const ui=["values","unit","step"],hi=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>vn({},e,{[t.key]:t.val})),{})};const di={borderRadius:4},fi={xs:0,sm:600,md:900,lg:1200,xl:1536},pi={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(fi[e],"px)")};function mi(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||pi;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||pi;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||fi).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function yi(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function vi(e){if("string"!==typeof e)throw new Error(Cn(7));return e.charAt(0).toUpperCase()+e.slice(1)}function _i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function bi(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:_i(e,n)||i,t&&(r=t(r,i,e)),r}const wi=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=_i(e.theme,r)||{};return mi(e,o,(e=>{let r=bi(s,i,e);return e===r&&"string"===typeof e&&(r=bi(s,i,"".concat(t).concat("default"===e?"":vi(e)),e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const Ei=function(e,t){return t?ci(e,t,{clone:!1}):e};const Ci={m:"margin",p:"padding"},Si={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ki={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ti=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!ki[e])return[e];e=ki[e]}const[t,n]=e.split(""),r=Ci[t],i=Si[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),Ii=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xi=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Ni=[...Ii,...xi];function Ri(e,t,n,r){var i;const o=null!=(i=_i(e,t,!1))?i:n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function Pi(e){return Ri(e,"spacing",8)}function Ai(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function Oi(e,t,n,r){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=Ai(t,n),e)),{})}(Ti(n),r);return mi(e,e[n],i)}function Di(e,t){const n=Pi(e.theme);return Object.keys(e).map((r=>Oi(e,t,r,n))).reduce(Ei,{})}function Mi(e){return Di(e,Ii)}function Li(e){return Di(e,xi)}function Fi(e){return Di(e,Ni)}Mi.propTypes={},Mi.filterProps=Ii,Li.propTypes={},Li.filterProps=xi,Fi.propTypes={},Fi.filterProps=Ni;const Ui=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?Ei(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function ji(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function Vi(e,t){return wi({prop:e,themeKey:"borders",transform:t})}const zi=Vi("border",ji),Bi=Vi("borderTop",ji),qi=Vi("borderRight",ji),Wi=Vi("borderBottom",ji),Hi=Vi("borderLeft",ji),Ki=Vi("borderColor"),Gi=Vi("borderTopColor"),Qi=Vi("borderRightColor"),Yi=Vi("borderBottomColor"),Xi=Vi("borderLeftColor"),Ji=Vi("outline",ji),Zi=Vi("outlineColor"),$i=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Ri(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Ai(t,e)});return mi(e,e.borderRadius,n)}return null};$i.propTypes={},$i.filterProps=["borderRadius"];Ui(zi,Bi,qi,Wi,Hi,Ki,Gi,Qi,Yi,Xi,$i,Ji,Zi);const eo=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Ri(e.theme,"spacing",8),n=e=>({gap:Ai(t,e)});return mi(e,e.gap,n)}return null};eo.propTypes={},eo.filterProps=["gap"];const to=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Ri(e.theme,"spacing",8),n=e=>({columnGap:Ai(t,e)});return mi(e,e.columnGap,n)}return null};to.propTypes={},to.filterProps=["columnGap"];const no=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Ri(e.theme,"spacing",8),n=e=>({rowGap:Ai(t,e)});return mi(e,e.rowGap,n)}return null};no.propTypes={},no.filterProps=["rowGap"];Ui(eo,to,no,wi({prop:"gridColumn"}),wi({prop:"gridRow"}),wi({prop:"gridAutoFlow"}),wi({prop:"gridAutoColumns"}),wi({prop:"gridAutoRows"}),wi({prop:"gridTemplateColumns"}),wi({prop:"gridTemplateRows"}),wi({prop:"gridTemplateAreas"}),wi({prop:"gridArea"}));function ro(e,t){return"grey"===t?t:e}Ui(wi({prop:"color",themeKey:"palette",transform:ro}),wi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ro}),wi({prop:"backgroundColor",themeKey:"palette",transform:ro}));function io(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const oo=wi({prop:"width",transform:io}),so=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||fi[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:io(t)}};return mi(e,e.maxWidth,t)}return null};so.filterProps=["maxWidth"];const ao=wi({prop:"minWidth",transform:io}),lo=wi({prop:"height",transform:io}),co=wi({prop:"maxHeight",transform:io}),uo=wi({prop:"minHeight",transform:io}),ho=(wi({prop:"size",cssProperty:"width",transform:io}),wi({prop:"size",cssProperty:"height",transform:io}),Ui(oo,so,ao,lo,co,uo,wi({prop:"boxSizing"})),{border:{themeKey:"borders",transform:ji},borderTop:{themeKey:"borders",transform:ji},borderRight:{themeKey:"borders",transform:ji},borderBottom:{themeKey:"borders",transform:ji},borderLeft:{themeKey:"borders",transform:ji},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ji},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$i},color:{themeKey:"palette",transform:ro},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ro},backgroundColor:{themeKey:"palette",transform:ro},p:{style:Li},pt:{style:Li},pr:{style:Li},pb:{style:Li},pl:{style:Li},px:{style:Li},py:{style:Li},padding:{style:Li},paddingTop:{style:Li},paddingRight:{style:Li},paddingBottom:{style:Li},paddingLeft:{style:Li},paddingX:{style:Li},paddingY:{style:Li},paddingInline:{style:Li},paddingInlineStart:{style:Li},paddingInlineEnd:{style:Li},paddingBlock:{style:Li},paddingBlockStart:{style:Li},paddingBlockEnd:{style:Li},m:{style:Mi},mt:{style:Mi},mr:{style:Mi},mb:{style:Mi},ml:{style:Mi},mx:{style:Mi},my:{style:Mi},margin:{style:Mi},marginTop:{style:Mi},marginRight:{style:Mi},marginBottom:{style:Mi},marginLeft:{style:Mi},marginX:{style:Mi},marginY:{style:Mi},marginInline:{style:Mi},marginInlineStart:{style:Mi},marginInlineEnd:{style:Mi},marginBlock:{style:Mi},marginBlockStart:{style:Mi},marginBlockEnd:{style:Mi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:eo},rowGap:{style:no},columnGap:{style:to},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:io},maxWidth:{style:so},minWidth:{transform:io},height:{transform:io},maxHeight:{transform:io},minHeight:{transform:io},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const fo=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=_i(n,a)||{};if(c)return c(i);return mi(i,t,(t=>{let n=bi(u,l,t);return t===n&&"string"===typeof t&&(n=bi(u,l,"".concat(e).concat("default"===t?"":vi(t)),t)),!1===s?n:{[s]:n}}))}return function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=null!=(r=o.unstable_sxConfig)?r:ho;function a(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=gi(o.breakpoints),a=Object.keys(i);let l=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],c=o,"function"===typeof a?a(c):a);var a,c;if(null!==i&&void 0!==i)if("object"===typeof i)if(s[n])l=Ei(l,e(n,i,o,s));else{const e=mi({theme:o},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?l=Ei(l,e):l[n]=t({sx:i,theme:o})}else l=Ei(l,e(n,i,o,s))})),yi(a,l)}return Array.isArray(i)?i.map(a):a(i)}}();fo.filterProps=["sx"];const po=fo,mo=["breakpoints","palette","spacing","shape"];const go=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=yn(e,mo),s=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=yn(e,ui),o=hi(t),s=Object.keys(o);function a(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function c(e,i){const o=s.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[s[o]]?t[s[o]]:i)-r/100).concat(n,")")}return vn({keys:s,values:o,up:a,down:l,between:c,only:function(e){return s.indexOf(e)+1<s.length?c(e,s[s.indexOf(e)+1]):a(e)},not:function(e){const t=s.indexOf(e);return 0===t?a(s[1]):t===s.length-1?l(s[t]):c(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}(t),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=Pi({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(r);let l=ci({breakpoints:s,direction:"ltr",components:{},palette:vn({mode:"light"},n),spacing:a,shape:vn({},di,i)},o);for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];return l=u.reduce(((e,t)=>ci(e,t)),l),l.unstable_sxConfig=vn({},ho,null==o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return po({sx:e,theme:this})},l},yo=["variant"];function vo(e){return 0===e.length}function _o(e){const{variant:t}=e,n=yn(e,yo);let r=t||"";return Object.keys(n).sort().forEach((t=>{r+="color"===t?vo(r)?e[t]:vi(e[t]):"".concat(vo(r)?t:vi(t)).concat(vi(e[t].toString()))})),r}const bo=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const wo=e=>{let t=0;const n={};return e&&e.forEach((e=>{let r="";"function"===typeof e.props?(r="callback".concat(t),t+=1):r=_o(e.props),n[r]=e.style})),n},Eo=(e,t,n)=>{const{ownerState:r={}}=e,i=[];let o=0;return n&&n.forEach((n=>{let s=!0;if("function"===typeof n.props){const t=vn({},e,r);s=n.props(t)}else Object.keys(n.props).forEach((t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(s=!1)}));s&&("function"===typeof n.props?i.push(t["callback".concat(o)]):i.push(t[_o(n.props)])),"function"===typeof n.props&&(o+=1)})),i};function Co(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const So=go(),ko=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function To(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function Io(e){return e?(t,n)=>n[e]:null}const xo=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:i}=e;const o=t(vn({},n,{theme:To(vn({},n,{defaultTheme:r,themeId:i}))}));let s;if(o&&o.variants&&(s=o.variants,delete o.variants),s){return[o,...Eo(n,wo(s),s)]}return o};function No(e,t){return vn({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const Ro={black:"#000",white:"#fff"},Po={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ao={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Oo={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Do={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Mo={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Lo={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Fo={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Uo=["mode","contrastThreshold","tonalOffset"],jo={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ro.white,default:Ro.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vo={text:{primary:Ro.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ro.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function zo(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Pn(e.main,i):"dark"===t&&(e.dark=Rn(e.main,o)))}function Bo(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=yn(e,Uo),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Mo[200],light:Mo[50],dark:Mo[400]}:{main:Mo[700],light:Mo[400],dark:Mo[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ao[200],light:Ao[50],dark:Ao[400]}:{main:Ao[500],light:Ao[300],dark:Ao[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Oo[500],light:Oo[300],dark:Oo[700]}:{main:Oo[700],light:Oo[400],dark:Oo[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Lo[400],light:Lo[300],dark:Lo[700]}:{main:Lo[700],light:Lo[500],dark:Lo[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Fo[400],light:Fo[300],dark:Fo[700]}:{main:Fo[800],light:Fo[500],dark:Fo[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Do[400],light:Do[300],dark:Do[700]}:{main:"#ed6c02",light:Do[500],dark:Do[900]}}(t);function h(e){const t=function(e,t){const n=xn(e),r=xn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Vo.text.primary)>=n?Vo.text.primary:jo.text.primary;return t}const d=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t=vn({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Cn(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Cn(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return zo(t,"light",o,r),zo(t,"dark",s,r),t.contrastText||(t.contrastText=h(t.main)),t},f={dark:Vo,light:jo};return ci(vn({common:vn({},Ro),mode:t,primary:d({color:o,name:"primary"}),secondary:d({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:u,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:c,name:"success"}),grey:Po,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r},f[t]),i)}const qo=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const Wo={textTransform:"uppercase"},Ho='"Roboto", "Helvetica", "Arial", sans-serif';function Ko(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=Ho,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:h}=n,d=yn(n,qo);const f=i/14,p=h||(e=>"".concat(e/c*f,"rem")),m=(e,t,n,i,o)=>{return vn({fontFamily:r,fontWeight:e,fontSize:p(t),lineHeight:n},r===Ho?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{},o,u);var s},g={h1:m(o,96,1.167,-1.5),h2:m(o,60,1.2,-.5),h3:m(s,48,1.167,0),h4:m(s,34,1.235,.25),h5:m(s,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(s,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(s,16,1.5,.15),body2:m(s,14,1.43,.15),button:m(a,14,1.75,.4,Wo),caption:m(s,12,1.66,.4),overline:m(s,12,2.66,1,Wo),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ci(vn({htmlFontSize:c,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},g),d,{clone:!1})}function Go(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const Qo=["none",Go(0,2,1,-1,0,1,1,0,0,1,3,0),Go(0,3,1,-2,0,2,2,0,0,1,5,0),Go(0,3,3,-2,0,3,4,0,0,1,8,0),Go(0,2,4,-1,0,4,5,0,0,1,10,0),Go(0,3,5,-1,0,5,8,0,0,1,14,0),Go(0,3,5,-1,0,6,10,0,0,1,18,0),Go(0,4,5,-2,0,7,10,1,0,2,16,1),Go(0,5,5,-3,0,8,10,1,0,3,14,2),Go(0,5,6,-3,0,9,12,1,0,3,16,2),Go(0,6,6,-3,0,10,14,1,0,4,18,3),Go(0,6,7,-4,0,11,15,1,0,4,20,3),Go(0,7,8,-4,0,12,17,2,0,5,22,4),Go(0,7,8,-4,0,13,19,2,0,5,24,4),Go(0,7,9,-4,0,14,21,2,0,5,26,4),Go(0,8,9,-5,0,15,22,2,0,6,28,5),Go(0,8,10,-5,0,16,24,2,0,6,30,5),Go(0,8,11,-5,0,17,26,2,0,6,32,5),Go(0,9,11,-5,0,18,28,2,0,7,34,6),Go(0,9,12,-6,0,19,29,2,0,7,36,6),Go(0,10,13,-6,0,20,31,3,0,8,38,7),Go(0,10,13,-6,0,21,33,3,0,8,40,7),Go(0,10,14,-6,0,22,35,3,0,8,42,7),Go(0,11,14,-7,0,23,36,3,0,9,44,8),Go(0,11,15,-7,0,24,38,3,0,9,46,8)],Yo=["duration","easing","delay"],Xo={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Jo={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Zo(e){return"".concat(Math.round(e),"ms")}function $o(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function es(e){const t=vn({},Xo,e.easing),n=vn({},Jo,e.duration);return vn({getAutoHeightDuration:$o,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:s=0}=r;yn(r,Yo);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:Zo(i)," ").concat(o," ").concat("string"===typeof s?s:Zo(s)))).join(",")}},e,{easing:t,duration:n})}const ts={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ns=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function rs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,o=yn(e,ns);if(e.vars)throw new Error(Cn(18));const s=Bo(n),a=go(e);let l=ci(a,{mixins:No(a.breakpoints,t),palette:s,shadows:Qo.slice(),typography:Ko(s,i),transitions:es(r),zIndex:vn({},ts)});l=ci(l,o);for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];return l=u.reduce(((e,t)=>ci(e,t)),l),l.unstable_sxConfig=vn({},ho,null==o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return po({sx:e,theme:this})},l}const is=rs(),os="$$material",ss=e=>Co(e)&&"classes"!==e,as=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=So,rootShouldForwardProp:r=Co,slotShouldForwardProp:i=Co}=e,o=e=>po(vn({},e,{theme:To(vn({},e,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:h=Io(ko(l))}=s,d=yn(s,bo),f=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,p=u||!1;let m=Co;"Root"===l||"root"===l?m=r:l?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=function(e,t){return si(e,t)}(e,vn({shouldForwardProp:m,label:undefined},d)),y=function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];const c=s?s.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>xo({styledArg:e,props:r,defaultTheme:n,themeId:t});if(ai(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let r=e;return Eo(n,wo(t),t).forEach((e=>{r=ci(r,e)})),r}),n}return e})):[];let u=r;if(ai(r)){let e;r&&r.variants&&(e=r.variants,delete u.variants,u=t=>{let n=r;return Eo(t,wo(e),e).forEach((e=>{n=ci(n,e)})),n})}else"function"===typeof r&&r.__emotion_real!==r&&(u=e=>xo({styledArg:r,props:e,defaultTheme:n,themeId:t}));a&&h&&c.push((e=>{const r=To(vn({},e,{defaultTheme:n,themeId:t})),i=((e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null)(a,r);if(i){const t={};return Object.entries(i).forEach((n=>{let[i,o]=n;t[i]="function"===typeof o?o(vn({},e,{theme:r})):o})),h(e,t)}return null})),a&&!f&&c.push((e=>{const r=To(vn({},e,{defaultTheme:n,themeId:t}));return((e,t,n,r)=>{var i;const o=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return Eo(e,t,o)})(e,((e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),wo(n)})(a,r),r,a)})),p||c.push(o);const d=c.length-s.length;if(Array.isArray(r)&&d>0){const e=new Array(d).fill("");u=[...r,...e],u.raw=[...r.raw,...e]}const m=g(u,...c);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(y.withConfig=g.withConfig),y}}({themeId:os,defaultTheme:is,rootShouldForwardProp:ss}),ls=as;const cs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=Ze.useContext($r);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},us=go();const hs=function(){return cs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:us)};function ds(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=hs(r);i&&(o=o[i]||o);const s=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?wn(t.components[n].defaultProps,r):r}({theme:o,name:n,props:t});return s}function fs(e){let{props:t,name:n}=e;return ds({props:t,name:n,defaultTheme:is,themeId:os})}function ps(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function ms(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ze.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{ps(t,e)}))}),t)}const gs=ms,ys="undefined"!==typeof window?Ze.useLayoutEffect:Ze.useEffect;const vs=function(e){const t=Ze.useRef(e);return ys((()=>{t.current=e})),Ze.useRef((function(){return(0,t.current)(...arguments)})).current},_s=vs;let bs,ws=!0,Es=!1;const Cs={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ss(e){e.metaKey||e.altKey||e.ctrlKey||(ws=!0)}function ks(){ws=!1}function Ts(){"hidden"===this.visibilityState&&Es&&(ws=!0)}function Is(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(th){}return ws||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!Cs[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const xs=function(){const e=Ze.useCallback((e=>{null!=e&&function(e){e.addEventListener("keydown",Ss,!0),e.addEventListener("mousedown",ks,!0),e.addEventListener("pointerdown",ks,!0),e.addEventListener("touchstart",ks,!0),e.addEventListener("visibilitychange",Ts,!0)}(e.ownerDocument)}),[]),t=Ze.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Is(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Es=!0,window.clearTimeout(bs),bs=window.setTimeout((()=>{Es=!1}),100),t.current=!1,!0)},ref:e}};function Ns(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Rs(e,t){return Rs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rs(e,t)}function Ps(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Rs(e,t)}const As=Ze.createContext(null);function Os(e,t){var n=Object.create(null);return e&&Ze.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,Ze.isValidElement)(e)?t(e):e}(e)})),n}function Ds(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Ms(e,t,n){var r=Os(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(t,r);return Object.keys(i).forEach((function(o){var s=i[o];if((0,Ze.isValidElement)(s)){var a=o in t,l=o in r,c=t[o],u=(0,Ze.isValidElement)(c)&&!c.props.in;!l||a&&!u?l||!a||u?l&&a&&(0,Ze.isValidElement)(c)&&(i[o]=(0,Ze.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:Ds(s,"exit",e),enter:Ds(s,"enter",e)})):i[o]=(0,Ze.cloneElement)(s,{in:!1}):i[o]=(0,Ze.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:Ds(s,"exit",e),enter:Ds(s,"enter",e)})}})),i}var Ls=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Fs=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Ps(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,Os(n.children,(function(e){return(0,Ze.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Ds(e,"appear",n),enter:Ds(e,"enter",n),exit:Ds(e,"exit",n)})}))):Ms(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=Os(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=vn({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=yn(e,["component","childFactory"]),i=this.state.contextValue,o=Ls(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?Ze.createElement(As.Provider,{value:i},o):Ze.createElement(As.Provider,{value:i},Ze.createElement(t,r,o))},t}(Ze.Component);Fs.propTypes={},Fs.defaultProps={component:"div",childFactory:function(e){return e}};const Us=Fs;n(110);function js(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qr(t)}var Vs=function(){var e=js.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var zs=n(184);const Bs=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=e,[u,h]=Ze.useState(!1),d=bn(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:s,height:s,top:-s/2+o,left:-s/2+i},p=bn(n.child,u&&n.childLeaving,r&&n.childPulsate);return a||u||h(!0),Ze.useEffect((()=>{if(!a&&null!=l){const e=setTimeout(l,c);return()=>{clearTimeout(e)}}}),[l,a,c]),(0,zs.jsx)("span",{className:d,style:f,children:(0,zs.jsx)("span",{className:p})})},qs=e=>e,Ws=(()=>{let e=qs;return{configure(t){e=t},generate:t=>e(t),reset(){e=qs}}})(),Hs={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ks(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=Hs[t];return r?"".concat(n,"-").concat(r):"".concat(Ws.generate(e),"-").concat(t)}function Gs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=Ks(e,t,n)})),r}const Qs=Gs("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Ys,Xs,Js,Zs;const $s=["center","classes","className"];let ea,ta,na,ra;const ia=Vs(ea||(ea=Ys||(Ys=Ns(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),oa=Vs(ta||(ta=Xs||(Xs=Ns(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),sa=Vs(na||(na=Js||(Js=Ns(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),aa=ls("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),la=ls(Bs,{name:"MuiTouchRipple",slot:"Ripple"})(ra||(ra=Zs||(Zs=Ns(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Qs.rippleVisible,ia,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Qs.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),Qs.child,Qs.childLeaving,oa,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Qs.childPulsate,sa,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),ca=Ze.forwardRef((function(e,t){const n=fs({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:i={},className:o}=n,s=yn(n,$s),[a,l]=Ze.useState([]),c=Ze.useRef(0),u=Ze.useRef(null);Ze.useEffect((()=>{u.current&&(u.current(),u.current=null)}),[a]);const h=Ze.useRef(!1),d=Ze.useRef(0),f=Ze.useRef(null),p=Ze.useRef(null);Ze.useEffect((()=>()=>{d.current&&clearTimeout(d.current)}),[]);const m=Ze.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:s}=e;l((e=>[...e,(0,zs.jsx)(la,{classes:{ripple:bn(i.ripple,Qs.ripple),rippleVisible:bn(i.rippleVisible,Qs.rippleVisible),ripplePulsate:bn(i.ripplePulsate,Qs.ripplePulsate),child:bn(i.child,Qs.child),childLeaving:bn(i.childLeaving,Qs.childLeaving),childPulsate:bn(i.childPulsate,Qs.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},c.current)])),c.current+=1,u.current=s}),[i]),g=Ze.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:o=r||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const a=s?null:p.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,g;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)g=Math.sqrt((2*l.width**2+l.height**2)/3),g%2===0&&(g+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;g=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===f.current&&(f.current=()=>{m({pulsate:i,rippleX:c,rippleY:u,rippleSize:g,cb:n})},d.current=setTimeout((()=>{f.current&&(f.current(),f.current=null)}),80)):m({pulsate:i,rippleX:c,rippleY:u,rippleSize:g,cb:n})}),[r,m]),y=Ze.useCallback((()=>{g({},{pulsate:!0})}),[g]),v=Ze.useCallback(((e,t)=>{if(clearTimeout(d.current),"touchend"===(null==e?void 0:e.type)&&f.current)return f.current(),f.current=null,void(d.current=setTimeout((()=>{v(e,t)})));f.current=null,l((e=>e.length>0?e.slice(1):e)),u.current=t}),[]);return Ze.useImperativeHandle(t,(()=>({pulsate:y,start:g,stop:v})),[y,g,v]),(0,zs.jsx)(aa,vn({className:bn(Qs.root,i.root,o),ref:p},s,{children:(0,zs.jsx)(Us,{component:null,exit:!0,children:a})}))})),ua=ca;function ha(e){return Ks("MuiButtonBase",e)}const da=Gs("MuiButtonBase",["root","disabled","focusVisible"]),fa=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],pa=ls("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(da.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ma=Ze.forwardRef((function(e,t){const n=fs({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:i=!1,children:o,className:s,component:a="button",disabled:l=!1,disableRipple:c=!1,disableTouchRipple:u=!1,focusRipple:h=!1,LinkComponent:d="a",onBlur:f,onClick:p,onContextMenu:m,onDragLeave:g,onFocus:y,onFocusVisible:v,onKeyDown:_,onKeyUp:b,onMouseDown:w,onMouseLeave:E,onMouseUp:C,onTouchEnd:S,onTouchMove:k,onTouchStart:T,tabIndex:I=0,TouchRippleProps:x,touchRippleRef:N,type:R}=n,P=yn(n,fa),A=Ze.useRef(null),O=Ze.useRef(null),D=gs(O,N),{isFocusVisibleRef:M,onFocus:L,onBlur:F,ref:U}=xs(),[j,V]=Ze.useState(!1);l&&j&&V(!1),Ze.useImperativeHandle(r,(()=>({focusVisible:()=>{V(!0),A.current.focus()}})),[]);const[z,B]=Ze.useState(!1);Ze.useEffect((()=>{B(!0)}),[]);const q=z&&!c&&!l;function W(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return _s((r=>{t&&t(r);return!n&&O.current&&O.current[e](r),!0}))}Ze.useEffect((()=>{j&&h&&!c&&z&&O.current.pulsate()}),[c,h,j,z]);const H=W("start",w),K=W("stop",m),G=W("stop",g),Q=W("stop",C),Y=W("stop",(e=>{j&&e.preventDefault(),E&&E(e)})),X=W("start",T),J=W("stop",S),Z=W("stop",k),$=W("stop",(e=>{F(e),!1===M.current&&V(!1),f&&f(e)}),!1),ee=_s((e=>{A.current||(A.current=e.currentTarget),L(e),!0===M.current&&(V(!0),v&&v(e)),y&&y(e)})),te=()=>{const e=A.current;return a&&"button"!==a&&!("A"===e.tagName&&e.href)},ne=Ze.useRef(!1),re=_s((e=>{h&&!ne.current&&j&&O.current&&" "===e.key&&(ne.current=!0,O.current.stop(e,(()=>{O.current.start(e)}))),e.target===e.currentTarget&&te()&&" "===e.key&&e.preventDefault(),_&&_(e),e.target===e.currentTarget&&te()&&"Enter"===e.key&&!l&&(e.preventDefault(),p&&p(e))})),ie=_s((e=>{h&&" "===e.key&&O.current&&j&&!e.defaultPrevented&&(ne.current=!1,O.current.stop(e,(()=>{O.current.pulsate(e)}))),b&&b(e),p&&e.target===e.currentTarget&&te()&&" "===e.key&&!e.defaultPrevented&&p(e)}));let oe=a;"button"===oe&&(P.href||P.to)&&(oe=d);const se={};"button"===oe?(se.type=void 0===R?"button":R,se.disabled=l):(P.href||P.to||(se.role="button"),l&&(se["aria-disabled"]=l));const ae=gs(t,U,A);const le=vn({},n,{centerRipple:i,component:a,disabled:l,disableRipple:c,disableTouchRipple:u,focusRipple:h,tabIndex:I,focusVisible:j}),ce=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=En({root:["root",t&&"disabled",n&&"focusVisible"]},ha,i);return n&&r&&(o.root+=" ".concat(r)),o})(le);return(0,zs.jsxs)(pa,vn({as:oe,className:bn(ce.root,s),ownerState:le,onBlur:$,onClick:p,onContextMenu:K,onFocus:ee,onKeyDown:re,onKeyUp:ie,onMouseDown:H,onMouseLeave:Y,onMouseUp:Q,onDragLeave:G,onTouchEnd:J,onTouchMove:Z,onTouchStart:X,ref:ae,tabIndex:l?-1:I,type:R},se,P,{children:[o,q?(0,zs.jsx)(ua,vn({ref:D,center:i},x)):null]}))})),ga=ma,ya=vi;function va(e){return Ks("MuiButton",e)}const _a=Gs("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const ba=Ze.createContext({});const wa=Ze.createContext(void 0),Ea=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Ca=e=>vn({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),Sa=ls(ga,{shouldForwardProp:e=>ss(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(ya(n.color))],t["size".concat(ya(n.size))],t["".concat(n.variant,"Size").concat(ya(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return vn({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":vn({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Nn(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Nn(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Nn(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":vn({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(_a.focusVisible)]:vn({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(_a.disabled)]:vn({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat(Nn(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(_a.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(_a.disabled)]:{boxShadow:"none"}}})),ka=ls("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(ya(n.size))]]}})((e=>{let{ownerState:t}=e;return vn({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Ca(t))})),Ta=ls("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(ya(n.size))]]}})((e=>{let{ownerState:t}=e;return vn({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Ca(t))})),Ia=Ze.forwardRef((function(e,t){const n=Ze.useContext(ba),r=Ze.useContext(wa),i=fs({props:wn(n,e),name:"MuiButton"}),{children:o,color:s="primary",component:a="button",className:l,disabled:c=!1,disableElevation:u=!1,disableFocusRipple:h=!1,endIcon:d,focusVisibleClassName:f,fullWidth:p=!1,size:m="medium",startIcon:g,type:y,variant:v="text"}=i,_=yn(i,Ea),b=vn({},i,{color:s,component:a,disabled:c,disableElevation:u,disableFocusRipple:h,fullWidth:p,size:m,type:y,variant:v}),w=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e;return vn({},s,En({root:["root",o,"".concat(o).concat(ya(t)),"size".concat(ya(i)),"".concat(o,"Size").concat(ya(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(ya(i))],endIcon:["endIcon","iconSize".concat(ya(i))]},va,s))})(b),E=g&&(0,zs.jsx)(ka,{className:w.startIcon,ownerState:b,children:g}),C=d&&(0,zs.jsx)(Ta,{className:w.endIcon,ownerState:b,children:d}),S=r||"";return(0,zs.jsxs)(Sa,vn({ownerState:b,className:bn(n.className,w.root,l,S),component:a,disabled:c,focusRipple:!h,focusVisibleClassName:bn(w.focusVisible,f),ref:t,type:y},_,{classes:w,children:[E,o,C]}))})),xa=Ia;function Na(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ra(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pa=Ra,Aa=new I("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oa=new ie("@firebase/auth");function Da(e){if(Oa.logLevel<=$.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Oa.error("Auth (".concat(Me,"): ").concat(e),...n)}}function Ma(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ja(e,...n)}function La(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ja(e,...n)}function Fa(e,t,n){const r=Object.assign(Object.assign({},Pa()),{[t]:n});return new I("auth","Firebase",r).create(t,{appName:e.name})}function Ua(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ma(e,"argument-error"),Fa(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ja(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Aa.create(e,...n)}function Va(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ja(t,...r)}}function za(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Da(t),new Error(t)}function Ba(e,t){e||za(t)}function qa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Wa(){return"http:"===Ha()||"https:"===Ha()}function Ha(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ka(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Wa()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ga{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ba(t>e,"Short delay should be less than long delay!"),this.isMobile=C()||S()}get(){return Ka()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qa(e,t){Ba(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ya{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ja=new Ga(3e4,6e4);function Za(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function $a(e,t,n,r){return el(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=U(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Ya.fetch()(nl(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function el(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Xa),t);try{const t=new il(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ol(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ol(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw ol(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw ol(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Fa(e,a,s);Ma(e,a)}}catch(i){if(i instanceof T)throw i;Ma(e,"network-request-failed",{message:String(i)})}}async function tl(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await $a(e,t,n,r,i);return"mfaPendingCredential"in o&&Ma(e,"multi-factor-auth-required",{_serverResponse:o}),o}function nl(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qa(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function rl(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class il{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(La(this.auth,"network-request-failed"))),Ja.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ol(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=La(e,t,r);return i.customData._tokenResponse=n,i}function sl(e){return void 0!==e&&void 0!==e.enterprise}class al{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rl(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function ll(e,t){return $a(e,"GET","/v2/recaptchaConfig",Za(e,t))}function cl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function ul(e){return 1e3*Number(e)}function hl(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Da("JWT malformed, contained fewer than 3 sections"),null;try{const e=h(n);return e?JSON.parse(e):(Da("Failed to decode base64 JWT payload"),null)}catch(i){return Da("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function dl(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof T&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class fl{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class pl{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ml(e){var t;const n=e.auth,r=await e.getIdToken(),i=await dl(e,async function(e,t){return $a(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Va(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Na(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pl(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Va(e.idToken,"internal-error"),Va("undefined"!==typeof e.idToken,"internal-error"),Va("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=hl(e);return Va(t,"internal-error"),Va("undefined"!==typeof t.exp,"internal-error"),Va("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Va(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await el(e,{},(async()=>{const n=U({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=nl(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Ya.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new gl;return n&&(Va("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Va("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Va("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return za("not implemented")}}function yl(e,t){Va("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class vl{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Na(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pl(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await dl(this,this.stsTokenManager.getToken(this.auth,e));return Va(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=K(e),r=await n.getIdToken(t),i=hl(r);Va(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:cl(ul(i.auth_time)),issuedAtTime:cl(ul(i.iat)),expirationTime:cl(ul(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=K(e);await ml(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Va(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Va(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ml(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await dl(this,async function(e,t){return $a(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:E}=t;Va(v&&E,e,"internal-error");const C=gl.fromJSON(this.name,E);Va("string"===typeof v,e,"internal-error"),yl(u,e.name),yl(h,e.name),Va("boolean"===typeof _,e,"internal-error"),Va("boolean"===typeof b,e,"internal-error"),yl(d,e.name),yl(f,e.name),yl(p,e.name),yl(m,e.name),yl(g,e.name),yl(y,e.name);const S=new vl({uid:v,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:C,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(S.providerData=w.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new gl;r.updateFromServerResponse(t);const i=new vl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ml(i),i}}const _l=new Map;function bl(e){Ba(e instanceof Function,"Expected a class definition");let t=_l.get(e);return t?(Ba(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_l.set(e,t),t)}class wl{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wl.type="NONE";const El=wl;function Cl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Sl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Cl(this.userKey,r.apiKey,i),this.fullPersistenceKey=Cl("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Sl(bl(El),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||bl(El);const o=Cl(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=vl._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Sl(i,e,n)):new Sl(i,e,n)}}function kl(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pl(t))return"Blackberry";if(Al(t))return"Webos";if(Il(t))return"Safari";if((t.includes("chrome/")||xl(t))&&!t.includes("edge/"))return"Chrome";if(Rl(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Tl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/firefox\//i.test(e)}function Il(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:E()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/crios\//i.test(e)}function Nl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/iemobile/i.test(e)}function Rl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/android/i.test(e)}function Pl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/blackberry/i.test(e)}function Al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/webos/i.test(e)}function Ol(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Dl(){return function(){const e=E();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ml(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return Ol(e)||Rl(e)||Al(e)||Pl(e)||/windows phone/i.test(e)||Nl(e)}function Ll(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=kl(E());break;case"Worker":t="".concat(kl(E()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Me,"/").concat(r)}class Fl{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Ul{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class jl{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zl(this),this.idTokenSubscription=new zl(this),this.beforeStateQueue=new Fl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Aa,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bl(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Va(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ml(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?K(e):null;return t&&Va(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Va(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(bl(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return $a(e,"GET","/v2/passwordPolicy",Za(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ul(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new I("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return $a(e,"POST","/v2/accounts:revokeToken",Za(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bl(e)||this._popupRedirectResolver;Va(t,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[bl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Va(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Va(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ll(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Oa.logLevel<=$.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Oa.warn("Auth (".concat(Me,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Vl(e){return K(e)}class zl{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new B(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Va(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bl(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=La("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ql(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Wl{constructor(e){this.type="recaptcha-enterprise",this.auth=Vl(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;sl(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ll(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new al(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&sl(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Bl("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Hl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Wl(e);let o;try{o=await i.verify(n)}catch(th){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Kl(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Hl(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Hl(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Gl(e,t,n){const r=Vl(e);Va(r._canInitEmulator,r,"emulator-config-failed"),Va(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ql(t),{host:s,port:a}=function(e){const t=Ql(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Yl(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Yl(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ql(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yl(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Xl{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return za("not implemented")}_getIdTokenResponse(e){return za("not implemented")}_linkToIdToken(e,t){return za("not implemented")}_getReauthenticationResolver(e){return za("not implemented")}}async function Jl(e,t){return $a(e,"POST","/v1/accounts:signUp",t)}async function Zl(e,t){return tl(e,"POST","/v1/accounts:signInWithPassword",Za(e,t))}class $l extends Xl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new $l(e,t,"password")}static _fromEmailAndCode(e,t){return new $l(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Kl(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zl);case"emailLink":return async function(e,t){return tl(e,"POST","/v1/accounts:signInWithEmailLink",Za(e,t))}(e,{email:this._email,oobCode:this._password});default:Ma(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Kl(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jl);case"emailLink":return async function(e,t){return tl(e,"POST","/v1/accounts:signInWithEmailLink",Za(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ma(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ec(e,t){return tl(e,"POST","/v1/accounts:signInWithIdp",Za(e,t))}class tc extends Xl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ma("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Na(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new tc(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return ec(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ec(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ec(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=U(t)}return e}}const nc={USER_NOT_FOUND:"user-not-found"};class rc extends Xl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new rc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new rc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return tl(e,"POST","/v1/accounts:signInWithPhoneNumber",Za(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await tl(e,"POST","/v1/accounts:signInWithPhoneNumber",Za(e,t));if(n.temporaryProof)throw ol(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return tl(e,"POST","/v1/accounts:signInWithPhoneNumber",Za(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),nc)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new rc({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ic{constructor(e){var t,n,r,i,o,s;const a=j(V(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Va(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=j(V(e)).link,n=t?j(V(t)).deep_link_id:null,r=j(V(e)).deep_link_id;return(r?j(V(r)).link:null)||r||n||t||e}(e);try{return new ic(t)}catch(n){return null}}}class oc{constructor(){this.providerId=oc.PROVIDER_ID}static credential(e,t){return $l._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ic.parseLink(t);return Va(n,"argument-error"),$l._fromEmailAndCode(e,n.code,n.tenantId)}}oc.PROVIDER_ID="password",oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class sc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ac extends sc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lc extends ac{constructor(){super("facebook.com")}static credential(e){return tc._fromParams({providerId:lc.PROVIDER_ID,signInMethod:lc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lc.credentialFromTaggedObject(e)}static credentialFromError(e){return lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return lc.credential(t.oauthAccessToken)}catch(n){return null}}}lc.FACEBOOK_SIGN_IN_METHOD="facebook.com",lc.PROVIDER_ID="facebook.com";class cc extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tc._fromParams({providerId:cc.PROVIDER_ID,signInMethod:cc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cc.credentialFromTaggedObject(e)}static credentialFromError(e){return cc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return cc.credential(n,r)}catch(i){return null}}}cc.GOOGLE_SIGN_IN_METHOD="google.com",cc.PROVIDER_ID="google.com";class uc extends ac{constructor(){super("github.com")}static credential(e){return tc._fromParams({providerId:uc.PROVIDER_ID,signInMethod:uc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uc.credentialFromTaggedObject(e)}static credentialFromError(e){return uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return uc.credential(t.oauthAccessToken)}catch(n){return null}}}uc.GITHUB_SIGN_IN_METHOD="github.com",uc.PROVIDER_ID="github.com";class hc extends ac{constructor(){super("twitter.com")}static credential(e,t){return tc._fromParams({providerId:hc.PROVIDER_ID,signInMethod:hc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hc.credentialFromTaggedObject(e)}static credentialFromError(e){return hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return hc.credential(n,r)}catch(i){return null}}}hc.TWITTER_SIGN_IN_METHOD="twitter.com",hc.PROVIDER_ID="twitter.com";class dc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await vl._fromIdTokenResponse(e,n,r),o=fc(n);return new dc({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=fc(n);return new dc({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function fc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class pc extends T{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,pc.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new pc(e,t,n,r)}}function mc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw pc._fromErrorAndOperation(e,n,t,r);throw n}))}async function gc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await dl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return dc._forOperation(e,"link",r)}async function yc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await dl(e,mc(r,i,t,e),n);Va(o.idToken,r,"internal-error");const s=hl(o.idToken);Va(s,r,"internal-error");const{sub:a}=s;return Va(e.uid===a,r,"user-mismatch"),dc._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&Ma(r,"user-mismatch"),o}}async function vc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await mc(e,r,t),o=await dc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const _c="__sak";class bc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_c,"1"),this.storage.removeItem(_c),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class wc extends bc{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=E();return Il(e)||Ol(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ml(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Dl()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wc.type="LOCAL";const Ec=wc;class Cc extends bc{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Cc.type="SESSION";const Sc=Cc;class kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new kc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Tc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}kc.receivers=[];class Ic{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Tc("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function xc(){return window}function Nc(){return"undefined"!==typeof xc().WorkerGlobalScope&&"function"===typeof xc().importScripts}const Rc="firebaseLocalStorageDb",Pc="firebaseLocalStorage",Ac="fbase_key";class Oc{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Dc(e,t){return e.transaction([Pc],t?"readwrite":"readonly").objectStore(Pc)}function Mc(){const e=indexedDB.open(Rc,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Pc,{keyPath:Ac})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Pc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Rc);return new Oc(e).toPromise()}(),t(await Mc()))}))}))}async function Lc(e,t,n){const r=Dc(e,!0).put({[Ac]:t,value:n});return new Oc(r).toPromise()}function Fc(e,t){const n=Dc(e,!0).delete(t);return new Oc(n).toPromise()}class Uc{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Mc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kc._getInstance(Nc()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ic(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mc();return await Lc(e,_c,"1"),await Fc(e,_c),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Lc(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Dc(e,!1).get(t),r=await new Oc(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Fc(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Dc(e,!1).getAll();return new Oc(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Uc.type="LOCAL";const jc=Uc;ql("rcb"),new Ga(3e4,6e4);const Vc="recaptcha";async function zc(e,t,n){var r;const i=await n.verify();try{let o;if(Va("string"===typeof i,e,"argument-error"),Va(n.type===Vc,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Va("enroll"===t.type,e,"internal-error");const n=await function(e,t){return $a(e,"POST","/v2/accounts/mfaEnrollment:start",Za(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Va("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Va(n,e,"missing-multi-factor-info");const s=await function(e,t){return $a(e,"POST","/v2/accounts/mfaSignIn:start",Za(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return $a(e,"POST","/v1/accounts:sendVerificationCode",Za(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Bc{constructor(e){this.providerId=Bc.PROVIDER_ID,this.auth=Vl(e)}verifyPhoneNumber(e,t){return zc(this.auth,e,K(t))}static credential(e,t){return rc._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Bc.credentialFromTaggedObject(t)}static credentialFromError(e){return Bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?rc._fromTokenResponse(n,r):null}}function qc(e,t){return t?bl(t):(Va(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bc.PROVIDER_ID="phone",Bc.PHONE_SIGN_IN_METHOD="phone";class Wc extends Xl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ec(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ec(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Hc(e){return vc(e.auth,new Wc(e),e.bypassAuthState)}function Kc(e){const{auth:t,user:n}=e;return Va(n,t,"internal-error"),yc(n,new Wc(e),e.bypassAuthState)}async function Gc(e){const{auth:t,user:n}=e;return Va(n,t,"internal-error"),gc(n,new Wc(e),e.bypassAuthState)}class Qc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hc;case"linkViaPopup":case"linkViaRedirect":return Gc;case"reauthViaPopup":case"reauthViaRedirect":return Kc;default:Ma(this.auth,"internal-error")}}resolve(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yc=new Ga(2e3,1e4);class Xc extends Qc{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Xc.currentPopupAction&&Xc.currentPopupAction.cancel(),Xc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Va(e,this.auth,"internal-error"),e}async onExecution(){Ba(1===this.filter.length,"Popup operations only handle one event");const e=Tc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(La(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(La(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(La(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Yc.get())};e()}}Xc.currentPopupAction=null;const Jc="pendingRedirect",Zc=new Map;class $c extends Qc{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=nu(t),r=tu(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function eu(e,t){Zc.set(e._key(),t)}function tu(e){return bl(e._redirectPersistence)}function nu(e){return Cl(Jc,e.config.apiKey,e.name)}async function ru(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Vl(e),i=qc(r,t),o=new $c(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class iu{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return su(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!su(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(La(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ou(e))}saveEventToCache(e){this.cachedEventUids.add(ou(e)),this.lastProcessedEventTime=Date.now()}}function ou(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function su(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const au=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lu=/^https?/;async function cu(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return $a(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(uu(r))return}catch(n){}Ma(e,"unauthorized-domain")}function uu(e){const t=qa(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!lu.test(n))return!1;if(au.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const hu=new Ga(3e4,6e4);function du(){const e=xc().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let fu=null;function pu(e){return fu=fu||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){du(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{du(),n(La(e,"network-request-failed"))},timeout:hu.get()})}if(null===(i=null===(r=xc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=xc().gapi)||void 0===o?void 0:o.load)){const t=ql("iframefcb");return xc()[t]=()=>{gapi.load?s():n(La(e,"network-request-failed"))},Bl("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw fu=null,e}))}(e),fu}const mu=new Ga(5e3,15e3),gu="__/auth/iframe",yu="emulator/auth/iframe",vu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_u=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bu(e){const t=e.config;Va(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qa(t,yu):"https://".concat(e.config.authDomain,"/").concat(gu),r={apiKey:t.apiKey,appName:e.name,v:Me},i=_u.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(U(r).slice(1))}const wu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eu{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wu),{width:r.toString(),height:i.toString(),top:o,left:s}),c=E().toLowerCase();n&&(a=xl(c)?"_blank":n),Tl(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Ol(arguments.length>0&&void 0!==arguments[0]?arguments[0]:E())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Eu(null);const h=window.open(t||"",a,u);Va(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Eu(h)}const Su="__/auth/handler",ku="emulator/auth/handler",Tu=encodeURIComponent("fac");async function Iu(e,t,n,r,i,o){Va(e.config.authDomain,e,"auth-domain-config-required"),Va(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Me,eventId:i};if(t instanceof sc){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",D(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof ac){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Tu,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Su);return Qa(t,ku)}(e),"?").concat(U(a).slice(1)).concat(c)}const xu="webStorageSupport";const Nu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sc,this._completeRedirectFn=ru,this._overrideRedirectResult=eu}async _openPopup(e,t,n,r){var i;Ba(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Cu(e,await Iu(e,t,n,qa(),r),Tc())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){xc().location.href=e}(await Iu(e,t,n,qa(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ba(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await pu(e),n=xc().gapi;return Va(n,e,"internal-error"),t.open({where:document.body,url:bu(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vu,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=La(e,"network-request-failed"),o=xc().setTimeout((()=>{r(i)}),mu.get());function s(){xc().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new iu(e);return t.register("authEvent",(t=>{Va(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xu,{type:xu},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xu];void 0!==i&&t(!!i),Ma(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cu(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ml()||Il()||Ol()}};var Ru="@firebase/auth",Pu="1.5.1";class Au{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Va(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ou=_("authIdTokenMaxAge")||300;let Du=null;function Mu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe();const t=Ae(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ae(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(L(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ma(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Nu,persistence:[jc,Ec,Sc]}),r=_("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ou)return;const r=null===t||void 0===t?void 0:t.token;Du!==r&&(Du=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){K(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){K(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const o=g("auth");return o&&Gl(n,"http://".concat(o)),n}var Lu;Lu="Browser",Pe(new G("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Va(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Lu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ll(Lu)},c=new jl(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bl);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Pe(new G("auth-internal",(e=>(e=>new Au(e))(Vl(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(Ru,Pu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Lu)),Ue(Ru,Pu,"esm2017");const Fu="@firebase/database",Uu="1.0.2";let ju="";function Vu(e){ju=e}class zu{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),R(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:N(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Bu{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return A(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const qu=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new zu(t)}}catch(t){}return new Bu},Wu=qu("localStorage"),Hu=qu("sessionStorage"),Ku=new ie("@firebase/database"),Gu=function(){let e=1;return function(){return e++}}(),Qu=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}(e),n=new z;n.update(t);const r=n.digest();return a.encodeByteArray(r)},Yu=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Yu.apply(null,n):e+="object"===typeof n?R(n):n,e+=" "}return e};let Xu=null,Ju=!0;const Zu=function(e,t){i(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ku.logLevel=$.VERBOSE,Xu=Ku.log.bind(Ku),t&&Hu.set("logging_enabled",!0)):"function"===typeof e?Xu=e:(Xu=null,Hu.remove("logging_enabled"))},$u=function(){if(!0===Ju&&(Ju=!1,null===Xu&&!0===Hu.get("logging_enabled")&&Zu(!0)),Xu){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Yu.apply(null,t);Xu(r)}},eh=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];$u(e,...n)}},th=function(){const e="FIREBASE INTERNAL ERROR: "+Yu(...arguments);Ku.error(e)},nh=function(){const e="FIREBASE FATAL ERROR: ".concat(Yu(...arguments));throw Ku.error(e),new Error(e)},rh=function(){const e="FIREBASE WARNING: "+Yu(...arguments);Ku.warn(e)},ih=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},oh="[MIN_NAME]",sh="[MAX_NAME]",ah=function(e,t){if(e===t)return 0;if(e===oh||t===sh)return-1;if(t===oh||e===sh)return 1;{const n=mh(e),r=mh(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},lh=function(e,t){return e===t?0:e<t?-1:1},ch=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+R(t))},uh=function(e){if("object"!==typeof e||null===e)return R(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=R(t[r]),n+=":",n+=uh(e[t[r]]);return n+="}",n},hh=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function dh(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const fh=function(e){i(!ih(e),"Invalid JSON number");const t=1023;let n,r,o,s,a;0===e?(r=0,o=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,o=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,o=Math.round(e/Math.pow(2,-1074))));const l=[];for(a=52;a;a-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(a=11;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);l.push(n?1:0),l.reverse();const c=l.join("");let u="";for(a=0;a<64;a+=8){let e=parseInt(c.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()};const ph=new RegExp("^-?(0*)\\d{1,10}$"),mh=function(e){if(ph.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},gh=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw rh("Exception was thrown by user callback.",e),t}),Math.floor(0))}},yh=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class vh{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){rh('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class _h{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?($u("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rh(e)}}class bh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bh.OWNER="owner";const wh="5",Eh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ch="ac",Sh="websocket",kh="long_polling";class Th{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wu.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Ih(e,t,n){let r;if(i("string"===typeof t,"typeof type must == string"),i("object"===typeof n,"typeof params must == object"),t===Sh)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==kh)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const o=[];return dh(n,((e,t)=>{o.push(e+"="+t)})),r+o.join("&")}class xh{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;A(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return d(this.counters_)}}const Nh={},Rh={};function Ph(e){const t=e.toString();return Nh[t]||(Nh[t]=new xh),Nh[t]}class Ah{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&gh((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Oh="start";class Dh{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eh(e),this.stats_=Ph(t),this.urlFn=e=>(this.appCheckToken&&(e[Ch]=this.appCheckToken),Ih(t,kh,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ah(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(k()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mh((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Oh)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Oh]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=wh,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Ch]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Eh.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Dh.forceAllow_=!0}static forceDisallow(){Dh.forceDisallow_=!0}static isAvailable(){return!k()&&(!!Dh.forceAllow_||!Dh.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=R(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=c(t),r=hh(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(k())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=R(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Mh{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,k())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Gu(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Mh.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){$u("frame writing exception"),i.stack&&$u(i.stack),$u(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||$u("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){k()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{$u("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let Lh=null;"undefined"!==typeof MozWebSocket?Lh=MozWebSocket:"undefined"!==typeof WebSocket&&(Lh=WebSocket);class Fh{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eh(this.connId),this.stats_=Ph(t),this.connURL=Fh.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=wh,!k()&&"undefined"!==typeof location&&location.hostname&&Eh.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Ch]=r),i&&(o.p=i),Ih(e,Sh,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wu.set("previous_websocket_failure",!0);try{let e;if(k()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(wh,"/").concat(ju,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/gmash",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Lh(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Fh.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Lh&&!Fh.forceDisallow_}static previouslyFailed(){return Wu.isInMemoryStorage||!0===Wu.get("previous_websocket_failure")}markConnectionHealthy(){Wu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=N(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(i(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=R(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=hh(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Fh.responsesRequiredToBeHealthy=2,Fh.healthyTimeout=3e4;class Uh{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Dh,Fh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Fh&&Fh.isAvailable();let n=t&&!Fh.previouslyFailed();if(e.webSocketOnly&&(t||rh("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Fh];else{const e=this.transports_=[];for(const t of Uh.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Uh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Uh.globalTransportInitialized_=!1;class jh{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eh("c:"+this.id+":"),this.transportManager_=new Uh(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=yh((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ch("t",e),n=ch("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ch("t",e),n=ch("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ch("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?th("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):th("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),wh!==n&&rh("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),yh((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yh((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Vh{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class zh{constructor(e){this.allowedEvents_=e,this.listeners_={},i(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){i(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Bh extends zh{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||C()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new Bh}getInitialEvent(e){return i("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const qh=32,Wh=768;class Hh{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Kh(){return new Hh("")}function Gh(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Qh(e){return e.pieces_.length-e.pieceNum_}function Yh(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Hh(e.pieces_,t)}function Xh(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Jh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Zh(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Hh(t,0)}function $h(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Hh)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Hh(n,0)}function ed(e){return e.pieceNum_>=e.pieces_.length}function td(e,t){const n=Gh(e),r=Gh(t);if(null===n)return t;if(n===r)return td(Yh(e),Yh(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function nd(e,t){if(Qh(e)!==Qh(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function rd(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Qh(e)>Qh(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class id{constructor(e,t){this.errorPrefix_=t,this.parts_=Jh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=H(this.parts_[n]);od(this)}}function od(e){if(e.byteLength_>Wh)throw new Error(e.errorPrefix_+"has a key path longer than "+Wh+" bytes ("+e.byteLength_+").");if(e.parts_.length>qh)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qh+") or object contains a cycle "+sd(e))}function sd(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class ad extends zh{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new ad}getInitialEvent(e){return i("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ld=1e3;class cd extends Vh{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=cd.nextPersistentConnectionId_++,this.log_=eh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ld,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!k())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ad.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Bh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(R(o)),i(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new b,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),i(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),i(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;cd.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&A(e,"w")){const n=O(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();rh("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=P(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=P(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),i(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+R(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):th("Unrecognized action received from server: "+R(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){i(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ld,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ld,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ld),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+cd.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,n())},c=function(e){i(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[i,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?$u("getToken() completed but was canceled"):($u("getToken() completed. Creating connection."),this.authToken_=i&&i.accessToken,this.appCheckToken_=l&&l.token,a=new jh(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{rh(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),o))}catch(th){this.log_("Failed to get token: "+th),s||(this.repoInfo_.nodeAdmin&&rh(th),l())}}}interrupt(e){$u("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$u("Resuming connection for reason: "+e),delete this.interruptReasons_[e],D(this.interruptReasons_)&&(this.reconnectDelay_=ld,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>uh(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Hh(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){$u("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){$u("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";k()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ju.replace(/\./g,"-")]=1,C()?e["framework.cordova"]=1:S()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Bh.getInstance().currentlyOnline();return D(this.interruptReasons_)&&e}}cd.nextPersistentConnectionId_=0,cd.nextConnectionId_=0;class ud{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ud(e,t)}}class hd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new ud(oh,e),r=new ud(oh,t);return 0!==this.compare(n,r)}minPost(){return ud.MIN}}let dd;class fd extends hd{static get __EMPTY_NODE(){return dd}static set __EMPTY_NODE(e){dd=e}compare(e,t){return ah(e.name,t.name)}isDefinedOn(e){throw o("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ud.MIN}maxPost(){return new ud(sh,dd)}makePost(e,t){return i("string"===typeof e,"KeyIndex indexValue must always be a string."),new ud(e,dd)}toString(){return".key"}}const pd=new fd;class md{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class gd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:gd.RED,this.left=null!=r?r:yd.EMPTY_NODE,this.right=null!=i?i:yd.EMPTY_NODE}copy(e,t,n,r,i){return new gd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return yd.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return yd.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,gd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,gd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}gd.RED=!0,gd.BLACK=!1;class yd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yd.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new yd(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,gd.BLACK,null,null))}remove(e){return new yd(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gd.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new md(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new md(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new md(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new md(this.root_,null,this.comparator_,!0,e)}}function vd(e,t){return ah(e.name,t.name)}function _d(e,t){return ah(e,t)}let bd;yd.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new gd(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const wd=function(e){return"number"===typeof e?"number:"+fh(e):"string:"+e},Ed=function(e){if(e.isLeafNode()){const t=e.val();i("string"===typeof t||"number"===typeof t||"object"===typeof t&&A(t,".sv"),"Priority must be a string or number.")}else i(e===bd||e.isEmpty(),"priority of unexpected type.");i(e===bd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Cd,Sd,kd;class Td{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Td.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,i(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ed(this.priorityNode_)}static set __childrenNodeConstructor(e){Cd=e}static get __childrenNodeConstructor(){return Cd}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Td(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Td.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ed(e)?this:".priority"===Gh(e)?this.priorityNode_:Td.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Td.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Gh(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(i(".priority"!==n||1===Qh(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Td.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yh(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wd(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?fh(this.value_):this.value_,this.lazyHash_=Qu(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Td.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Td.__childrenNodeConstructor?-1:(i(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Td.VALUE_TYPE_ORDER.indexOf(t),o=Td.VALUE_TYPE_ORDER.indexOf(n);return i(r>=0,"Unknown leaf type: "+t),i(o>=0,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Td.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Id=new class extends hd{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?ah(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ud.MIN}maxPost(){return new ud(sh,new Td("[PRIORITY-POST]",kd))}makePost(e,t){const n=Sd(e);return new ud(t,new Td("[PRIORITY-POST]",n))}toString(){return".priority"}},xd=Math.log(2);class Nd{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/xd,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rd=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new gd(a,s.node,gd.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new gd(a,s.node,gd.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],h=n?n(u):u;l(new gd(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,gd.BLACK):(a(r,gd.BLACK),a(r,gd.RED))}return o}(new Nd(e.length));return new yd(r||t,o)};let Pd;const Ad={};class Od{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return i(Ad&&Id,"ChildrenNode.ts has not been loaded"),Pd=Pd||new Od({".priority":Ad},{".priority":Id}),Pd}get(e){const t=O(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof yd?t:null}hasIndex(e){return A(this.indexSet_,e.toString())}addIndex(e,t){i(e!==pd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=t.getIterator(ud.Wrap);let s,a=o.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=o.getNext();s=r?Rd(n,e.getCompare()):Ad;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=s,new Od(u,c)}addToIndexes(e,t){const n=M(this.indexes_,((n,r)=>{const o=O(this.indexSet_,r);if(i(o,"Missing index implementation for "+r),n===Ad){if(o.isDefinedOn(e.node)){const n=[],r=t.getIterator(ud.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),Rd(n,o.getCompare())}return Ad}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new ud(e.name,r))),i.insert(e,e.node)}}));return new Od(n,this.indexSet_)}removeFromIndexes(e,t){const n=M(this.indexes_,(n=>{if(n===Ad)return n;{const r=t.get(e.name);return r?n.remove(new ud(e.name,r)):n}}));return new Od(n,this.indexSet_)}}let Dd;class Md{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ed(this.priorityNode_),this.children_.isEmpty()&&i(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Dd||(Dd=new Md(new yd(_d),null,Od.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dd}updatePriority(e){return this.children_.isEmpty()?this:new Md(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Dd:t}}getChild(e){const t=Gh(e);return null===t?this:this.getImmediateChild(t).getChild(Yh(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(i(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new ud(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Dd:this.priorityNode_;return new Md(r,o,i)}}updateChild(e,t){const n=Gh(e);if(null===n)return t;{i(".priority"!==Gh(e)||1===Qh(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Yh(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Id,((o,s)=>{t[o]=s.val(e),n++,i&&Md.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+wd(this.getPriority().val())+":"),this.forEachChild(Id,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Qu(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new ud(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ud(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ud(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,ud.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,ud.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ld?-1:0}withIndex(e){if(e===pd||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Md(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===pd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Id),n=t.getIterator(Id);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===pd?null:this.indexMap_.get(e.toString())}}Md.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Ld=new class extends Md{constructor(){super(new yd(_d),Md.EMPTY_NODE,Od.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Md.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ud,{MIN:{value:new ud(oh,Md.EMPTY_NODE)},MAX:{value:new ud(sh,Ld)}}),fd.__EMPTY_NODE=Md.EMPTY_NODE,Td.__childrenNodeConstructor=Md,bd=Ld,function(e){kd=e}(Ld);const Fd=!0;function Ud(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Md.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),i(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Td(e,Ud(t))}if(e instanceof Array||!Fd){let n=Md.EMPTY_NODE;return dh(e,((t,r)=>{if(A(e,t)&&"."!==t.substring(0,1)){const e=Ud(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Ud(t))}{const n=[];let r=!1;if(dh(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Ud(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new ud(e,i)))}})),0===n.length)return Md.EMPTY_NODE;const i=Rd(n,vd,(e=>e.name),_d);if(r){const e=Rd(n,Id.getCompare());return new Md(i,Ud(t),new Od({".priority":e},{".priority":Id}))}return new Md(i,Ud(t),Od.Default)}}!function(e){Sd=e}(Ud);class jd extends hd{constructor(e){super(),this.indexPath_=e,i(!ed(e)&&".priority"!==Gh(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?ah(e.name,t.name):i}makePost(e,t){const n=Ud(e),r=Md.EMPTY_NODE.updateChild(this.indexPath_,n);return new ud(t,r)}maxPost(){const e=Md.EMPTY_NODE.updateChild(this.indexPath_,Ld);return new ud(sh,e)}toString(){return Jh(this.indexPath_,0).join("/")}}const Vd=new class extends hd{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?ah(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ud.MIN}maxPost(){return ud.MAX}makePost(e,t){const n=Ud(e);return new ud(t,n)}toString(){return".value"}};function zd(e){return{type:"value",snapshotNode:e}}function Bd(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function qd(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Wd(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Hd{constructor(e){this.index_=e}updateChild(e,t,n,r,o,s){i(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(qd(t,a)):i(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Bd(t,n)):s.trackChildChange(Wd(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Id,((e,r)=>{t.hasChild(e)||n.trackChildChange(qd(e,r))})),t.isLeafNode()||t.forEachChild(Id,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Wd(t,r,i))}else n.trackChildChange(Bd(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Md.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Kd{constructor(e){this.indexedFilter_=new Hd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Kd.getStartPost_(e),this.endPost_=Kd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new ud(t,n))||(n=Md.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Md.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Md.EMPTY_NODE);const i=this;return t.forEachChild(Id,((e,t)=>{i.matches(new ud(e,t))||(r=r.updateImmediateChild(e,Md.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Gd{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Kd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new ud(t,n))||(n=Md.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Md.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Md.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Md.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Md.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,o){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;i(a.numChildren()===this.limit_,"");const l=new ud(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const e=a.getImmediateChild(t);let i=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=i&&(i.name===t||a.hasChild(i.name));)i=r.getChildAfterChild(this.index_,i,this.reverse_);const h=null==i?1:s(i,l);if(u&&!n.isEmpty()&&h>=0)return null!=o&&o.trackChildChange(Wd(t,n,e)),a.updateImmediateChild(t,n);{null!=o&&o.trackChildChange(qd(t,e));const n=a.updateImmediateChild(t,Md.EMPTY_NODE);return null!=i&&this.rangedFilter_.matches(i)?(null!=o&&o.trackChildChange(Bd(i.name,i.node)),n.updateImmediateChild(i.name,i.node)):n}}return n.isEmpty()?e:u&&s(c,l)>=0?(null!=o&&(o.trackChildChange(qd(c.name,c.node)),o.trackChildChange(Bd(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,Md.EMPTY_NODE)):e}}class Qd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Id}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return i(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return i(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oh}hasEnd(){return this.endSet_}getIndexEndValue(){return i(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return i(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return i(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Id}copy(){const e=new Qd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Yd(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Id?n="$priority":e.index_===Vd?n="$value":e.index_===pd?n="$key":(i(e.index_ instanceof jd,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=R(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=R(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+R(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=R(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+R(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Xd(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Id&&(t.i=e.index_.toString()),t}class Jd extends Vh{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=eh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(i(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Jd.getListenId_(e,n),s={};this.listens_[o]=s;const a=Yd(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),O(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Jd.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Yd(e._queryParams),n=e._path.toString(),r=new b;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+U(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=N(a.responseText)}catch(e){rh("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&rh("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class Zd{constructor(){this.rootNode_=Md.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function $d(){return{value:null,children:new Map}}function ef(e,t,n){if(ed(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Gh(t);e.children.has(r)||e.children.set(r,$d());ef(e.children.get(r),t=Yh(t),n)}}function tf(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{tf(r,new Hh(t.toString()+"/"+e),n)}))}class nf{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&dh(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class rf{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new nf(e);const n=1e4+2e4*Math.random();yh(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;dh(e,((e,r)=>{r>0&&A(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),yh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var of;function sf(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(of||(of={}));class af{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=of.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ed(this.path)){if(null!=this.affectedTree.value)return i(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Hh(e));return new af(Kh(),t,this.revert)}}return i(Gh(this.path)===e,"operationForChild called for unrelated child."),new af(Yh(this.path),this.affectedTree,this.revert)}}class lf{constructor(e,t){this.source=e,this.path=t,this.type=of.LISTEN_COMPLETE}operationForChild(e){return ed(this.path)?new lf(this.source,Kh()):new lf(this.source,Yh(this.path))}}class cf{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=of.OVERWRITE}operationForChild(e){return ed(this.path)?new cf(this.source,Kh(),this.snap.getImmediateChild(e)):new cf(this.source,Yh(this.path),this.snap)}}class uf{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=of.MERGE}operationForChild(e){if(ed(this.path)){const t=this.children.subtree(new Hh(e));return t.isEmpty()?null:t.value?new cf(this.source,Kh(),t.value):new uf(this.source,Kh(),t)}return i(Gh(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new uf(this.source,Yh(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hf{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ed(e))return this.isFullyInitialized()&&!this.filtered_;const t=Gh(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class df{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ff(e,t,n,r,i,s){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw o("Should only compare child_ events.");const r=new ud(t.childName,t.snapshotNode),i=new ud(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function pf(e,t){return{eventCache:e,serverCache:t}}function mf(e,t,n,r){return pf(new hf(t,n,r),e.serverCache)}function gf(e,t,n,r){return pf(e.eventCache,new hf(t,n,r))}function yf(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function vf(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let _f;class bf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(_f||(_f=new yd(lh)),_f);this.value=e,this.children=t}static fromObject(e){let t=new bf(null);return dh(e,((e,n)=>{t=t.set(new Hh(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Kh(),value:this.value};if(ed(e))return null;{const n=Gh(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Yh(e),t);if(null!=i){return{path:$h(new Hh(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(ed(e))return this;{const t=Gh(e),n=this.children.get(t);return null!==n?n.subtree(Yh(e)):new bf(null)}}set(e,t){if(ed(e))return new bf(t,this.children);{const n=Gh(e),r=(this.children.get(n)||new bf(null)).set(Yh(e),t),i=this.children.insert(n,r);return new bf(this.value,i)}}remove(e){if(ed(e))return this.children.isEmpty()?new bf(null):new bf(null,this.children);{const t=Gh(e),n=this.children.get(t);if(n){const r=n.remove(Yh(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new bf(null):new bf(this.value,i)}return this}}get(e){if(ed(e))return this.value;{const t=Gh(e),n=this.children.get(t);return n?n.get(Yh(e)):null}}setTree(e,t){if(ed(e))return t;{const n=Gh(e),r=(this.children.get(n)||new bf(null)).setTree(Yh(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new bf(this.value,i)}}fold(e){return this.fold_(Kh(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_($h(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Kh(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(ed(e))return null;{const r=Gh(e),i=this.children.get(r);return i?i.findOnPath_(Yh(e),$h(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Kh(),t)}foreachOnPath_(e,t,n){if(ed(e))return this;{this.value&&n(t,this.value);const r=Gh(e),i=this.children.get(r);return i?i.foreachOnPath_(Yh(e),$h(t,r),n):new bf(null)}}foreach(e){this.foreach_(Kh(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_($h(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class wf{constructor(e){this.writeTree_=e}static empty(){return new wf(new bf(null))}}function Ef(e,t,n){if(ed(t))return new wf(new bf(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=td(i,t);return o=o.updateChild(s,n),new wf(e.writeTree_.set(i,o))}{const r=new bf(n),i=e.writeTree_.setTree(t,r);return new wf(i)}}}function Cf(e,t,n){let r=e;return dh(n,((e,n)=>{r=Ef(r,$h(t,e),n)})),r}function Sf(e,t){if(ed(t))return wf.empty();{const n=e.writeTree_.setTree(t,new bf(null));return new wf(n)}}function kf(e,t){return null!=Tf(e,t)}function Tf(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(td(n.path,t)):null}function If(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Id,((e,n)=>{t.push(new ud(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new ud(e,n.value))})),t}function xf(e,t){if(ed(t))return e;{const n=Tf(e,t);return new wf(null!=n?new bf(n):e.writeTree_.subtree(t))}}function Nf(e){return e.writeTree_.isEmpty()}function Rf(e,t){return Pf(Kh(),e.writeTree_,t)}function Pf(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,o)=>{".priority"===t?(i(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=Pf($h(e,t),o,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild($h(e,".priority"),r)),n}}function Af(e,t){return Hf(t,e)}function Of(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));i(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,s=!1,a=e.allWrites.length-1;for(;o&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Df(t,r.path)?o=!1:rd(r.path,t.path)&&(s=!0)),a--}if(o){if(s)return function(e){e.visibleWrites=Lf(e.allWrites,Mf,Kh()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Sf(e.visibleWrites,r.path);else{dh(r.children,(t=>{e.visibleWrites=Sf(e.visibleWrites,$h(r.path,t))}))}return!0}return!1}function Df(e,t){if(e.snap)return rd(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&rd($h(e.path,n),t))return!0;return!1}function Mf(e){return e.visible}function Lf(e,t,n){let r=wf.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)rd(n,e)?(t=td(n,e),r=Ef(r,t,s.snap)):rd(e,n)&&(t=td(e,n),r=Ef(r,Kh(),s.snap.getChild(t)));else{if(!s.children)throw o("WriteRecord should have .snap or .children");if(rd(n,e))t=td(n,e),r=Cf(r,t,s.children);else if(rd(e,n))if(t=td(e,n),ed(t))r=Cf(r,Kh(),s.children);else{const e=O(s.children,Gh(t));if(e){const n=e.getChild(Yh(t));r=Ef(r,Kh(),n)}}}}}return r}function Ff(e,t,n,r,i){if(r||i){const o=xf(e.visibleWrites,t);if(!i&&Nf(o))return n;if(i||null!=n||kf(o,Kh())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(rd(e.path,t)||rd(t,e.path))};return Rf(Lf(e.allWrites,o,t),n||Md.EMPTY_NODE)}return null}{const r=Tf(e.visibleWrites,t);if(null!=r)return r;{const r=xf(e.visibleWrites,t);if(Nf(r))return n;if(null!=n||kf(r,Kh())){return Rf(r,n||Md.EMPTY_NODE)}return null}}}function Uf(e,t,n,r){return Ff(e.writeTree,e.treePath,t,n,r)}function jf(e,t){return function(e,t,n){let r=Md.EMPTY_NODE;const i=Tf(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Id,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=xf(e.visibleWrites,t);return n.forEachChild(Id,((e,t)=>{const n=Rf(xf(i,new Hh(e)),t);r=r.updateImmediateChild(e,n)})),If(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return If(xf(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Vf(e,t,n,r){return function(e,t,n,r,o){i(r||o,"Either existingEventSnap or existingServerSnap must exist");const s=$h(t,n);if(kf(e.visibleWrites,s))return null;{const t=xf(e.visibleWrites,s);return Nf(t)?o.getChild(n):Rf(t,o.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function zf(e,t){return function(e,t){return Tf(e.visibleWrites,t)}(e.writeTree,$h(e.treePath,t))}function Bf(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=xf(e.visibleWrites,t),c=Tf(l,Kh());if(null!=c)a=c;else{if(null==n)return[];a=Rf(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function qf(e,t,n){return function(e,t,n,r){const i=$h(t,n),o=Tf(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return Rf(xf(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Wf(e,t){return Hf($h(e.treePath,t),e.writeTree)}function Hf(e,t){return{treePath:e,writeTree:t}}class Kf{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;i("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),i(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Wd(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,qd(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Bd(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw o("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Wd(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Gf=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Qf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new hf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qf(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vf(this.viewCache_),i=Bf(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Yf(e,t,n,r,s){const a=new Kf;let l,c;if(n.type===of.OVERWRITE){const o=n;o.source.fromUser?l=Zf(e,t,o.path,o.snap,r,s,a):(i(o.source.fromServer,"Unknown source."),c=o.source.tagged||t.serverCache.isFiltered()&&!ed(o.path),l=Jf(e,t,o.path,o.snap,r,s,c,a))}else if(n.type===of.MERGE){const o=n;o.source.fromUser?l=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=$h(n,r);$f(t,Gh(c))&&(a=Zf(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=$h(n,r);$f(t,Gh(c))||(a=Zf(e,a,c,l,i,o,s))})),a}(e,t,o.path,o.children,r,s,a):(i(o.source.fromServer,"Unknown source."),c=o.source.tagged||t.serverCache.isFiltered(),l=tp(e,t,o.path,o.children,r,s,c,a))}else if(n.type===of.ACK_USER_WRITE){const o=n;l=o.revert?function(e,t,n,r,o,s){let a;if(null!=zf(r,n))return t;{const l=new Qf(r,t,o),c=t.eventCache.getNode();let u;if(ed(n)||".priority"===Gh(n)){let n;if(t.serverCache.isFullyInitialized())n=Uf(r,vf(t));else{const e=t.serverCache.getNode();i(e instanceof Md,"serverChildren would be complete if leaf node"),n=jf(r,e)}u=e.filter.updateFullNode(c,n,s)}else{const i=Gh(n);let o=qf(r,i,t.serverCache);null==o&&t.serverCache.isCompleteForChild(i)&&(o=c.getImmediateChild(i)),u=null!=o?e.filter.updateChild(c,i,o,Yh(n),l,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,Md.EMPTY_NODE,Yh(n),l,s):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Uf(r,vf(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=zf(r,Kh()),mf(t,u,a,e.filter.filtersNodes())}}(e,t,o.path,r,s,a):function(e,t,n,r,i,o,s){if(null!=zf(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(ed(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Jf(e,t,n,l.getNode().getChild(n),i,o,a,s);if(ed(n)){let r=new bf(null);return l.getNode().forEachChild(pd,((e,t)=>{r=r.set(new Hh(e),t)})),tp(e,t,n,r,i,o,a,s)}return t}{let c=new bf(null);return r.foreach(((e,t)=>{const r=$h(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),tp(e,t,n,c,i,o,a,s)}}(e,t,o.path,o.affectedTree,r,s,a)}else{if(n.type!==of.LISTEN_COMPLETE)throw o("Unknown operation type: "+n.type);l=function(e,t,n,r,i){const o=t.serverCache,s=gf(t,o.getNode(),o.isFullyInitialized()||ed(n),o.isFiltered());return Xf(e,s,n,r,Gf,i)}(e,t,n.path,r,a)}const u=a.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=yf(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(zd(yf(t)))}}(t,l,u),{viewCache:l,changes:u}}function Xf(e,t,n,r,o,s){const a=t.eventCache;if(null!=zf(r,n))return t;{let l,c;if(ed(n))if(i(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=vf(t),i=jf(r,n instanceof Md?n:Md.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Uf(r,vf(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const u=Gh(n);if(".priority"===u){i(1===Qh(n),"Can't have a priority with additional path components");const o=a.getNode();c=t.serverCache.getNode();const s=Vf(r,n,o,c);l=null!=s?e.filter.updatePriority(o,s):a.getNode()}else{const i=Yh(n);let h;if(a.isCompleteForChild(u)){c=t.serverCache.getNode();const e=Vf(r,n,a.getNode(),c);h=null!=e?a.getNode().getImmediateChild(u).updateChild(i,e):a.getNode().getImmediateChild(u)}else h=qf(r,u,t.serverCache);l=null!=h?e.filter.updateChild(a.getNode(),u,h,i,o,s):a.getNode()}}return mf(t,l,a.isFullyInitialized()||ed(n),e.filter.filtersNodes())}}function Jf(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(ed(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Gh(n);if(!l.isCompleteForPath(n)&&Qh(n)>1)return t;const i=Yh(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,Gf,null)}const h=gf(t,c,l.isFullyInitialized()||ed(n),u.filtersNodes());return Xf(e,h,n,i,new Qf(i,h,o),a)}function Zf(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new Qf(i,t,o);if(ed(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=mf(t,c,!0,e.filter.filtersNodes());else{const i=Gh(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=mf(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=Yh(n),c=a.getNode().getImmediateChild(i);let h;if(ed(o))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Xh(o)&&e.getChild(Zh(o)).isEmpty()?e:e.updateChild(o,r):Md.EMPTY_NODE}if(c.equals(h))l=t;else{l=mf(t,e.filter.updateChild(a.getNode(),i,h,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function $f(e,t){return e.eventCache.isCompleteForChild(t)}function ep(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function tp(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=ed(n)?r:new bf(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=ep(0,t.serverCache.getNode().getImmediateChild(n),r);c=Jf(e,c,new Hh(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=ep(0,t.serverCache.getNode().getImmediateChild(n),r);c=Jf(e,c,new Hh(n),l,i,o,s,a)}})),c}class np{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Hd(n.getIndex()),i=(o=n).loadsAllData()?new Hd(o.getIndex()):o.hasLimit()?new Gd(o):new Kd(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(Md.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(Md.EMPTY_NODE,a.getNode(),null),u=new hf(l,s.isFullyInitialized(),r.filtersNodes()),h=new hf(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=pf(h,u),this.eventGenerator_=new df(this.query_)}get query(){return this.query_}}function rp(e,t){const n=vf(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ed(t)&&!n.getImmediateChild(Gh(t)).isEmpty())?n.getChild(t):null}function ip(e){return 0===e.eventRegistrations_.length}function op(e,t,n){const r=[];if(n){i(null==t,"A cancel should cancel all event registrations.");const o=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,o);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function sp(e,t,n,r){t.type===of.MERGE&&null!==t.source.queryId&&(i(vf(e.viewCache_),"We should always have a full cache before handling merges"),i(yf(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,s=Yf(e.processor_,o,t,n,r);var a,l;return a=e.processor_,l=s.viewCache,i(l.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),i(l.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),i(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,ap(e,s.changes,s.viewCache.eventCache.getNode(),null)}function ap(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ff(e,i,"child_removed",t,r,n),ff(e,i,"child_added",t,r,n),ff(e,i,"child_moved",o,r,n),ff(e,i,"child_changed",t,r,n),ff(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let lp,cp;class up{constructor(){this.views=new Map}}function hp(e,t,n,r){const o=t.source.queryId;if(null!==o){const s=e.views.get(o);return i(null!=s,"SyncTree gave us an op for an invalid query."),sp(s,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(sp(o,t,n,r));return i}}function dp(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Uf(n,i?r:null),o=!1;e?o=!0:r instanceof Md?(e=jf(n,r),o=!1):(e=Md.EMPTY_NODE,o=!1);const s=pf(new hf(e,o,!1),new hf(r,i,!1));return new np(t,s)}return s}function fp(e,t,n,r,i,o){const s=dp(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Id,((e,t)=>{r.push(Bd(e,t))}));return n.isFullyInitialized()&&r.push(zd(n.getNode())),ap(e,r,n.getNode(),t)}(s,n)}function pp(e,t,n,r){const o=t._queryIdentifier,s=[];let a=[];const l=_p(e);if("default"===o)for(const[i,c]of e.views.entries())a=a.concat(op(c,n,r)),ip(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(o);t&&(a=a.concat(op(t,n,r)),ip(t)&&(e.views.delete(o),t.query._queryParams.loadsAllData()||s.push(t.query)))}return l&&!_p(e)&&s.push(new(i(lp,"Reference.ts has not been loaded"),lp)(t._repo,t._path)),{removed:s,events:a}}function mp(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function gp(e,t){let n=null;for(const r of e.views.values())n=n||rp(r,t);return n}function yp(e,t){if(t._queryParams.loadsAllData())return bp(e);{const n=t._queryIdentifier;return e.views.get(n)}}function vp(e,t){return null!=yp(e,t)}function _p(e){return null!=bp(e)}function bp(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let wp=1;class Ep{constructor(e){this.listenProvider_=e,this.syncPointTree_=new bf(null),this.pendingWriteTree_={visibleWrites:wf.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Cp(e,t,n,r,o){return function(e,t,n,r,o){i(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=Ef(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?Pp(e,new cf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Sp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Of(e.pendingWriteTree_,t)){let t=new bf(null);return null!=r.snap?t=t.set(Kh(),!0):dh(r.children,(e=>{t=t.set(new Hh(e),!0)})),Pp(e,new af(r.path,t,n))}return[]}function kp(e,t,n){return Pp(e,new cf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Tp(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||vp(s,t))){const l=pp(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>_p(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&_p(t)){return[bp(t)]}{let e=[];return t&&(e=mp(t)),dh(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Dp(e,r);e.listenProvider_.startListening(Vp(i),Mp(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Vp(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Lp(t));e.listenProvider_.stopListening(Vp(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Lp(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Ip(e,t,n,r){const i=Fp(e,r);if(null!=i){const r=Up(i),o=r.path,s=r.queryId,a=td(o,t);return jp(e,o,new cf(sf(s),a,n))}return[]}function xp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(o,((e,t)=>{const n=td(e,o);s=s||gp(t,n),a=a||_p(t)}));let l,c=e.syncPointTree_.get(o);if(c?(a=a||_p(c),s=s||gp(c,Kh())):(c=new up,e.syncPointTree_=e.syncPointTree_.set(o,c)),null!=s)l=!0;else{l=!1,s=Md.EMPTY_NODE;e.syncPointTree_.subtree(o).foreachChild(((e,t)=>{const n=gp(t,Kh());n&&(s=s.updateImmediateChild(e,n))}))}const u=vp(c,t);if(!u&&!t._queryParams.loadsAllData()){const n=Lp(t);i(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=wp++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let h=fp(c,t,n,Af(e.pendingWriteTree_,o),s,l);if(!u&&!a&&!r){const n=yp(c,t);h=h.concat(function(e,t,n){const r=t._path,o=Mp(e,t),s=Dp(e,n),a=e.listenProvider_.startListening(Vp(t),o,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(o)i(!_p(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold(((e,t,n)=>{if(!ed(e)&&t&&_p(t))return[bp(t).query];{let e=[];return t&&(e=e.concat(mp(t).map((e=>e.query)))),dh(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Vp(r),Mp(e,r))}}return a}(e,t,n))}return h}function Np(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=gp(n,td(e,t));if(r)return r}));return Ff(r,t,i,n,!0)}function Rp(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=td(e,n);r=r||gp(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||gp(i,Kh()):(i=new up,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new hf(r,!0,!1):null;return function(e){return yf(e.viewCache_)}(dp(i,t,Af(e.pendingWriteTree_,t._path),o?s.getNode():Md.EMPTY_NODE,o))}function Pp(e,t){return Ap(t,e.syncPointTree_,null,Af(e.pendingWriteTree_,Kh()))}function Ap(e,t,n,r){if(ed(e.path))return Op(e,t,n,r);{const i=t.get(Kh());null==n&&null!=i&&(n=gp(i,Kh()));let o=[];const s=Gh(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Wf(r,s);o=o.concat(Ap(a,l,e,t))}return i&&(o=o.concat(hp(i,e,r,n))),o}}function Op(e,t,n,r){const i=t.get(Kh());null==n&&null!=i&&(n=gp(i,Kh()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=Wf(r,t),l=e.operationForChild(t);l&&(o=o.concat(Op(l,i,s,a)))})),i&&(o=o.concat(hp(i,e,r,n))),o}function Dp(e,t){const n=t.query,r=Mp(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Md.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Fp(e,n);if(r){const n=Up(r),i=n.path,o=n.queryId,s=td(i,t);return jp(e,i,new lf(sf(o),s))}return[]}(e,n._path,r):function(e,t){return Pp(e,new lf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Tp(e,n,null,r)}}}}function Mp(e,t){const n=Lp(t);return e.queryToTagMap.get(n)}function Lp(e){return e._path.toString()+"$"+e._queryIdentifier}function Fp(e,t){return e.tagToQueryMap.get(t)}function Up(e){const t=e.indexOf("$");return i(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Hh(e.substr(0,t))}}function jp(e,t,n){const r=e.syncPointTree_.get(t);i(r,"Missing sync point for query tag that we're tracking");return hp(r,n,Af(e.pendingWriteTree_,t),null)}function Vp(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(i(cp,"Reference.ts has not been loaded"),cp)(e._repo,e._path):e}class zp{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new zp(t)}node(){return this.node_}}class Bp{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=$h(this.path_,e);return new Bp(this.syncTree_,t)}node(){return Np(this.syncTree_,this.path_)}}const qp=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Wp=function(e,t,n){return e&&"object"===typeof e?(i(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Hp(e[".sv"],t,n):"object"===typeof e[".sv"]?Kp(e[".sv"],t):void i(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Hp=function(e,t,n){if("timestamp"===e)return n.timestamp;i(!1,"Unexpected server value: "+e)},Kp=function(e,t,n){e.hasOwnProperty("increment")||i(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&i(!1,"Unexpected increment value: "+r);const o=t.node();if(i(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const s=o.getValue();return"number"!==typeof s?r:s+r},Gp=function(e,t,n,r){return Yp(t,new Bp(n,e),r)},Qp=function(e,t,n){return Yp(e,new zp(t),n)};function Yp(e,t,n){const r=e.getPriority().val(),i=Wp(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Wp(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Td(o,Ud(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Td(i))),r.forEachChild(Id,((e,r)=>{const i=Yp(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class Xp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Jp(e,t){let n=t instanceof Hh?t:new Hh(t),r=e,i=Gh(n);for(;null!==i;){const e=O(r.node.children,i)||{children:{},childCount:0};r=new Xp(i,r,e),n=Yh(n),i=Gh(n)}return r}function Zp(e){return e.node.value}function $p(e,t){e.node.value=t,im(e)}function em(e){return e.node.childCount>0}function tm(e,t){dh(e.node.children,((n,r)=>{t(new Xp(n,e,r))}))}function nm(e,t,n,r){n&&!r&&t(e),tm(e,(e=>{nm(e,t,!0,r)})),n&&r&&t(e)}function rm(e){return new Hh(null===e.parent?e.name:rm(e.parent)+"/"+e.name)}function im(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Zp(e)&&!em(e)}(n),i=A(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,im(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,im(e))}(e.parent,e.name,e)}const om=/[\[\].#$\/\u0000-\u001F\u007F]/,sm=/[\[\].#$\u0000-\u001F\u007F]/,am=10485760,lm=function(e){return"string"===typeof e&&0!==e.length&&!om.test(e)},cm=function(e){return"string"===typeof e&&0!==e.length&&!sm.test(e)},um=function(e,t,n,r){r&&void 0===t||hm(W(e,"value"),t,n)},hm=function(e,t,n){const r=n instanceof Hh?new id(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+sd(r));if("function"===typeof t)throw new Error(e+"contains a function "+sd(r)+" with contents = "+t.toString());if(ih(t))throw new Error(e+"contains "+t.toString()+" "+sd(r));if("string"===typeof t&&t.length>am/3&&H(t)>am)throw new Error(e+"contains a string greater than "+am+" utf8 bytes "+sd(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(dh(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!lm(t)))throw new Error(e+" contains an invalid key ("+t+") "+sd(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=H(t),od(e)}(r,t),hm(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=H(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+sd(r)+" in addition to actual children.")}},dm=function(e,t,n,r){if((!r||void 0!==n)&&!cm(n))throw new Error(W(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fm=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dm(e,t,n,r)},pm=function(e,t){if(".info"===Gh(t))throw new Error(e+" failed = Can't modify data under /.info/")},mm=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!lm(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),cm(e)}(n))throw new Error(W(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class gm{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ym(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||nd(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function vm(e,t,n){ym(e,n),bm(e,(e=>nd(e,t)))}function _m(e,t,n){ym(e,n),bm(e,(e=>rd(e,t)||rd(t,e)))}function bm(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(wm(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function wm(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Xu&&$u("event: "+n.toString()),gh(r)}}}const Em="repo_interrupt",Cm=25;class Sm{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$d(),this.transactionQueueTree_=new Xp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function km(e,t,n){if(e.stats_=Ph(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Jd(e.repoInfo_,((t,n,r,i)=>{xm(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Nm(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{R(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new cd(e.repoInfo_,t,((t,n,r,i)=>{xm(e,t,n,r,i)}),(t=>{Nm(e,t)}),(t=>{!function(e,t){dh(t,((t,n)=>{Rm(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Rh[n]||(Rh[n]=t()),Rh[n]}(e.repoInfo_,(()=>new rf(e.stats_,e.server_))),e.infoData_=new Zd,e.infoSyncTree_=new Ep({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=kp(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Rm(e,"connected",!1),e.serverSyncTree_=new Ep({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);_m(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Tm(e){const t=e.infoData_.getNode(new Hh(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Im(e){return qp({timestamp:Tm(e)})}function xm(e,t,n,r,i){e.dataUpdateCount++;const o=new Hh(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=M(n,(e=>Ud(e)));s=function(e,t,n,r){const i=Fp(e,r);if(i){const r=Up(i),o=r.path,s=r.queryId,a=td(o,t),l=bf.fromObject(n);return jp(e,o,new uf(sf(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=Ud(n);s=Ip(e.serverSyncTree_,o,t,i)}else if(r){const t=M(n,(e=>Ud(e)));s=function(e,t,n){const r=bf.fromObject(n);return Pp(e,new uf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Ud(n);s=kp(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=jm(e,o)),_m(e.eventQueue_,a,s)}function Nm(e,t){Rm(e,"connected",t),!1===t&&function(e){Mm(e,"onDisconnectEvents");const t=Im(e),n=$d();tf(e.onDisconnect_,Kh(),((r,i)=>{const o=Gp(r,i,e.serverSyncTree_,t);ef(n,r,o)}));let r=[];tf(n,Kh(),((t,n)=>{r=r.concat(kp(e.serverSyncTree_,t,n));const i=Wm(e,t);jm(e,i)})),e.onDisconnect_=$d(),_m(e.eventQueue_,Kh(),r)}(e)}function Rm(e,t,n){const r=new Hh("/.info/"+t),i=Ud(n);e.infoData_.updateSnapshot(r,i);const o=kp(e.infoSyncTree_,r,i);_m(e.eventQueue_,r,o)}function Pm(e){return e.nextWriteId_++}function Am(e,t,n,r,i){Mm(e,"set",{path:t.toString(),value:n,priority:r});const o=Im(e),s=Ud(n,r),a=Np(e.serverSyncTree_,t),l=Qp(s,a,o),c=Pm(e),u=Cp(e.serverSyncTree_,t,l,c,!0);ym(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||rh("set at "+t+" failed: "+n);const s=Sp(e.serverSyncTree_,c,!o);_m(e.eventQueue_,t,s),Lm(e,i,n,r)}));const h=Wm(e,t);jm(e,h),_m(e.eventQueue_,h,[])}function Om(e,t,n){let r;r=".info"===Gh(t._path)?Tp(e.infoSyncTree_,t,n):Tp(e.serverSyncTree_,t,n),vm(e.eventQueue_,t._path,r)}function Dm(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Em)}function Mm(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];$u(t,...r)}function Lm(e,t,n,r){t&&gh((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function Fm(e,t,n){return Np(e.serverSyncTree_,t,n)||Md.EMPTY_NODE}function Um(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||qm(e,t),Zp(t)){const n=zm(e,t);i(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),o=Fm(e,t,r);let s=o;const a=o.hash();for(let u=0;u<n.length;u++){const e=n[u];i(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=td(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const l=s.val(!0),c=t;e.server_.put(c.toString(),l,(r=>{Mm(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Sp(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();qm(e,Jp(e.transactionQueueTree_,t)),Um(e,e.transactionQueueTree_),_m(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)gh(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{rh("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}jm(e,t)}}),a)}(e,rm(t),n)}else em(t)&&tm(t,(t=>{Um(e,t)}))}function jm(e,t){const n=Vm(e,t),r=rm(n);return function(e,t,n){if(0===t.length)return;const r=[];let o=[];const s=t.filter((e=>0===e.status)),a=s.map((e=>e.currentWriteId));for(let c=0;c<t.length;c++){const s=t[c],u=td(n,s.path);let h,d=!1;if(i(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)d=!0,h=s.abortReason,o=o.concat(Sp(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=Cm)d=!0,h="maxretry",o=o.concat(Sp(e.serverSyncTree_,s.currentWriteId,!0));else{const n=Fm(e,s.path,a);s.currentInputSnapshot=n;const r=t[c].update(n.val());if(void 0!==r){hm("transaction failed: Data returned ",r,s.path);let t=Ud(r);"object"===typeof r&&null!=r&&A(r,".priority")||(t=t.updatePriority(n.getPriority()));const i=s.currentWriteId,l=Im(e),c=Qp(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=Pm(e),a.splice(a.indexOf(i),1),o=o.concat(Cp(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),o=o.concat(Sp(e.serverSyncTree_,i,!0))}else d=!0,h="nodata",o=o.concat(Sp(e.serverSyncTree_,s.currentWriteId,!0))}_m(e.eventQueue_,n,o),o=[],d&&(t[c].status=2,l=t[c].unwatcher,setTimeout(l,Math.floor(0)),t[c].onComplete&&("nodata"===h?r.push((()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot))):r.push((()=>t[c].onComplete(new Error(h),!1,null)))))}var l;qm(e,e.transactionQueueTree_);for(let i=0;i<r.length;i++)gh(r[i]);Um(e,e.transactionQueueTree_)}(e,zm(e,n),r),r}function Vm(e,t){let n,r=e.transactionQueueTree_;for(n=Gh(t);null!==n&&void 0===Zp(r);)r=Jp(r,n),n=Gh(t=Yh(t));return r}function zm(e,t){const n=[];return Bm(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Bm(e,t,n){const r=Zp(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);tm(t,(t=>{Bm(e,t,n)}))}function qm(e,t){const n=Zp(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,$p(t,n.length>0?n:void 0)}tm(t,(t=>{qm(e,t)}))}function Wm(e,t){const n=rm(Vm(e,t)),r=Jp(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Hm(e,t)})),Hm(e,r),nm(r,(t=>{Hm(e,t)})),n}function Hm(e,t){const n=Zp(t);if(n){const r=[];let o=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(i(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(i(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),o=o.concat(Sp(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?$p(t,void 0):n.length=s+1,_m(e.eventQueue_,rm(t),o);for(let e=0;e<r.length;e++)gh(r[e])}}const Km=function(e,t){const n=Gm(e),r=n.namespace;"firebase.com"===n.domain&&nh(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||nh("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rh("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Th(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Hh(n.pathString)}},Gm=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rh("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Qm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ym=function(){let e=0;const t=[];return function(n){const r=n===e;let o;e=n;const s=new Array(8);for(o=7;o>=0;o--)s[o]=Qm.charAt(n%64),n=Math.floor(n/64);i(0===n,"Cannot push at time == 0");let a=s.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)a+=Qm.charAt(t[o]);return i(20===a.length,"nextPushId: Length should be 20."),a}}();class Xm{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+R(this.snapshot.exportVal())}}class Jm{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Zm{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return i(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class $m{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return ed(this._path)?null:Xh(this._path)}get ref(){return new eg(this._repo,this._path)}get _queryIdentifier(){const e=Xd(this._queryParams),t=uh(e);return"{}"===t?"default":t}get _queryObject(){return Xd(this._queryParams)}isEqual(e){if(!((e=K(e))instanceof $m))return!1;const t=this._repo===e._repo,n=nd(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class eg extends $m{constructor(e,t){super(e,t,new Qd,!1)}get parent(){const e=Zh(this._path);return null===e?null:new eg(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class tg{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Hh(e),n=rg(this.ref,e);return new tg(this._node.getChild(t),n,Id)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new tg(n,rg(this.ref,t),Id))))}hasChild(e){const t=new Hh(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ng(e,t){return(e=K(e))._checkNotDeleted("ref"),void 0!==t?rg(e._root,t):e._root}function rg(e,t){return null===Gh((e=K(e))._path)?fm("child","path",t,!1):dm("child","path",t,!1),new eg(e._repo,$h(e._path,t))}function ig(e){return pm("remove",e._path),og(e,null)}function og(e,t){e=K(e),pm("set",e._path),um("set",t,e._path,!1);const n=new b;return Am(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function sg(e){e=K(e);const t=new Zm((()=>{})),n=new ag(t);return function(e,t,n){const r=Rp(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=Ud(r).withIndex(t._queryParams.getIndex());let o;if(xp(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=kp(e.serverSyncTree_,t._path,i);else{const n=Mp(e.serverSyncTree_,t);o=Ip(e.serverSyncTree_,t._path,i,n)}return _m(e.eventQueue_,t._path,o),Tp(e.serverSyncTree_,t,n,null,!0),i}),(n=>(Mm(e,"get for query "+R(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new tg(t,new eg(e._repo,e._path),e._queryParams.getIndex())))}class ag{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Xm("value",this,new tg(e.snapshotNode,new eg(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Jm(this,e,t):null}matches(e){return e instanceof ag&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class lg{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Jm(this,e,t):null}createEvent(e,t){i(null!=e.childName,"Child events should have a childName.");const n=rg(new eg(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Xm(e.type,this,new tg(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof lg&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function cg(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Om(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new Zm(n,o||void 0),a="value"===t?new ag(s):new lg(t,s);return function(e,t,n){let r;r=".info"===Gh(t._path)?xp(e.infoSyncTree_,t,n):xp(e.serverSyncTree_,t,n),vm(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Om(e._repo,e,a)}function ug(e,t,n,r){return cg(e,"value",t,n,r)}!function(e){i(!lp,"__referenceConstructor has already been defined"),lp=e}(eg),function(e){i(!cp,"__referenceConstructor has already been defined"),cp=e}(eg);const hg="FIREBASE_DATABASE_EMULATOR_HOST",dg={};let fg=!1;function pg(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||nh("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$u("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=Km(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/gmash",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[hg]),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=Km(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new bh(bh.OWNER):new _h(e.name,e.options,t);mm("Invalid Firebase Database URL",l),ed(l.path)||nh("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=dg[t.name];i||(i={},dg[t.name]=i);let o=i[e.toURLString()];o&&nh("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Sm(e,fg,n,r),i[e.toURLString()]=o,o}(c,e,u,new vh(e.name,n));return new mg(h,e)}class mg{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(km(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new eg(this._repo,Kh())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=dg[t];n&&n[e.key]===e||nh("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Dm(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&nh("Cannot call "+e+" on a deleted database.")}}function gg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe(),t=arguments.length>1?arguments[1]:void 0;const n=Ae(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=y("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=K(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&nh("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&nh('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new bh(bh.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:w(r.mockUserToken,e.app.options.projectId);o=new bh(t)}!function(e,t,n,r){e.repoInfo_=new Th("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}cd.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},cd.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Vu(Me),Pe(new G("database",((e,t)=>{let{instanceIdentifier:n}=t;return pg(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ue(Fu,Uu,e),Ue(Fu,Uu,"esm2017")}();var yg,vg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_g={},bg=bg||{},wg=vg||self;function Eg(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Cg(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Sg="closure_uid_"+(1e9*Math.random()>>>0),kg=0;function Tg(e,t,n){return e.call.apply(e.bind,arguments)}function Ig(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function xg(e,t,n){return(xg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tg:Ig).apply(null,arguments)}function Ng(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Rg(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Pg(){this.s=this.s,this.o=this.o}Pg.prototype.s=!1,Pg.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Sg)&&e[Sg]||(e[Sg]=++kg))},Pg.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ag=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Og(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Dg(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Eg(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Mg(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Mg.prototype.h=function(){this.defaultPrevented=!0};var Lg=function(){if(!wg.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};wg.addEventListener("test",e,t),wg.removeEventListener("test",e,t)}catch(n){}return e}();function Fg(e){return/^[\s\xa0]*$/.test(e)}function Ug(){var e=wg.navigator;return e&&(e=e.userAgent)?e:""}function jg(e){return-1!=Ug().indexOf(e)}function Vg(e){return Vg[" "](e),e}Vg[" "]=function(){};var zg,Bg,qg=jg("Opera"),Wg=jg("Trident")||jg("MSIE"),Hg=jg("Edge"),Kg=Hg||Wg,Gg=jg("Gecko")&&!(-1!=Ug().toLowerCase().indexOf("webkit")&&!jg("Edge"))&&!(jg("Trident")||jg("MSIE"))&&!jg("Edge"),Qg=-1!=Ug().toLowerCase().indexOf("webkit")&&!jg("Edge");function Yg(){var e=wg.document;return e?e.documentMode:void 0}e:{var Xg="",Jg=function(){var e=Ug();return Gg?/rv:([^\);]+)(\)|;)/.exec(e):Hg?/Edge\/([\d\.]+)/.exec(e):Wg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qg?/WebKit\/(\S+)/.exec(e):qg?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Jg&&(Xg=Jg?Jg[1]:""),Wg){var Zg=Yg();if(null!=Zg&&Zg>parseFloat(Xg)){zg=String(Zg);break e}}zg=Xg}if(wg.document&&Wg){var $g=Yg();Bg=$g||(parseInt(zg,10)||void 0)}else Bg=void 0;var ey=Bg;function ty(e,t){if(Mg.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gg){e:{try{Vg(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ny[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ty.$.h.call(this)}}Rg(ty,Mg);var ny={2:"touch",3:"pen",4:"mouse"};ty.prototype.h=function(){ty.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ry="closure_listenable_"+(1e6*Math.random()|0),iy=0;function oy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++iy,this.fa=this.ia=!1}function sy(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ay(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ly(e){const t={};for(const n in e)t[n]=e[n];return t}const cy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uy(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<cy.length;t++)n=cy[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hy(e){this.src=e,this.g={},this.h=0}function dy(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Ag(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(sy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function fy(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}hy.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=fy(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new oy(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var py="closure_lm_"+(1e6*Math.random()|0),my={};function gy(e,t,n,r,i){if(r&&r.once)return vy(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)gy(e,t[o],n,r,i);return null}return n=ky(n),e&&e[ry]?e.O(t,n,Cg(r)?!!r.capture:!!r,i):yy(e,t,n,!1,r,i)}function yy(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Cg(i)?!!i.capture:!!i,a=Cy(e);if(a||(e[py]=a=new hy(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ey;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Lg||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(wy(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function vy(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)vy(e,t[o],n,r,i);return null}return n=ky(n),e&&e[ry]?e.P(t,n,Cg(r)?!!r.capture:!!r,i):yy(e,t,n,!0,r,i)}function _y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)_y(e,t[o],n,r,i);else r=Cg(r)?!!r.capture:!!r,n=ky(n),e&&e[ry]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=fy(o=e.g[t],n,r,i))&&(sy(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Cy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fy(t,n,r,i)),(n=-1<e?t[e]:null)&&by(n))}function by(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ry])dy(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wy(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cy(t))?(dy(n,e),0==n.h&&(n.src=null,t[py]=null)):sy(e)}}}function wy(e){return e in my?my[e]:my[e]="on"+e}function Ey(e,t){if(e.fa)e=!0;else{t=new ty(t,this);var n=e.listener,r=e.la||e.src;e.ia&&by(e),e=n.call(r,t)}return e}function Cy(e){return(e=e[py])instanceof hy?e:null}var Sy="__closure_events_fn_"+(1e9*Math.random()>>>0);function ky(e){return"function"===typeof e?e:(e[Sy]||(e[Sy]=function(t){return e.handleEvent(t)}),e[Sy])}function Ty(){Pg.call(this),this.i=new hy(this),this.S=this,this.J=null}function Iy(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Mg(t,e);else if(t instanceof Mg)t.target=t.target||e;else{var i=t;uy(t=new Mg(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=xy(s,r,!0,t)&&i}if(i=xy(s=t.g=e,r,!0,t)&&i,i=xy(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=xy(s=t.g=n[o],r,!1,t)&&i}function xy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&dy(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Rg(Ty,Pg),Ty.prototype[ry]=!0,Ty.prototype.removeEventListener=function(e,t,n,r){_y(this,e,t,n,r)},Ty.prototype.N=function(){if(Ty.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sy(n[r]);delete t.g[e],t.h--}}this.J=null},Ty.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ty.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ny=wg.JSON.stringify;function Ry(){var e=Fy;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Py=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ay),(e=>e.reset()));class Ay{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Oy(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Dy(e){wg.setTimeout((()=>{throw e}),0)}let My,Ly=!1,Fy=new class{constructor(){this.h=this.g=null}add(e,t){const n=Py.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Uy=()=>{const e=wg.Promise.resolve(void 0);My=()=>{e.then(jy)}};var jy=()=>{for(var e;e=Ry();){try{e.h.call(e.g)}catch(n){Dy(n)}var t=Py;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ly=!1};function Vy(e,t){Ty.call(this),this.h=e||1,this.g=t||wg,this.j=xg(this.qb,this),this.l=Date.now()}function zy(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function By(e,t,n){if("function"===typeof e)n&&(e=xg(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=xg(e.handleEvent,e)}return 2147483647<Number(t)?-1:wg.setTimeout(e,t||0)}function qy(e){e.g=By((()=>{e.g=null,e.i&&(e.i=!1,qy(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Rg(Vy,Ty),(yg=Vy.prototype).ga=!1,yg.T=null,yg.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Iy(this,"tick"),this.ga&&(zy(this),this.start()))}},yg.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yg.N=function(){Vy.$.N.call(this),zy(this),delete this.g};class Wy extends Pg{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qy(this)}N(){super.N(),this.g&&(wg.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hy(e){Pg.call(this),this.h=e,this.g={}}Rg(Hy,Pg);var Ky=[];function Gy(e,t,n,r){Array.isArray(n)||(n&&(Ky[0]=n.toString()),n=Ky);for(var i=0;i<n.length;i++){var o=gy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Qy(e){ay(e.g,(function(e,t){this.g.hasOwnProperty(t)&&by(e)}),e),e.g={}}function Yy(){this.g=!0}function Xy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ny(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Hy.prototype.N=function(){Hy.$.N.call(this),Qy(this)},Hy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yy.prototype.Ea=function(){this.g=!1},Yy.prototype.info=function(){};var Jy={},Zy=null;function $y(){return Zy=Zy||new Ty}function ev(e){Mg.call(this,Jy.Ta,e)}function tv(e){const t=$y();Iy(t,new ev(t))}function nv(e,t){Mg.call(this,Jy.STAT_EVENT,e),this.stat=t}function rv(e){const t=$y();Iy(t,new nv(t,e))}function iv(e,t){Mg.call(this,Jy.Ua,e),this.size=t}function ov(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return wg.setTimeout((function(){e()}),t)}Jy.Ta="serverreachability",Rg(ev,Mg),Jy.STAT_EVENT="statevent",Rg(nv,Mg),Jy.Ua="timingevent",Rg(iv,Mg);var sv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},av={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lv(){}function cv(e){return e.h||(e.h=e.i())}function uv(){}lv.prototype.h=null;var hv,dv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fv(){Mg.call(this,"d")}function pv(){Mg.call(this,"c")}function mv(){}function gv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Hy(this),this.P=vv,e=Kg?125:void 0,this.V=new Vy(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yv}function yv(){this.i=null,this.g="",this.h=!1}Rg(fv,Mg),Rg(pv,Mg),Rg(mv,lv),mv.prototype.g=function(){return new XMLHttpRequest},mv.prototype.i=function(){return{}},hv=new mv;var vv=45e3,_v={},bv={};function wv(e,t,n){e.L=1,e.A=Vv(Mv(t)),e.u=n,e.S=!0,Ev(e,null)}function Ev(e,t){e.G=Date.now(),Tv(e),e.B=Mv(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),$v(n.i,"t",r),e.o=0,n=e.l.J,e.h=new yv,e.g=eb(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Wy(xg(e.Pa,e,e.g),e.O)),Gy(e.U,e.g,"readystatechange",e.nb),t=e.I?ly(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),tv(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Cv(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Sv(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=kv(e,n),r==bv){4==t&&(e.s=4,rv(14),i=!1),Xy(e.j,e.m,null,"[Incomplete Response]");break}if(r==_v){e.s=4,rv(15),Xy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xy(e.j,e.m,r,null),Pv(e,r)}Cv(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,rv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),K_(t),t.M=!0,rv(11))):(Xy(e.j,e.m,n,"[Invalid Chunked Response]"),Rv(e),Nv(e))}function kv(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?bv:(n=Number(t.substring(n,r)),isNaN(n)?_v:(r+=1)+n>t.length?bv:(t=t.slice(r,r+n),e.o=r+n,t))}function Tv(e){e.Y=Date.now()+e.P,Iv(e,e.P)}function Iv(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=ov(xg(e.lb,e),t)}function xv(e){e.C&&(wg.clearTimeout(e.C),e.C=null)}function Nv(e){0==e.l.H||e.J||Y_(e.l,e)}function Rv(e){xv(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,zy(e.V),Qy(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Pv(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||s_(n.i,e)))if(!e.K&&s_(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Q_(n),U_(n)}H_(n),rv(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ov(xg(n.ib,n),6e3));if(1>=o_(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else J_(n,11)}else if((e.K||n.g==e)&&Q_(n),!Fg(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(a_(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,jv(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=$_(r,r.J?r.pa:null,r.Y),s.K){l_(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(xv(a),Tv(a)),r.g=s}else W_(r);0<n.j.length&&V_(n)}else"stop"!=c[0]&&"close"!=c[0]||J_(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?J_(n,7):F_(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}tv()}catch(c){}}function Av(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Eg(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Eg(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Eg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(yg=gv.prototype).setTimeout=function(e){this.P=e},yg.nb=function(e){e=e.target;const t=this.M;t&&3==P_(e)?t.l():this.Pa(e)},yg.Pa=function(e){try{if(e==this.g)e:{const u=P_(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Kg||this.g&&(this.h.h||this.g.ja()||A_(this.g)))){this.J||4!=u||7==t||tv(),xv(this);var n=this.g.da();this.ca=n;t:if(Cv(this)){var r=A_(this.g);e="";var i=r.length,o=4==P_(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Rv(this),Nv(this);var s="";break t}this.h.i=new wg.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fg(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,rv(12),Rv(this),Nv(this);break e}Xy(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pv(this,n)}this.S?(Sv(this,u,s),Kg&&this.i&&3==u&&(Gy(this.U,this.V,"tick",this.mb),this.V.start())):(Xy(this.j,this.m,s,null),Pv(this,s)),4==u&&Rv(this),this.i&&!this.J&&(4==u?Y_(this.l,this):(this.i=!1,Tv(this)))}else(function(e){const t={};e=(e.g&&2<=P_(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Fg(e[r]))continue;var n=Oy(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,rv(12)):(this.s=0,rv(13)),Rv(this),Nv(this)}}}catch(u){}},yg.mb=function(){if(this.g){var e=P_(this.g),t=this.g.ja();this.o<t.length&&(xv(this),Sv(this,e,t),this.i&&4!=e&&Tv(this))}},yg.cancel=function(){this.J=!0,Rv(this)},yg.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(tv(),rv(17)),Rv(this),this.s=2,Nv(this)):Iv(this,this.Y-e)};var Ov=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dv(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Dv){this.h=e.h,Lv(this,e.j),this.s=e.s,this.g=e.g,Fv(this,e.m),this.l=e.l;var t=e.i,n=new Yv;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Uv(this,n),this.o=e.o}else e&&(t=String(e).match(Ov))?(this.h=!1,Lv(this,t[1]||"",!0),this.s=zv(t[2]||""),this.g=zv(t[3]||"",!0),Fv(this,t[4]),this.l=zv(t[5]||"",!0),Uv(this,t[6]||"",!0),this.o=zv(t[7]||"")):(this.h=!1,this.i=new Yv(null,this.h))}function Mv(e){return new Dv(e)}function Lv(e,t,n){e.j=n?zv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Fv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Uv(e,t,n){t instanceof Yv?(e.i=t,function(e,t){t&&!e.j&&(Xv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jv(this,t),$v(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Bv(t,Gv)),e.i=new Yv(t,e.h))}function jv(e,t,n){e.i.set(t,n)}function Vv(e){return jv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bv(t,Wv,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bv(t,Wv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bv(n,"/"==n.charAt(0)?Kv:Hv,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bv(n,Qv)),e.join("")};var Wv=/[#\/\?@]/g,Hv=/[#\?:]/g,Kv=/[#\?]/g,Gv=/[#\?@]/g,Qv=/#/g;function Yv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xv(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jv(e,t){Xv(e),t=e_(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Zv(e,t){return Xv(e),t=e_(e,t),e.g.has(t)}function $v(e,t,n){Jv(e,t),0<n.length&&(e.i=null,e.g.set(e_(e,t),Og(n)),e.h+=n.length)}function e_(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(yg=Yv.prototype).add=function(e,t){Xv(this),this.i=null,e=e_(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},yg.forEach=function(e,t){Xv(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},yg.ta=function(){Xv(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},yg.Z=function(e){Xv(this);let t=[];if("string"===typeof e)Zv(this,e)&&(t=t.concat(this.g.get(e_(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},yg.set=function(e,t){return Xv(this),this.i=null,Zv(this,e=e_(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},yg.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},yg.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var t_=class{constructor(e,t){this.g=e,this.map=t}};function n_(e){this.l=e||r_,wg.PerformanceNavigationTiming?e=0<(e=wg.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(wg.g&&wg.g.Ka&&wg.g.Ka()&&wg.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var r_=10;function i_(e){return!!e.h||!!e.g&&e.g.size>=e.j}function o_(e){return e.h?1:e.g?e.g.size:0}function s_(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function a_(e,t){e.g?e.g.add(t):e.h=t}function l_(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function c_(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Og(e.i)}n_.prototype.cancel=function(){if(this.i=c_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var u_,h_=class{stringify(e){return wg.JSON.stringify(e,void 0)}parse(e){return wg.JSON.parse(e,void 0)}};function d_(){this.g=new h_}function f_(e,t,n){const r=n||"";try{Av(e,(function(e,n){let i=e;Cg(e)&&(i=Ny(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function p_(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function m_(e){this.l=e.ec||null,this.j=e.ob||!1}function g_(e,t){Ty.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=y_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rg(m_,lv),m_.prototype.g=function(){return new g_(this.l,this.j)},m_.prototype.i=(u_={},function(){return u_}),Rg(g_,Ty);var y_=0;function v_(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function __(e){e.readyState=4,e.l=null,e.j=null,e.A=null,b_(e)}function b_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(yg=g_.prototype).open=function(e,t){if(this.readyState!=y_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,b_(this)},yg.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||wg).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},yg.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,__(this)),this.readyState=y_},yg.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,b_(this)),this.g&&(this.readyState=3,b_(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof wg.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;v_(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},yg.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?__(this):b_(this),3==this.readyState&&v_(this)}},yg.Za=function(e){this.g&&(this.response=this.responseText=e,__(this))},yg.Ya=function(e){this.g&&(this.response=e,__(this))},yg.ka=function(){this.g&&__(this)},yg.setRequestHeader=function(e,t){this.v.append(e,t)},yg.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},yg.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(g_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var w_=wg.JSON.parse;function E_(e){Ty.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=C_,this.L=this.M=!1}Rg(E_,Ty);var C_="",S_=/^https?$/i,k_=["POST","PUT"];function T_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,I_(e),N_(e)}function I_(e){e.F||(e.F=!0,Iy(e,"complete"),Iy(e,"error"))}function x_(e){if(e.h&&"undefined"!=typeof bg&&(!e.C[1]||4!=P_(e)||2!=e.da()))if(e.v&&4==P_(e))By(e.La,0,e);else if(Iy(e,"readystatechange"),4==P_(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Ov)[1]||null;!i&&wg.self&&wg.self.location&&(i=wg.self.location.protocol.slice(0,-1)),r=!S_.test(i?i.toLowerCase():"")}n=r}if(n)Iy(e,"complete"),Iy(e,"success");else{e.m=6;try{var o=2<P_(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",I_(e)}}finally{N_(e)}}}function N_(e,t){if(e.g){R_(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Iy(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function R_(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(wg.clearTimeout(e.A),e.A=null)}function P_(e){return e.g?e.g.readyState:0}function A_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case C_:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(jb){return null}}function O_(e){let t="";return ay(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function D_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=O_(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):jv(e,t,n))}function M_(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function L_(e){this.Ga=0,this.j=[],this.l=new Yy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=M_("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=M_("baseRetryDelayMs",5e3,e),this.hb=M_("retryDelaySeedMs",1e4,e),this.eb=M_("forwardChannelMaxRetries",2,e),this.xa=M_("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new n_(e&&e.concurrentRequestLimit),this.Ja=new d_,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function F_(e){if(j_(e),3==e.H){var t=e.W++,n=Mv(e.I);if(jv(n,"SID",e.K),jv(n,"RID",t),jv(n,"TYPE","terminate"),B_(e,n),(t=new gv(e,e.l,t)).L=2,t.A=Vv(Mv(n)),n=!1,wg.navigator&&wg.navigator.sendBeacon)try{n=wg.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&wg.Image&&((new Image).src=t.A,n=!0),n||(t.g=eb(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Tv(t)}Z_(e)}function U_(e){e.g&&(K_(e),e.g.cancel(),e.g=null)}function j_(e){U_(e),e.u&&(wg.clearTimeout(e.u),e.u=null),Q_(e),e.i.cancel(),e.m&&("number"===typeof e.m&&wg.clearTimeout(e.m),e.m=null)}function V_(e){if(!i_(e.i)&&!e.m){e.m=!0;var t=e.Na;My||Uy(),Ly||(My(),Ly=!0),Fy.add(t,e),e.C=0}}function z_(e,t){var n;n=t?t.m:e.W++;const r=Mv(e.I);jv(r,"SID",e.K),jv(r,"RID",n),jv(r,"AID",e.V),B_(e,r),e.o&&e.s&&D_(r,e.o,e.s),n=new gv(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=q_(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),a_(e.i,n),wv(n,r,t)}function B_(e,t){e.na&&ay(e.na,(function(e,n){jv(t,n,e)})),e.h&&Av({},(function(e,n){jv(t,n,e)}))}function q_(e,t,n){n=Math.min(e.j.length,n);var r=e.h?xg(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{f_(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function W_(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;My||Uy(),Ly||(My(),Ly=!0),Fy.add(t,e),e.A=0}}function H_(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ov(xg(e.Ma,e),X_(e,e.A)),e.A++,!0)}function K_(e){null!=e.B&&(wg.clearTimeout(e.B),e.B=null)}function G_(e){e.g=new gv(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Mv(e.wa);jv(t,"RID","rpc"),jv(t,"SID",e.K),jv(t,"AID",e.V),jv(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&jv(t,"TO",e.qa),jv(t,"TYPE","xmlhttp"),B_(e,t),e.o&&e.s&&D_(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Vv(Mv(t)),n.u=null,n.S=!0,Ev(n,e)}function Q_(e){null!=e.v&&(wg.clearTimeout(e.v),e.v=null)}function Y_(e,t){var n=null;if(e.g==t){Q_(e),K_(e),e.g=null;var r=2}else{if(!s_(e.i,t))return;n=t.F,l_(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Iy(r=$y(),new iv(r,n)),V_(e)}else W_(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(o_(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ov(xg(e.Na,e,t),X_(e,e.C)),e.C++,!0))}(e,t)||2==r&&H_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:J_(e,5);break;case 4:J_(e,10);break;case 3:J_(e,6);break;default:J_(e,2)}}function X_(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function J_(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=xg(e.pb,e);n||(n=new Dv("//www.google.com/images/cleardot.gif"),wg.location&&"http"==wg.location.protocol||Lv(n,"https"),Vv(n)),function(e,t){const n=new Yy;if(wg.Image){const r=new Image;r.onload=Ng(p_,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ng(p_,n,r,"TestLoadImage: error",!1,t),r.onabort=Ng(p_,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ng(p_,n,r,"TestLoadImage: timeout",!1,t),wg.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rv(2);e.H=0,e.h&&e.h.za(t),Z_(e),j_(e)}function Z_(e){if(e.H=0,e.ma=[],e.h){const t=c_(e.i);0==t.length&&0==e.j.length||(Dg(e.ma,t),Dg(e.ma,e.j),e.i.i.length=0,Og(e.j),e.j.length=0),e.h.ya()}}function $_(e,t,n){var r=n instanceof Dv?Mv(n):new Dv(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Fv(r,r.m);else{var i=wg.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Dv(null);r&&Lv(o,r),t&&(o.g=t),i&&Fv(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&jv(r,n,t),jv(r,"VER",e.ra),B_(e,r),r}function eb(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new E_(new m_({ob:n})):new E_(e.va)).Oa(e.J),t}function tb(){}function nb(){if(Wg&&!(10<=Number(ey)))throw Error("Environmental error: no available transport.")}function rb(e,t){Ty.call(this),this.g=new L_(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Fg(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fg(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new sb(this)}function ib(e){fv.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ob(){pv.call(this),this.status=1}function sb(e){this.g=e}function ab(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function lb(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function cb(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(yg=E_.prototype).Oa=function(e){this.M=e},yg.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hv.g(),this.C=this.u?cv(this.u):cv(hv),this.g.onreadystatechange=xg(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void T_(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=wg.FormData&&e instanceof wg.FormData,!(0<=Ag(k_,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{R_(this),0<this.B&&((this.L=function(e){return Wg&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xg(this.ua,this)):this.A=By(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){T_(this,o)}},yg.ua=function(){"undefined"!=typeof bg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Iy(this,"timeout"),this.abort(8))},yg.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Iy(this,"complete"),Iy(this,"abort"),N_(this))},yg.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),N_(this,!0)),E_.$.N.call(this)},yg.La=function(){this.s||(this.G||this.v||this.l?x_(this):this.kb())},yg.kb=function(){x_(this)},yg.isActive=function(){return!!this.g},yg.da=function(){try{return 2<P_(this)?this.g.status:-1}catch(u_){return-1}},yg.ja=function(){try{return this.g?this.g.responseText:""}catch(u_){return""}},yg.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),w_(t)}},yg.Ia=function(){return this.m},yg.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(yg=L_.prototype).ra=8,yg.H=1,yg.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new gv(this,this.l,e);let o=this.s;if(this.U&&(o?(o=ly(o),uy(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=q_(this,i,t),jv(n=Mv(this.I),"RID",e),jv(n,"CVER",22),this.F&&jv(n,"X-HTTP-Session-Id",this.F),B_(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(O_(o)))+"&"+t:this.o&&D_(n,this.o,o)),a_(this.i,i),this.bb&&jv(n,"TYPE","init"),this.P?(jv(n,"$req",t),jv(n,"SID","null"),i.aa=!0,wv(i,n,null)):wv(i,n,t),this.H=2}}else 3==this.H&&(e?z_(this,e):0==this.j.length||i_(this.i)||z_(this))},yg.Ma=function(){if(this.u=null,G_(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ov(xg(this.jb,this),e)}},yg.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rv(10),U_(this),G_(this))},yg.ib=function(){null!=this.v&&(this.v=null,U_(this),H_(this),rv(19))},yg.pb=function(e){e?(this.l.info("Successfully pinged google.com"),rv(2)):(this.l.info("Failed to ping google.com"),rv(1))},yg.isActive=function(){return!!this.h&&this.h.isActive(this)},(yg=tb.prototype).Ba=function(){},yg.Aa=function(){},yg.za=function(){},yg.ya=function(){},yg.isActive=function(){return!0},yg.Va=function(){},nb.prototype.g=function(e,t){return new rb(e,t)},Rg(rb,Ty),rb.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;rv(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=$_(e,null,e.Y),V_(e)},rb.prototype.close=function(){F_(this.g)},rb.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ny(e),e=n);t.j.push(new t_(t.fb++,e)),3==t.H&&V_(t)},rb.prototype.N=function(){this.g.h=null,delete this.j,F_(this.g),delete this.g,rb.$.N.call(this)},Rg(ib,fv),Rg(ob,pv),Rg(sb,tb),sb.prototype.Ba=function(){Iy(this.g,"a")},sb.prototype.Aa=function(e){Iy(this.g,new ib(e))},sb.prototype.za=function(e){Iy(this.g,new ob)},sb.prototype.ya=function(){Iy(this.g,"b")},Rg(ab,(function(){this.blockSize=-1})),ab.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ab.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)lb(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){lb(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){lb(this,r),i=0;break}}this.h=i,this.i+=t},ab.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var ub={};function hb(e){return-128<=e&&128>e?function(e,t){var n=ub;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new cb([0|e],0>e?-1:0)})):new cb([0|e],0>e?-1:0)}function db(e){if(isNaN(e)||!isFinite(e))return pb;if(0>e)return _b(db(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=fb;return new cb(t,0)}var fb=4294967296,pb=hb(0),mb=hb(1),gb=hb(16777216);function yb(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function vb(e){return-1==e.h}function _b(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new cb(n,~e.h).add(mb)}function bb(e,t){return e.add(_b(t))}function wb(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Eb(e,t){this.g=e,this.h=t}function Cb(e,t){if(yb(t))throw Error("division by zero");if(yb(e))return new Eb(pb,pb);if(vb(e))return t=Cb(_b(e),t),new Eb(_b(t.g),_b(t.h));if(vb(t))return t=Cb(e,_b(t)),new Eb(_b(t.g),t.h);if(30<e.g.length){if(vb(e)||vb(t))throw Error("slowDivide_ only works with positive integers.");for(var n=mb,r=t;0>=r.X(e);)n=Sb(n),r=Sb(r);var i=kb(n,1),o=kb(r,1);for(r=kb(r,2),n=kb(n,2);!yb(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=kb(r,1),n=kb(n,1)}return t=bb(e,i.R(t)),new Eb(i,t)}for(i=pb;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=db(n)).R(t);vb(s)||0<s.X(e);)s=(o=db(n-=r)).R(t);yb(o)&&(o=mb),i=i.add(o),e=bb(e,s)}return new Eb(i,e)}function Sb(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new cb(n,e.h)}function kb(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new cb(i,e.h)}(yg=cb.prototype).ea=function(){if(vb(this))return-_b(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:fb+r)*t,t*=fb}return e},yg.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(yb(this))return"0";if(vb(this))return"-"+_b(this).toString(e);for(var t=db(Math.pow(e,6)),n=this,r="";;){var i=Cb(n,t).g,o=((0<(n=bb(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(yb(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},yg.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},yg.X=function(e){return vb(e=bb(this,e))?-1:yb(e)?0:1},yg.abs=function(){return vb(this)?_b(this):this},yg.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new cb(n,-2147483648&n[n.length-1]?-1:0)},yg.R=function(e){if(yb(this)||yb(e))return pb;if(vb(this))return vb(e)?_b(this).R(_b(e)):_b(_b(this).R(e));if(vb(e))return _b(this.R(_b(e)));if(0>this.X(gb)&&0>e.X(gb))return db(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,wb(n,2*r+2*i),n[2*r+2*i+1]+=o*l,wb(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,wb(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,wb(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new cb(n,0)},yg.gb=function(e){return Cb(this,e).h},yg.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new cb(n,this.h&e.h)},yg.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new cb(n,this.h|e.h)},yg.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new cb(n,this.h^e.h)},nb.prototype.createWebChannel=nb.prototype.g,rb.prototype.send=rb.prototype.u,rb.prototype.open=rb.prototype.m,rb.prototype.close=rb.prototype.close,sv.NO_ERROR=0,sv.TIMEOUT=8,sv.HTTP_ERROR=6,av.COMPLETE="complete",uv.EventType=dv,dv.OPEN="a",dv.CLOSE="b",dv.ERROR="c",dv.MESSAGE="d",Ty.prototype.listen=Ty.prototype.O,E_.prototype.listenOnce=E_.prototype.P,E_.prototype.getLastError=E_.prototype.Sa,E_.prototype.getLastErrorCode=E_.prototype.Ia,E_.prototype.getStatus=E_.prototype.da,E_.prototype.getResponseJson=E_.prototype.Wa,E_.prototype.getResponseText=E_.prototype.ja,E_.prototype.send=E_.prototype.ha,E_.prototype.setWithCredentials=E_.prototype.Oa,ab.prototype.digest=ab.prototype.l,ab.prototype.reset=ab.prototype.reset,ab.prototype.update=ab.prototype.j,cb.prototype.add=cb.prototype.add,cb.prototype.multiply=cb.prototype.R,cb.prototype.modulo=cb.prototype.gb,cb.prototype.compare=cb.prototype.X,cb.prototype.toNumber=cb.prototype.ea,cb.prototype.toString=cb.prototype.toString,cb.prototype.getBits=cb.prototype.D,cb.fromNumber=db,cb.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return _b(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=db(Math.pow(n,8)),i=pb,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=db(Math.pow(n,s)),i=i.R(s).add(db(a))):i=(i=i.R(r)).add(db(a))}return i};var Tb=_g.createWebChannelTransport=function(){return new nb},Ib=_g.getStatEventTarget=function(){return $y()},xb=_g.ErrorCode=sv,Nb=_g.EventType=av,Rb=_g.Event=Jy,Pb=_g.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ab=(_g.FetchXmlHttpFactory=m_,_g.WebChannel=uv),Ob=_g.XhrIo=E_,Db=_g.Md5=ab,Mb=_g.Integer=cb;const Lb="@firebase/firestore";class Fb{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fb.UNAUTHENTICATED=new Fb(null),Fb.GOOGLE_CREDENTIALS=new Fb("google-credentials-uid"),Fb.FIRST_PARTY=new Fb("first-party-uid"),Fb.MOCK_USER=new Fb("mock-user");let Ub="10.7.0";const jb=new ie("@firebase/firestore");function Vb(){return jb.logLevel}function zb(e){if(jb.logLevel<=$.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wb);jb.debug("Firestore (".concat(Ub,"): ").concat(e),...i)}}function Bb(e){if(jb.logLevel<=$.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wb);jb.error("Firestore (".concat(Ub,"): ").concat(e),...i)}}function qb(e){if(jb.logLevel<=$.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wb);jb.warn("Firestore (".concat(Ub,"): ").concat(e),...i)}}function Wb(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Hb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ub,") INTERNAL ASSERTION FAILED: ")+e;throw Bb(t),new Error(t)}function Kb(e,t){e||Hb()}function Gb(e,t){return e}const Qb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yb extends T{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Xb{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Jb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Zb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Fb.UNAUTHENTICATED)))}shutdown(){}}class $b{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ew{constructor(e){this.t=e,this.currentUser=Fb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Xb;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xb,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{zb("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(zb("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xb)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(zb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Kb("string"==typeof t.accessToken),new Jb(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Kb(null===e||"string"==typeof e),new Fb(e)}}class tw{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Fb.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nw{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new tw(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Fb.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&zb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,zb("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{zb("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):zb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Kb("string"==typeof e.token),this.R=e.token,new rw(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ow(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class sw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=ow(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function aw(e,t){return e<t?-1:e>t?1:0}function lw(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class cw{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yb(Qb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yb(Qb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Yb(Qb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yb(Qb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cw.fromMillis(Date.now())}static fromDate(e){return cw.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new cw(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?aw(this.nanoseconds,e.nanoseconds):aw(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class uw{constructor(e){this.timestamp=e}static fromTimestamp(e){return new uw(e)}static min(){return new uw(new cw(0,0))}static max(){return new uw(new cw(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hw{constructor(e,t,n){void 0===t?t=0:t>e.length&&Hb(),void 0===n?n=e.length-t:n>e.length-t&&Hb(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===hw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hw?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dw extends hw{construct(e,t,n){return new dw(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Yb(Qb.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new dw(e)}static emptyPath(){return new dw([])}}const fw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pw extends hw{construct(e,t,n){return new pw(e,t,n)}static isValidIdentifier(e){return fw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pw.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pw(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Yb(Qb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Yb(Qb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Yb(Qb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Yb(Qb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pw(t)}static emptyPath(){return new pw([])}}class mw{constructor(e){this.path=e}static fromPath(e){return new mw(dw.fromString(e))}static fromName(e){return new mw(dw.fromString(e).popFirst(5))}static empty(){return new mw(dw.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dw.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dw.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mw(new dw(e.slice()))}}class gw{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}gw.UNKNOWN_ID=-1;function yw(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=uw.fromTimestamp(1e9===r?new cw(n+1,0):new cw(n,r));return new _w(i,mw.empty(),t)}function vw(e){return new _w(e.readTime,e.key,-1)}class _w{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new _w(uw.min(),mw.empty(),-1)}static max(){return new _w(uw.max(),mw.empty(),-1)}}function bw(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=mw.comparator(e.documentKey,t.documentKey),0!==n?n:aw(e.largestBatchId,t.largestBatchId))}const ww="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ew{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cw(e){if(e.code!==Qb.FAILED_PRECONDITION||e.message!==ww)throw e;zb("LocalStore","Unexpectedly lost primary lease")}class Sw{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Hb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Sw(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Sw?t:Sw.resolve(t)}catch(e){return Sw.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Sw.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Sw.reject(t)}static resolve(e){return new Sw(((t,n)=>{t(e)}))}static reject(e){return new Sw(((t,n)=>{n(e)}))}static waitFor(e){return new Sw(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Sw.resolve(!1);for(const n of e)t=t.next((e=>e?Sw.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Sw(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Sw(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function kw(e){return"IndexedDbTransactionError"===e.name}class Tw{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Iw(e){return null==e}function xw(e){return 0===e&&1/e==-1/0}function Nw(e){return"number"==typeof e&&Number.isInteger(e)&&!xw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Tw._e=-1;const Rw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Aw=Pw;function Ow(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Dw(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Mw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Lw{constructor(e,t){this.comparator=e,this.root=t||Uw.EMPTY}insert(e,t){return new Lw(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Uw.BLACK,null,null))}remove(e){return new Lw(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Uw.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fw(this.root,e,this.comparator,!0)}}class Fw{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Uw{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Uw.RED,this.left=null!=r?r:Uw.EMPTY,this.right=null!=i?i:Uw.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Uw(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Uw.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Uw.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Uw.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Uw.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Hb();if(this.right.isRed())throw Hb();const e=this.left.check();if(e!==this.right.check())throw Hb();return e+(this.isRed()?0:1)}}Uw.EMPTY=null,Uw.RED=!0,Uw.BLACK=!1,Uw.EMPTY=new class{constructor(){this.size=0}get key(){throw Hb()}get value(){throw Hb()}get color(){throw Hb()}get left(){throw Hb()}get right(){throw Hb()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Uw(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jw{constructor(e){this.comparator=e,this.data=new Lw(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vw(this.data.getIterator())}getIteratorFrom(e){return new Vw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof jw))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new jw(this.comparator);return t.data=e,t}}class Vw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zw{constructor(e){this.fields=e,e.sort(pw.comparator)}static empty(){return new zw([])}unionWith(e){let t=new jw(pw.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new zw(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lw(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qw{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Bw("Invalid base64 string: "+e):e}}(e);return new qw(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new qw(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return aw(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qw.EMPTY_BYTE_STRING=new qw("");const Ww=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hw(e){if(Kb(!!e),"string"==typeof e){let t=0;const n=Ww.exec(e);if(Kb(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Kw(e.seconds),nanos:Kw(e.nanos)}}function Kw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gw(e){return"string"==typeof e?qw.fromBase64String(e):qw.fromUint8Array(e)}function Qw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yw(e){const t=e.mapValue.fields.__previous_value__;return Qw(t)?Yw(t):t}function Xw(e){const t=Hw(e.mapValue.fields.__local_write_time__.timestampValue);return new cw(t.seconds,t.nanos)}class Jw{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Zw{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zw("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zw&&e.projectId===this.projectId&&e.database===this.database}}const $w={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function eE(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qw(e)?4:pE(e)?9007199254740991:10:Hb()}function tE(e,t){if(e===t)return!0;const n=eE(e);if(n!==eE(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xw(e).isEqual(Xw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Hw(e.timestampValue),r=Hw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gw(e.bytesValue).isEqual(Gw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Kw(e.geoPointValue.latitude)===Kw(t.geoPointValue.latitude)&&Kw(e.geoPointValue.longitude)===Kw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Kw(e.integerValue)===Kw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Kw(e.doubleValue),r=Kw(t.doubleValue);return n===r?xw(n)===xw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return lw(e.arrayValue.values||[],t.arrayValue.values||[],tE);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ow(n)!==Ow(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tE(n[i],r[i])))return!1;return!0}(e,t);default:return Hb()}}function nE(e,t){return void 0!==(e.values||[]).find((e=>tE(e,t)))}function rE(e,t){if(e===t)return 0;const n=eE(e),r=eE(t);if(n!==r)return aw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return aw(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Kw(e.integerValue||e.doubleValue),r=Kw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return iE(e.timestampValue,t.timestampValue);case 4:return iE(Xw(e),Xw(t));case 5:return aw(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Gw(e),r=Gw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=aw(n[i],r[i]);if(0!==e)return e}return aw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=aw(Kw(e.latitude),Kw(t.latitude));return 0!==n?n:aw(Kw(e.longitude),Kw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=rE(n[i],r[i]);if(e)return e}return aw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===$w.mapValue&&t===$w.mapValue)return 0;if(e===$w.mapValue)return 1;if(t===$w.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=aw(r[s],o[s]);if(0!==e)return e;const t=rE(n[r[s]],i[o[s]]);if(0!==t)return t}return aw(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Hb()}}function iE(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return aw(e,t);const n=Hw(e),r=Hw(t),i=aw(n.seconds,r.seconds);return 0!==i?i:aw(n.nanos,r.nanos)}function oE(e){return sE(e)}function sE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Hw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Gw(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return mw.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=sE(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(sE(e.fields[i]));return n+"}"}(e.mapValue):Hb()}function aE(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function lE(e){return!!e&&"integerValue"in e}function cE(e){return!!e&&"arrayValue"in e}function uE(e){return!!e&&"nullValue"in e}function hE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dE(e){return!!e&&"mapValue"in e}function fE(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Dw(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=fE(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fE(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pE(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class mE{constructor(e){this.value=e}static empty(){return new mE({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!dE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fE(t)}setAll(e){let t=pw.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=fE(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());dE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tE(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];dE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Dw(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new mE(fE(this.value))}}function gE(e){const t=[];return Dw(e.fields,((e,n)=>{const r=new pw([e]);if(dE(n)){const e=gE(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new zw(t)}class yE{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new yE(e,0,uw.min(),uw.min(),uw.min(),mE.empty(),0)}static newFoundDocument(e,t,n,r){return new yE(e,1,t,uw.min(),n,r,0)}static newNoDocument(e,t){return new yE(e,2,t,uw.min(),uw.min(),mE.empty(),0)}static newUnknownDocument(e,t){return new yE(e,3,t,uw.min(),uw.min(),mE.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(uw.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mE.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mE.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=uw.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yE&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yE(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class vE{constructor(e,t){this.position=e,this.inclusive=t}}function _E(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?mw.comparator(mw.fromName(s.referenceValue),n.key):rE(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function bE(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!tE(e.position[n],t.position[n]))return!1;return!0}class wE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function EE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class CE{}class SE extends CE{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new AE(e,t,n):"array-contains"===t?new LE(e,n):"in"===t?new FE(e,n):"not-in"===t?new UE(e,n):"array-contains-any"===t?new jE(e,n):new SE(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new OE(e,n):new DE(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(rE(t,this.value)):null!==t&&eE(this.value)===eE(t)&&this.matchesComparison(rE(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hb()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kE extends CE{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new kE(e,t)}matches(e){return TE(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function TE(e){return"and"===e.op}function IE(e){return xE(e)&&TE(e)}function xE(e){for(const t of e.filters)if(t instanceof kE)return!1;return!0}function NE(e){if(e instanceof SE)return e.field.canonicalString()+e.op.toString()+oE(e.value);if(IE(e))return e.filters.map((e=>NE(e))).join(",");{const t=e.filters.map((e=>NE(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function RE(e,t){return e instanceof SE?function(e,t){return t instanceof SE&&e.op===t.op&&e.field.isEqual(t.field)&&tE(e.value,t.value)}(e,t):e instanceof kE?function(e,t){return t instanceof kE&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&RE(n,t.filters[r])),!0)}(e,t):void Hb()}function PE(e){return e instanceof SE?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(oE(e.value))}(e):e instanceof kE?function(e){return e.op.toString()+" {"+e.getFilters().map(PE).join(" ,")+"}"}(e):"Filter"}class AE extends SE{constructor(e,t,n){super(e,t,n),this.key=mw.fromName(n.referenceValue)}matches(e){const t=mw.comparator(e.key,this.key);return this.matchesComparison(t)}}class OE extends SE{constructor(e,t){super(e,"in",t),this.keys=ME("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class DE extends SE{constructor(e,t){super(e,"not-in",t),this.keys=ME("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ME(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>mw.fromName(e.referenceValue)))}class LE extends SE{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cE(t)&&nE(t.arrayValue,this.value)}}class FE extends SE{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nE(this.value.arrayValue,t)}}class UE extends SE{constructor(e,t){super(e,"not-in",t)}matches(e){if(nE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nE(this.value.arrayValue,t)}}class jE extends SE{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cE(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>nE(this.value.arrayValue,e)))}}class VE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function zE(e){return new VE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function BE(e){const t=Gb(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>NE(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Iw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>oE(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>oE(e))).join(",")),t.ce=e}return t.ce}function qE(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!EE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!RE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bE(e.startAt,t.startAt)&&bE(e.endAt,t.endAt)}function WE(e){return mw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class HE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function KE(e,t,n,r,i,o,s,a){return new HE(e,t,n,r,i,o,s,a)}function GE(e){return new HE(e)}function QE(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function YE(e){return null!==e.collectionGroup}function XE(e){const t=Gb(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new jw(pw.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new wE(r,n))})),e.has(pw.keyField().canonicalString())||t.le.push(new wE(pw.keyField(),n))}return t.le}function JE(e){const t=Gb(e);return t.he||(t.he=ZE(t,XE(e))),t.he}function ZE(e,t){if("F"===e.limitType)return zE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new wE(e.field,t)}));const n=e.endAt?new vE(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new vE(e.startAt.position,e.startAt.inclusive):null;return zE(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $E(e,t){const n=e.filters.concat([t]);return new HE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function eC(e,t,n){return new HE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tC(e,t){return qE(JE(e),JE(t))&&e.limitType===t.limitType}function nC(e){return"".concat(BE(JE(e)),"|lt:").concat(e.limitType)}function rC(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>PE(e))).join(", "),"]")),Iw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>oE(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>oE(e))).join(",")),"Target(".concat(t,")")}(JE(e)),"; limitType=").concat(e.limitType,")")}function iC(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):mw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of XE(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=_E(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,XE(e),t))&&!(e.endAt&&!function(e,t,n){const r=_E(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,XE(e),t))}(e,t)}function oC(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function sC(e){return(t,n)=>{let r=!1;for(const i of XE(e)){const e=aC(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function aC(e,t,n){const r=e.field.isKeyField()?mw.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?rE(r,i):Hb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Hb()}}class lC{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Dw(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Mw(this.inner)}size(){return this.innerSize}}const cC=new Lw(mw.comparator);function uC(){return cC}const hC=new Lw(mw.comparator);function dC(){let e=hC;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function fC(e){let t=hC;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function pC(){return gC()}function mC(){return gC()}function gC(){return new lC((e=>e.toString()),((e,t)=>e.isEqual(t)))}const yC=new Lw(mw.comparator),vC=new jw(mw.comparator);function _C(){let e=vC;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const bC=new jw(aw);function wC(){return bC}function EC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xw(t)?"-0":t}}function CC(e){return{integerValue:""+e}}function SC(e,t){return Nw(t)?CC(t):EC(e,t)}class kC{constructor(){this._=void 0}}function TC(e,t,n){return e instanceof NC?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Qw(t)&&(t=Yw(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof RC?PC(e,t):e instanceof AC?OC(e,t):function(e,t){const n=xC(e,t),r=MC(n)+MC(e.Ie);return lE(n)&&lE(e.Ie)?CC(r):EC(e.serializer,r)}(e,t)}function IC(e,t,n){return e instanceof RC?PC(e,t):e instanceof AC?OC(e,t):n}function xC(e,t){return e instanceof DC?function(e){return lE(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class NC extends kC{}class RC extends kC{constructor(e){super(),this.elements=e}}function PC(e,t){const n=LC(t);for(const r of e.elements)n.some((e=>tE(e,r)))||n.push(r);return{arrayValue:{values:n}}}class AC extends kC{constructor(e){super(),this.elements=e}}function OC(e,t){let n=LC(t);for(const r of e.elements)n=n.filter((e=>!tE(e,r)));return{arrayValue:{values:n}}}class DC extends kC{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function MC(e){return Kw(e.integerValue||e.doubleValue)}function LC(e){return cE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class FC{constructor(e,t){this.version=e,this.transformResults=t}}class UC{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new UC}static exists(e){return new UC(void 0,e)}static updateTime(e){return new UC(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jC(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class VC{}function zC(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new JC(e.key,UC.none()):new KC(e.key,e.data,UC.none());{const n=e.data,r=mE.empty();let i=new jw(pw.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new GC(e.key,r,new zw(i.toArray()),UC.none())}}function BC(e,t,n){e instanceof KC?function(e,t,n){const r=e.value.clone(),i=YC(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof GC?function(e,t,n){if(!jC(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=YC(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(QC(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qC(e,t,n,r){return e instanceof KC?function(e,t,n,r){if(!jC(e.precondition,t))return n;const i=e.value.clone(),o=XC(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof GC?function(e,t,n,r){if(!jC(e.precondition,t))return n;const i=XC(e.fieldTransforms,r,t),o=t.data;return o.setAll(QC(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return jC(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function WC(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=xC(r.transform,e||null);null!=i&&(null===n&&(n=mE.empty()),n.set(r.field,i))}return n||null}function HC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&lw(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof RC&&t instanceof RC||e instanceof AC&&t instanceof AC?lw(e.elements,t.elements,tE):e instanceof DC&&t instanceof DC?tE(e.Ie,t.Ie):e instanceof NC&&t instanceof NC}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class KC extends VC{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class GC extends VC{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function QC(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function YC(e,t,n){const r=new Map;Kb(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,IC(s,a,n[i]))}return r}function XC(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,TC(e,o,t))}return r}class JC extends VC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZC extends VC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $C{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&BC(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=qC(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=qC(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=mC();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=zC(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(uw.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_C())}isEqual(e){return this.batchId===e.batchId&&lw(this.mutations,e.mutations,((e,t)=>HC(e,t)))&&lw(this.baseMutations,e.baseMutations,((e,t)=>HC(e,t)))}}class eS{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Kb(e.mutations.length===n.length);let r=yC;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new eS(e,t,n,r)}}class tS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class nS{constructor(e,t){this.count=e,this.unchangedNames=t}}var rS,iS;function oS(e){switch(e){default:return Hb();case Qb.CANCELLED:case Qb.UNKNOWN:case Qb.DEADLINE_EXCEEDED:case Qb.RESOURCE_EXHAUSTED:case Qb.INTERNAL:case Qb.UNAVAILABLE:case Qb.UNAUTHENTICATED:return!1;case Qb.INVALID_ARGUMENT:case Qb.NOT_FOUND:case Qb.ALREADY_EXISTS:case Qb.PERMISSION_DENIED:case Qb.FAILED_PRECONDITION:case Qb.ABORTED:case Qb.OUT_OF_RANGE:case Qb.UNIMPLEMENTED:case Qb.DATA_LOSS:return!0}}function sS(e){if(void 0===e)return Bb("GRPC error has no .code"),Qb.UNKNOWN;switch(e){case rS.OK:return Qb.OK;case rS.CANCELLED:return Qb.CANCELLED;case rS.UNKNOWN:return Qb.UNKNOWN;case rS.DEADLINE_EXCEEDED:return Qb.DEADLINE_EXCEEDED;case rS.RESOURCE_EXHAUSTED:return Qb.RESOURCE_EXHAUSTED;case rS.INTERNAL:return Qb.INTERNAL;case rS.UNAVAILABLE:return Qb.UNAVAILABLE;case rS.UNAUTHENTICATED:return Qb.UNAUTHENTICATED;case rS.INVALID_ARGUMENT:return Qb.INVALID_ARGUMENT;case rS.NOT_FOUND:return Qb.NOT_FOUND;case rS.ALREADY_EXISTS:return Qb.ALREADY_EXISTS;case rS.PERMISSION_DENIED:return Qb.PERMISSION_DENIED;case rS.FAILED_PRECONDITION:return Qb.FAILED_PRECONDITION;case rS.ABORTED:return Qb.ABORTED;case rS.OUT_OF_RANGE:return Qb.OUT_OF_RANGE;case rS.UNIMPLEMENTED:return Qb.UNIMPLEMENTED;case rS.DATA_LOSS:return Qb.DATA_LOSS;default:return Hb()}}(iS=rS||(rS={}))[iS.OK=0]="OK",iS[iS.CANCELLED=1]="CANCELLED",iS[iS.UNKNOWN=2]="UNKNOWN",iS[iS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",iS[iS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",iS[iS.NOT_FOUND=5]="NOT_FOUND",iS[iS.ALREADY_EXISTS=6]="ALREADY_EXISTS",iS[iS.PERMISSION_DENIED=7]="PERMISSION_DENIED",iS[iS.UNAUTHENTICATED=16]="UNAUTHENTICATED",iS[iS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",iS[iS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",iS[iS.ABORTED=10]="ABORTED",iS[iS.OUT_OF_RANGE=11]="OUT_OF_RANGE",iS[iS.UNIMPLEMENTED=12]="UNIMPLEMENTED",iS[iS.INTERNAL=13]="INTERNAL",iS[iS.UNAVAILABLE=14]="UNAVAILABLE",iS[iS.DATA_LOSS=15]="DATA_LOSS";let aS=null;function lS(){return new TextEncoder}const cS=new Mb([4294967295,4294967295],0);function uS(e){const t=lS().encode(e),n=new Db;return n.update(t),new Uint8Array(n.digest())}function hS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Mb([n,r],0),new Mb([i,o],0)]}class dS{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new fS("Invalid padding: ".concat(t));if(n<0)throw new fS("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new fS("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new fS("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Mb.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Mb.fromNumber(n)));return 1===r.compare(cS)&&(r=new Mb([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=uS(e),[n,r]=hS(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new dS(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=uS(e),[n,r]=hS(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class fS extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pS{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,mS.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new pS(uw.min(),r,new Lw(aw),uC(),_C())}}class mS{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new mS(n,t,_C(),_C(),_C())}}class gS{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class yS{constructor(e,t){this.targetId=e,this.fe=t}}class vS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qw.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class _S{constructor(){this.ge=0,this.pe=ES(),this.ye=qw.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_C(),t=_C(),n=_C();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Hb()}})),new mS(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=ES()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Kb(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class bS{constructor(e){this.Le=e,this.ke=new Map,this.qe=uC(),this.Qe=wS(),this.Ke=new Lw(aw)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Hb()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(WE(i))if(0===n){const e=new mw(i.path);this.We(t,e,yE.newNoDocument(e,uw.min()))}else Kb(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==aS||aS.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Gw(n).toUint8Array()}catch(e){if(e instanceof Bw)return qb("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new dS(o,r,i)}catch(e){return qb(e instanceof fS?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&WE(i.target)){const t=new mw(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,yE.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=_C();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new pS(e,t,this.Ke,this.qe,n);return this.qe=uC(),this.Qe=wS(),this.Ke=new Lw(aw),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new _S,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new jw(aw),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||zb("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new _S),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function wS(){return new Lw(mw.comparator)}function ES(){return new Lw(mw.comparator)}const CS={asc:"ASCENDING",desc:"DESCENDING"},SS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kS={and:"AND",or:"OR"};class TS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function IS(e,t){return e.useProto3Json||Iw(t)?t:{value:t}}function xS(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function NS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function RS(e,t){return xS(e,t.toTimestamp())}function PS(e){return Kb(!!e),uw.fromTimestamp(function(e){const t=Hw(e);return new cw(t.seconds,t.nanos)}(e))}function AS(e,t){return function(e){return new dw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function OS(e){const t=dw.fromString(e);return Kb($S(t)),t}function DS(e,t){return AS(e.databaseId,t.path)}function MS(e,t){const n=OS(t);if(n.get(1)!==e.databaseId.projectId)throw new Yb(Qb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Yb(Qb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new mw(jS(n))}function LS(e,t){return AS(e.databaseId,t)}function FS(e){const t=OS(e);return 4===t.length?dw.emptyPath():jS(t)}function US(e){return new dw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jS(e){return Kb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function VS(e,t,n){return{name:DS(e,t),fields:n.value.mapValue.fields}}function zS(e,t){let n;if(t instanceof KC)n={update:VS(e,t.key,t.value)};else if(t instanceof JC)n={delete:DS(e,t.key)};else if(t instanceof GC)n={update:VS(e,t.key,t.data),updateMask:ZS(t.fieldMask)};else{if(!(t instanceof ZC))return Hb();n={verify:DS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof NC)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof RC)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof AC)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof DC)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Hb()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:RS(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Hb()}(e,t.precondition)),n}function BS(e,t){return{documents:[LS(e,t.path)]}}function qS(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=LS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=LS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return JS(kE.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:YS(e.field),direction:KS(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=IS(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function WS(e){let t=FS(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kb(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=HS(e);return t instanceof kE&&IE(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new wE(XS(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Iw(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new vE(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new vE(n,t)}(n.endAt)),KE(t,i,s,o,a,"F",l,c)}function HS(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=XS(e.unaryFilter.field);return SE.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=XS(e.unaryFilter.field);return SE.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=XS(e.unaryFilter.field);return SE.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=XS(e.unaryFilter.field);return SE.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Hb()}}(e):void 0!==e.fieldFilter?function(e){return SE.create(XS(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hb()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return kE.create(e.compositeFilter.filters.map((e=>HS(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Hb()}}(e.compositeFilter.op))}(e):Hb()}function KS(e){return CS[e]}function GS(e){return SS[e]}function QS(e){return kS[e]}function YS(e){return{fieldPath:e.canonicalString()}}function XS(e){return pw.fromServerFormat(e.fieldPath)}function JS(e){return e instanceof SE?function(e){if("=="===e.op){if(hE(e.value))return{unaryFilter:{field:YS(e.field),op:"IS_NAN"}};if(uE(e.value))return{unaryFilter:{field:YS(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hE(e.value))return{unaryFilter:{field:YS(e.field),op:"IS_NOT_NAN"}};if(uE(e.value))return{unaryFilter:{field:YS(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:YS(e.field),op:GS(e.op),value:e.value}}}(e):e instanceof kE?function(e){const t=e.getFilters().map((e=>JS(e)));return 1===t.length?t[0]:{compositeFilter:{op:QS(e.op),filters:t}}}(e):Hb()}function ZS(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function $S(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ek{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:uw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:uw.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:qw.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new ek(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ek(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ek(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ek(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tk{constructor(e){this.ut=e}}function nk(e){const t=WS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?eC(t,t.limit,"L"):t}class rk{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Kw(e.integerValue));else if("doubleValue"in e){const n=Kw(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),xw(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Gw(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?pE(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Hb()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),mw.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}rk.St=new rk;class ik{constructor(){this.on=new ok}addToCollectionParentIndex(e,t){return this.on.add(t),Sw.resolve()}getCollectionParents(e,t){return Sw.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Sw.resolve()}deleteFieldIndex(e,t){return Sw.resolve()}deleteAllFieldIndexes(e){return Sw.resolve()}createTargetIndexes(e,t){return Sw.resolve()}getDocumentsMatchingTarget(e,t){return Sw.resolve(null)}getIndexType(e,t){return Sw.resolve(0)}getFieldIndexes(e,t){return Sw.resolve([])}getNextCollectionGroupToUpdate(e){return Sw.resolve(null)}getMinOffset(e,t){return Sw.resolve(_w.min())}getMinOffsetFromCollectionGroup(e,t){return Sw.resolve(_w.min())}updateCollectionGroup(e,t,n){return Sw.resolve()}updateIndexEntries(e,t){return Sw.resolve()}}class ok{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new jw(dw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new jw(dw.comparator)).toArray()}}new Uint8Array(0);class sk{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new sk(e,sk.DEFAULT_COLLECTION_PERCENTILE,sk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}sk.DEFAULT_COLLECTION_PERCENTILE=10,sk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sk.DEFAULT=new sk(41943040,sk.DEFAULT_COLLECTION_PERCENTILE,sk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sk.DISABLED=new sk(-1,0,0);class ak{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ak(0)}static Nn(){return new ak(-1)}}class lk{constructor(){this.changes=new lC((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yE.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Sw.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ck{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class uk{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&qC(n.mutation,e,zw.empty(),cw.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,_C()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_C();const r=pC();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=dC();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=pC();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,_C())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=uC();const o=gC(),s=gC();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof GC)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),qC(s.mutation,t,s.mutation.getFieldMask(),cw.now())):o.set(t.key,zw.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new ck(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=gC();let r=new Lw(((e,t)=>e-t)),i=_C();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||zw.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||_C()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=mC();l.forEach((e=>{if(!i.has(e)){const r=zC(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Sw.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return mw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Sw.resolve(pC());let s=-1,a=i;return o.next((t=>Sw.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Sw.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,_C()))).next((e=>({batchId:s,changes:fC(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new mw(t)).next((e=>{let t=dC();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=dC();return this.indexManager.getCollectionParents(e,i).next((s=>Sw.forEach(s,(s=>{const a=function(e,t){return new HE(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,yE.newInvalidDocument(r)))}));let n=dC();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&qC(o.mutation,r,zw.empty(),cw.now()),iC(t,r)&&(n=n.insert(e,r))})),n}))}}class hk{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Sw.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:PS(e.createTime)}}(t)),Sw.resolve()}getNamedQuery(e,t){return Sw.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:nk(e.bundledQuery),readTime:PS(e.readTime)}}(t)),Sw.resolve()}}class dk{constructor(){this.overlays=new Lw(mw.comparator),this.lr=new Map}getOverlay(e,t){return Sw.resolve(this.overlays.get(t))}getOverlays(e,t){const n=pC();return Sw.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Sw.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Sw.resolve()}getOverlaysForCollection(e,t,n){const r=pC(),i=t.length+1,o=new mw(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Sw.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Lw(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=pC(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=pC(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Sw.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new tS(t,n));let i=this.lr.get(t);void 0===i&&(i=_C(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class fk{constructor(){this.hr=new jw(pk.Pr),this.Ir=new jw(pk.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new pk(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new pk(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new mw(new dw([])),n=new pk(t,e),r=new pk(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new mw(new dw([])),n=new pk(t,e),r=new pk(t,e+1);let i=_C();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new pk(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class pk{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return mw.comparator(e.key,t.key)||aw(e.gr,t.gr)}static Tr(e,t){return aw(e.gr,t.gr)||mw.comparator(e.key,t.key)}}class mk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new jw(pk.Pr)}checkEmpty(e){return Sw.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $C(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new pk(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Sw.resolve(o)}lookupMutationBatch(e,t){return Sw.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Sw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Sw.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Sw.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new pk(t,0),r=new pk(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Sw.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new jw(aw);return t.forEach((e=>{const t=new pk(e,0),r=new pk(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Sw.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;mw.isDocumentKey(i)||(i=i.child(""));const o=new pk(new mw(i),0);let s=new jw(aw);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),Sw.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Kb(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Sw.forEach(t.mutations,(r=>{const i=new pk(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new pk(t,0),r=this.yr.firstAfterOrEqual(n);return Sw.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Sw.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class gk{constructor(e){this.Cr=e,this.docs=new Lw(mw.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Sw.resolve(n?n.document.mutableCopy():yE.newInvalidDocument(t))}getEntries(e,t){let n=uC();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():yE.newInvalidDocument(e))})),Sw.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=uC();const o=t.path,s=new mw(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||bw(vw(s),n)<=0||(r.has(s.key)||iC(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Sw.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Hb()}vr(e,t){return Sw.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new yk(this)}getSize(e){return Sw.resolve(this.size)}}class yk extends lk{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Sw.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class vk{constructor(e){this.persistence=e,this.Fr=new lC((e=>BE(e)),qE),this.lastRemoteSnapshotVersion=uw.min(),this.highestTargetId=0,this.Mr=0,this.Or=new fk,this.targetCount=0,this.Nr=ak.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Sw.resolve()}getLastRemoteSnapshotVersion(e){return Sw.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Sw.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Sw.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Sw.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new ak(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Sw.resolve()}updateTargetData(e,t){return this.kn(t),Sw.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Sw.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Sw.waitFor(i).next((()=>r))}getTargetCount(e){return Sw.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Sw.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Sw.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Sw.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Sw.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Sw.resolve(n)}containsKey(e,t){return Sw.resolve(this.Or.containsKey(t))}}class _k{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Tw(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new vk(this),this.indexManager=new ik,this.remoteDocumentCache=function(e){return new gk(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new tk(t),this.Kr=new hk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new mk(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){zb("MemoryPersistence","Starting transaction:",e);const r=new bk(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Sw.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class bk extends Ew{constructor(e){super(),this.currentSequenceNumber=e}}class wk{constructor(e){this.persistence=e,this.Gr=new fk,this.zr=null}static jr(e){return new wk(e)}get Hr(){if(this.zr)return this.zr;throw Hb()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Sw.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Sw.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Sw.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sw.forEach(this.Hr,(n=>{const r=mw.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,uw.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Sw.or([()=>Sw.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Ek{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=_C(),r=_C();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ek(e,t.fromCache,n,r)}}class Ck{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sk{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ck;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Vb()<=$.DEBUG&&zb("QueryEngine","SDK will not create cache indexes for query:",rC(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Sw.resolve()):(Vb()<=$.DEBUG&&zb("QueryEngine","Query:",rC(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Vb()<=$.DEBUG&&zb("QueryEngine","The SDK decides to create cache indexes for query:",rC(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,JE(t))):Sw.resolve())}zi(e,t){if(QE(t))return Sw.resolve(null);let n=JE(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=eC(t,null,"F"),n=JE(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=_C(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,eC(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return QE(t)||r.isEqual(uw.min())?Sw.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?Sw.resolve(null):(Vb()<=$.DEBUG&&zb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rC(t)),this.Xi(e,o,t,yw(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new jw(sC(e));return t.forEach(((t,r)=>{iC(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Vb()<=$.DEBUG&&zb("QueryEngine","Using full collection scan to execute query:",rC(t)),this.Gi.getDocumentsMatchingQuery(e,t,_w.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class kk{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Lw(aw),this.ns=new lC((e=>BE(e)),qE),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uk(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function Tk(e,t,n,r){return new kk(e,t,n,r)}async function Ik(e,t){const n=Gb(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=_C();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function xk(e){const t=Gb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function Nk(e,t,n){let r=_C(),i=_C();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=uC();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(uw.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):zb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function Rk(e,t){const n=Gb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Pk(e,t){const n=Gb(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Sw.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new ek(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function Ak(e,t,n){const r=Gb(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!kw(e))throw e;zb("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Ok(e,t,n){const r=Gb(e);let i=uw.min(),o=_C();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Gb(e),i=r.ns.get(n);return void 0!==i?Sw.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,JE(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:uw.min(),n?o:_C()))).next((e=>(Dk(r,oC(t),e),{documents:e,ls:o})))))}function Dk(e,t,n){let r=e.rs.get(t)||uw.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}class Mk{constructor(){this.activeTargetIds=wC()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lk{constructor(){this.eo=new Mk,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Mk,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fk{ro(e){}shutdown(){}}class Uk{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){zb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){zb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jk=null;function Vk(){return null===jk?jk=268435456+Math.round(2147483648*Math.random()):jk++,"0x"+jk.toString(16)}const zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bk{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const qk="WebChannelConnection";class Wk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const o=Vk(),s=this.So(e,t);zb("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,s,a,n).then((t=>(zb("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw qb("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,o){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ub,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=zk[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=Vk();return new Promise(((o,s)=>{const a=new Ob;a.setWithCredentials(!0),a.listenOnce(Nb.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case xb.NO_ERROR:const t=a.getResponseJson();zb(qk,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case xb.TIMEOUT:zb(qk,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Yb(Qb.DEADLINE_EXCEEDED,"Request time out"));break;case xb.HTTP_ERROR:const n=a.getStatus();if(zb(qk,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Qb).indexOf(t)>=0?t:Qb.UNKNOWN}(t.status);s(new Yb(e,t.message))}else s(new Yb(Qb.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Yb(Qb.UNAVAILABLE,"Connection failed."));break;default:Hb()}}finally{zb(qk,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);zb(qk,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=Vk(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Tb(),s=Ib(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");zb(qk,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new Bk({co:t=>{d?zb(qk,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(zb(qk,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),zb(qk,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Ab.EventType.OPEN,(()=>{d||zb(qk,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Ab.EventType.CLOSE,(()=>{d||(d=!0,zb(qk,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,Ab.EventType.ERROR,(t=>{d||(d=!0,qb(qk,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new Yb(Qb.UNAVAILABLE,"The operation could not be completed")))})),p(u,Ab.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Kb(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){zb(qk,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=rS[e];if(void 0!==t)return sS(t)}(t),i=s.message;void 0===n&&(n=Qb.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Ro(new Yb(n,i)),u.close()}else zb(qk,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(s,Rb.STAT_EVENT,(t=>{t.stat===Pb.PROXY?zb(qk,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Pb.NOPROXY&&zb(qk,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function Hk(){return"undefined"!=typeof document?document:null}function Kk(e){return new TS(e,!0)}class Gk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&zb("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Qk{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Gk(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===Qb.RESOURCE_EXHAUSTED?(Bb(t.toString()),Bb("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===Qb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new Yb(Qb.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return zb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(zb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yk extends Qk{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Hb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Kb(void 0===t||"string"==typeof t),qw.fromBase64String(t||"")):(Kb(void 0===t||t instanceof Uint8Array),qw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Qb.UNKNOWN:sS(e.code);return new Yb(t,e.message||"")}(s);n=new vS(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=MS(e,r.document.name),o=PS(r.document.updateTime),s=r.document.createTime?PS(r.document.createTime):uw.min(),a=new mE({mapValue:{fields:r.document.fields}}),l=yE.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new gS(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=MS(e,r.document),o=r.readTime?PS(r.readTime):uw.min(),s=yE.newNoDocument(i,o),a=r.removedTargetIds||[];n=new gS([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=MS(e,r.document),o=r.removedTargetIds||[];n=new gS([],o,i,null)}else{if(!("filter"in t))return Hb();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new nS(r,i),s=e.targetId;n=new yS(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return uw.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?uw.min():t.readTime?PS(t.readTime):uw.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=US(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=WE(r)?{documents:BS(e,r)}:{query:qS(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=NS(e,t.resumeToken);const r=IS(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(uw.min())>0){n.readTime=xS(e,t.snapshotVersion.toTimestamp());const r=IS(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Hb()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=US(this.serializer),t.removeTarget=e,this.e_(t)}}class Xk extends Qk{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Kb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(Kb(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?PS(e.updateTime):PS(t);return n.isEqual(uw.min())&&(n=PS(t)),new FC(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=PS(e.commitTime);return this.listener.I_(n,t)}return Kb(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=US(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>zS(this.serializer,e)))};this.e_(t)}}class Jk extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new Yb(Qb.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.wo(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Qb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Yb(Qb.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Co(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Qb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Yb(Qb.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class Zk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Bb(t),this.f_=!1):zb("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class $k{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{lT(this)&&(zb("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Gb(e);t.C_.add(4),await tT(t),t.M_.set("Unknown"),t.C_.delete(4),await eT(t)}(this))}))})),this.M_=new Zk(n,r)}}async function eT(e){if(lT(e))for(const t of e.v_)await t(!0)}async function tT(e){for(const t of e.v_)await t(!1)}function nT(e,t){const n=Gb(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),aT(n)?sT(n):TT(n).Ho()&&iT(n,t))}function rT(e,t){const n=Gb(e),r=TT(n);n.D_.delete(t),r.Ho()&&oT(n,t),0===n.D_.size&&(r.Ho()?r.Zo():lT(n)&&n.M_.set("Unknown"))}function iT(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(uw.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}TT(e).u_(t)}function oT(e,t){e.x_.Oe(t),TT(e).c_(t)}function sT(e){e.x_=new bS({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),TT(e).start(),e.M_.g_()}function aT(e){return lT(e)&&!TT(e).jo()&&e.D_.size>0}function lT(e){return 0===Gb(e).C_.size}function cT(e){e.x_=void 0}async function uT(e){e.D_.forEach(((t,n)=>{iT(e,t)}))}async function hT(e,t){cT(e),aT(e)?(e.M_.w_(t),sT(e)):e.M_.set("Unknown")}async function dT(e,t,n){if(e.M_.set("Online"),t instanceof vS&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){zb("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await fT(e,n)}else if(t instanceof gS?e.x_.$e(t):t instanceof yS?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(uw.min()))try{const t=await xk(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(qw.EMPTY_BYTE_STRING,r.snapshotVersion)),oT(e,t);const i=new ek(r.target,t,n,r.sequenceNumber);iT(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){zb("RemoteStore","Failed to raise snapshot:",t),await fT(e,t)}}async function fT(e,t,n){if(!kw(t))throw t;e.C_.add(1),await tT(e),e.M_.set("Offline"),n||(n=()=>xk(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{zb("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await eT(e)}))}function pT(e,t){return t().catch((n=>fT(e,n,t)))}async function mT(e){const t=Gb(e),n=IT(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;gT(t);)try{const e=await Rk(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,yT(t,e)}catch(e){await fT(t,e)}vT(t)&&_T(t)}function gT(e){return lT(e)&&e.b_.length<10}function yT(e,t){e.b_.push(t);const n=IT(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function vT(e){return lT(e)&&!IT(e).jo()&&e.b_.length>0}function _T(e){IT(e).start()}async function bT(e){IT(e).E_()}async function wT(e){const t=IT(e);for(const n of e.b_)t.P_(n.mutations)}async function ET(e,t,n){const r=e.b_.shift(),i=eS.from(r,t,n);await pT(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await mT(e)}async function CT(e,t){t&&IT(e).h_&&await async function(e,t){if(function(e){return oS(e)&&e!==Qb.ABORTED}(t.code)){const n=e.b_.shift();IT(e).Yo(),await pT(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await mT(e)}}(e,t),vT(e)&&_T(e)}async function ST(e,t){const n=Gb(e);n.asyncQueue.verifyOperationInProgress(),zb("RemoteStore","RemoteStore received new credentials");const r=lT(n);n.C_.add(3),await tT(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await eT(n)}async function kT(e,t){const n=Gb(e);t?(n.C_.delete(2),await eT(n)):t||(n.C_.add(2),await tT(n),n.M_.set("Unknown"))}function TT(e){return e.O_||(e.O_=function(e,t,n){const r=Gb(e);return r.A_(),new Yk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:uT.bind(null,e),Io:hT.bind(null,e),a_:dT.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),aT(e)?sT(e):e.M_.set("Unknown")):(await e.O_.stop(),cT(e))}))),e.O_}function IT(e){return e.N_||(e.N_=function(e,t,n){const r=Gb(e);return r.A_(),new Xk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:bT.bind(null,e),Io:CT.bind(null,e),T_:wT.bind(null,e),I_:ET.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await mT(e)):(await e.N_.stop(),e.b_.length>0&&(zb("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class xT{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Xb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new xT(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yb(Qb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function NT(e,t){if(Bb("AsyncQueue","".concat(t,": ").concat(e)),kw(e))return new Yb(Qb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class RT{constructor(e){this.comparator=e?(t,n)=>e(t,n)||mw.comparator(t.key,n.key):(e,t)=>mw.comparator(e.key,t.key),this.keyedMap=dC(),this.sortedSet=new Lw(this.comparator)}static emptySet(e){return new RT(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof RT))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new RT;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class PT{constructor(){this.B_=new Lw(mw.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Hb():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class AT{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new AT(e,t,RT.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class OT{constructor(){this.k_=void 0,this.listeners=[]}}class DT{constructor(){this.queries=new lC((e=>nC(e)),tC),this.onlineState="Unknown",this.q_=new Set}}async function MT(e,t){const n=Gb(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new OT),i)try{o.k_=await n.onListen(r)}catch(e){const n=NT(e,"Initialization of query '".concat(rC(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&jT(n)}async function LT(e,t){const n=Gb(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function FT(e,t){const n=Gb(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&jT(n)}function UT(e,t,n){const r=Gb(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function jT(e){e.q_.forEach((e=>{e.next()}))}class VT{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new AT(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=AT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class zT{constructor(e){this.key=e}}class BT{constructor(e){this.key=e}}class qT{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_C(),this.mutatedKeys=_C(),this._a=sC(e),this.aa=new RT(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new PT,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=iC(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||l&&this._a(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:s,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hb()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const s=t&&!r?this.Ia():[],a=0===this.oa.size&&this.current&&!r?1:0,l=a!==this.sa;return this.sa=a,0!==o.length||l?{snapshot:new AT(this.query,e.aa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new PT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=_C(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new BT(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new zT(n))})),t}da(e){this.ia=e.ls,this.oa=_C();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return AT.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class WT{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class HT{constructor(e){this.key=e,this.Ra=!1}}class KT{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new lC((e=>nC(e)),tC),this.fa=new Map,this.ga=new Set,this.pa=new Lw(mw.comparator),this.ya=new Map,this.wa=new fk,this.Sa={},this.ba=new Map,this.Da=ak.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function GT(e,t){const n=hI(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const e=await Pk(n.localStore,JE(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await QT(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&nT(n.remoteStore,e)}return i}async function QT(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await Ok(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return oI(e,t.targetId,a.Ta),a.snapshot}(e,t,n,r);const o=await Ok(e.localStore,t,!0),s=new qT(t,o.ls),a=s.ca(o.documents),l=mS.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);oI(e,n,c.Ta);const u=new WT(t,n,s);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function YT(e,t){const n=Gb(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!tC(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ak(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),rT(n.remoteStore,r.targetId),rI(n,r.targetId)})).catch(Cw)):(rI(n,r.targetId),await Ak(n.localStore,r.targetId,!0))}async function XT(e,t){const n=Gb(e);try{const e=await function(e,t){const n=Gb(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(qw.EMPTY_BYTE_STRING,uw.min()).withLastLimboFreeSnapshotVersion(uw.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.qr.updateTargetData(e,c))}));let a=uC(),l=_C();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Nk(e,o,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(uw.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Sw.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(Kb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?Kb(r.Ra):e.removedDocuments.size>0&&(Kb(r.Ra),r.Ra=!1))})),await lI(n,e,t)}catch(e){await Cw(e)}}function JT(e,t,n){const r=Gb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Gb(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&jT(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ZT(e,t,n){const r=Gb(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let e=new Lw(mw.comparator);e=e.insert(o,yE.newNoDocument(o,uw.min()));const n=_C().add(o),i=new pS(uw.min(),new Map,new Lw(aw),e,n);await XT(r,i),r.pa=r.pa.remove(o),r.ya.delete(t),aI(r)}else await Ak(r.localStore,t,!1).then((()=>rI(r,t,n))).catch(Cw)}async function $T(e,t){const n=Gb(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Gb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Sw.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Kb(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=_C();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);nI(n,r,null),tI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lI(n,e)}catch(e){await Cw(e)}}async function eI(e,t,n){const r=Gb(e);try{const e=await function(e,t){const n=Gb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Kb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);nI(r,t,n),tI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await lI(r,e)}catch(n){await Cw(n)}}function tI(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function nI(e,t,n){const r=Gb(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function rI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||iI(e,t)}))}function iI(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(rT(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),aI(e))}function oI(e,t,n){for(const r of n)r instanceof zT?(e.wa.addReference(r.key,t),sI(e,r)):r instanceof BT?(zb("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||iI(e,r.key)):Hb()}function sI(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(zb("SyncEngine","New document in limbo: "+n),e.ga.add(r),aI(e))}function aI(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new mw(dw.fromString(t)),r=e.Da.next();e.ya.set(r,new HT(n)),e.pa=e.pa.insert(n,r),nT(e.remoteStore,new ek(JE(GE(n.path)),r,"TargetPurposeLimboResolution",Tw._e))}}async function lI(e,t,n){const r=Gb(e),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{s.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Ek.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Va.a_(i),await async function(e,t){const n=Gb(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Sw.forEach(t,(t=>Sw.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Sw.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!kw(e))throw e;zb("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function cI(e,t){const n=Gb(e);if(!n.currentUser.isEqual(t)){zb("SyncEngine","User change. New user:",t.toKey());const e=await Ik(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new Yb(Qb.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await lI(n,e._s)}}function uI(e,t){const n=Gb(e),r=n.ya.get(t);if(r&&r.Ra)return _C().add(r.key);{let e=_C();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}function hI(e){const t=Gb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZT.bind(null,t),t.Va.a_=FT.bind(null,t.eventManager),t.Va.Fa=UT.bind(null,t.eventManager),t}function dI(e){const t=Gb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$T.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eI.bind(null,t),t}class fI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Kk(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Tk(this.persistence,new Sk,e.initialUser,this.serializer)}createPersistence(e){return new _k(wk.jr,this.serializer)}createSharedClientState(e){return new Lk}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class pI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>JT(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=cI.bind(null,this.syncEngine),await kT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new DT}createDatastore(e){const t=Kk(e.databaseInfo.databaseId),n=function(e){return new Wk(e)}(e.databaseInfo);return function(e,t,n,r){return new Jk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new $k(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>JT(this.syncEngine,e,0)),Uk.D()?new Uk:new Fk)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new KT(e,t,n,r,i,o);return s&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Gb(e);zb("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await tT(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}class mI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Bb("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class gI{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Fb.UNAUTHENTICATED,this.clientId=sw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{zb("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(zb("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Yb(Qb.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=NT(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function yI(e,t){e.asyncQueue.verifyOperationInProgress(),zb("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ik(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function vI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bI(e);zb("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>ST(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ST(t.remoteStore,n))),e._onlineComponents=t}function _I(e){return"FirebaseError"===e.name?e.code===Qb.FAILED_PRECONDITION||e.code===Qb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function bI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){zb("FirestoreClient","Using user provided OfflineComponentProvider");try{await yI(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!_I(n))throw n;qb("Error using user provided cache. Falling back to memory cache: "+n),await yI(e,new fI)}}else zb("FirestoreClient","Using default OfflineComponentProvider"),await yI(e,new fI);return e._offlineComponents}async function wI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(zb("FirestoreClient","Using user provided OnlineComponentProvider"),await vI(e,e._uninitializedComponentsProvider._online)):(zb("FirestoreClient","Using default OnlineComponentProvider"),await vI(e,new pI))),e._onlineComponents}function EI(e){return wI(e).then((e=>e.syncEngine))}async function CI(e){const t=await wI(e),n=t.eventManager;return n.onListen=GT.bind(null,t.syncEngine),n.onUnlisten=YT.bind(null,t.syncEngine),n}function SI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Xb;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new mI({next:o=>{t.enqueueAndForget((()=>LT(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Yb(Qb.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Yb(Qb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new VT(GE(n.path),o,{includeMetadataChanges:!0,J_:!0});return MT(e,s)}(await CI(e),e.asyncQueue,t,n,r))),r.promise}function kI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Xb;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new mI({next:n=>{t.enqueueAndForget((()=>LT(e,s))),n.fromCache&&"server"===r.source?i.reject(new Yb(Qb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new VT(n,o,{includeMetadataChanges:!0,J_:!0});return MT(e,s)}(await CI(e),e.asyncQueue,t,n,r))),r.promise}function TI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const II=new Map;function xI(e,t,n){if(!n)throw new Yb(Qb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function NI(e){if(!mw.isDocumentKey(e))throw new Yb(Qb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function RI(e){if(mw.isDocumentKey(e))throw new Yb(Qb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function PI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Hb()}function AI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yb(Qb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=PI(e);throw new Yb(Qb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class OI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Yb(Qb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Yb(Qb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Yb(Qb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Yb(Qb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Yb(Qb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Yb(Qb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class DI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Yb(Qb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Yb(Qb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zb;switch(e.type){case"firstParty":return new nw(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Yb(Qb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=II.get(e);t&&(zb("ComponentProvider","Removing Datastore"),II.delete(e),t.terminate())}(this),Promise.resolve()}}class MI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new MI(this.firestore,e,this._query)}}class LI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new FI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new LI(this.firestore,e,this._key)}}class FI extends MI{constructor(e,t,n){super(e,t,GE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new LI(this.firestore,null,new mw(e))}withConverter(e){return new FI(this.firestore,e,this._path)}}function UI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),xI("collection","path",t),e instanceof DI){const n=dw.fromString(t,...r);return RI(n),new FI(e,null,n)}{if(!(e instanceof LI||e instanceof FI))throw new Yb(Qb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(dw.fromString(t,...r));return RI(n),new FI(e.firestore,null,n)}}function jI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),1===arguments.length&&(t=sw.newId()),xI("doc","path",t),e instanceof DI){const n=dw.fromString(t,...r);return NI(n),new LI(e,null,new mw(n))}{if(!(e instanceof LI||e instanceof FI))throw new Yb(Qb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(dw.fromString(t,...r));return NI(n),new LI(e.firestore,e instanceof FI?e.converter:null,new mw(n))}}class VI{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Gk(this,"async_queue_retry"),this.iu=()=>{const e=Hk();e&&zb("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=Hk();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Hk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new Xb;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!kw(e))throw e;zb("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Bb("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=xT.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&Hb()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class zI extends DI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new VI,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||WI(this),this._firestoreClient.terminate()}}function BI(e,t){const n="string"==typeof e?e:t||"(default)",r=Ae("object"==typeof e?e:Fe(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=y("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=AI(e,DI))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&qb("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Fb.MOCK_USER;else{t=w(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Yb(Qb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Fb(o)}e._authCredentials=new $b(new Jb(t,n))}}(r,...e)}return r}function qI(e){return e._firestoreClient||WI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function WI(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Jw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,TI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new gI(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class HI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new HI(qw.fromBase64String(e))}catch(e){throw new Yb(Qb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new HI(qw.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class KI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Yb(Qb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pw(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class GI{constructor(e){this._methodName=e}}class QI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yb(Qb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yb(Qb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return aw(this._lat,e._lat)||aw(this._long,e._long)}}const YI=/^__.*__$/;class XI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new GC(e,this.data,this.fieldMask,t,this.fieldTransforms):new KC(e,this.data,t,this.fieldTransforms)}}function JI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hb()}}class ZI{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new ZI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return ux(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(JI(this.Iu)&&YI.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class $I{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Kk(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ZI({Iu:e,methodName:t,gu:n,path:pw.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ex(e){const t=e._freezeSettings(),n=Kk(e._databaseId);return new $I(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tx(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.pu(o.merge||o.mergeFields?2:0,t,n,i);sx("Data must be an object, but it was:",s,r);const a=ix(r,s);let l,c;if(o.merge)l=new zw(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=ax(t,r,n);if(!s.contains(i))throw new Yb(Qb.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));hx(e,i)||e.push(i)}l=new zw(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new XI(new mE(a),l,c)}function nx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return rx(n,e.pu(r?4:3,t))}function rx(e,t){if(ox(e=K(e)))return sx("Unsupported field value:",t,e),ix(e,t);if(e instanceof GI)return function(e,t){if(!JI(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=rx(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=K(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return SC(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=cw.fromDate(e);return{timestampValue:xS(t.serializer,n)}}if(e instanceof cw){const n=new cw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xS(t.serializer,n)}}if(e instanceof QI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof HI)return{bytesValue:NS(t.serializer,e._byteString)};if(e instanceof LI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:AS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(PI(e)))}(e,t)}function ix(e,t){const n={};return Mw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dw(e,((e,r)=>{const i=rx(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ox(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof cw||e instanceof QI||e instanceof HI||e instanceof LI||e instanceof GI)}function sx(e,t,n){if(!ox(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=PI(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function ax(e,t,n){if((t=K(t))instanceof KI)return t._internalPath;if("string"==typeof t)return cx(e,t);throw ux("Field path arguments must be of type string or ",e,!1,void 0,n)}const lx=new RegExp("[~\\*/\\[\\]]");function cx(e,t,n){if(t.search(lx)>=0)throw ux("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new KI(...t.split("."))._internalPath}catch(_n){throw ux("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ux(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Yb(Qb.INVALID_ARGUMENT,a+e+l)}function hx(e,t){return e.some((e=>e.isEqual(t)))}class dx{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new LI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(px("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class fx extends dx{data(){return super.data()}}function px(e,t){return"string"==typeof t?cx(e,t):t instanceof KI?t._internalPath:t._delegate._internalPath}function mx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Yb(Qb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gx{}class yx extends gx{}class vx extends yx{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new vx(e,t,n)}_apply(e){const t=this._parse(e);return Ex(e._query,t),new MI(e.firestore,e.converter,$E(e._query,t))}_parse(e){const t=ex(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Yb(Qb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){wx(s,o);const t=[];for(const n of s)t.push(bx(r,e,n));a={arrayValue:{values:t}}}else a=bx(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||wx(s,o),a=nx(n,t,s,"in"===o||"not-in"===o);return SE.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class _x extends gx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _x(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:kE.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Ex(n,i),n=$E(n,i)}(e._query,t),new MI(e.firestore,e.converter,$E(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function bx(e,t,n){if("string"==typeof(n=K(n))){if(""===n)throw new Yb(Qb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(t)&&-1!==n.indexOf("/"))throw new Yb(Qb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(dw.fromString(n));if(!mw.isDocumentKey(r))throw new Yb(Qb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return aE(e,new mw(r))}if(n instanceof LI)return aE(e,n._key);throw new Yb(Qb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(PI(n),"."))}function wx(e,t){if(!Array.isArray(e)||0===e.length)throw new Yb(Qb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Ex(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Yb(Qb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Yb(Qb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Cx{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(eE(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hb()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Dw(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new QI(Kw(e.latitude),Kw(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Yw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Xw(e));default:return null}}convertTimestamp(e){const t=Hw(e);return new cw(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=dw.fromString(e);Kb($S(n));const r=new Zw(n.get(1),n.get(3)),i=new mw(n.popFirst(5));return r.isEqual(t)||Bb("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Sx(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class kx{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tx extends dx{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ix(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(px("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ix extends Tx{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class xx{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new kx(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ix(this._firestore,this._userDataWriter,n.key,n,new kx(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Yb(Qb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Ix(e._firestore,e._userDataWriter,n.doc.key,n.doc,new kx(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ix(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Nx(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Nx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hb()}}class Rx extends Cx{constructor(e){super(),this.firestore=e}convertBytes(e){return new HI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new LI(this.firestore,null,t)}}function Px(e){e=AI(e,MI);const t=AI(e.firestore,zI),n=qI(t),r=new Rx(t);return mx(e._query),kI(n,e._query).then((n=>new xx(t,r,e,n)))}function Ax(e,t){const n=AI(e.firestore,zI),r=jI(e),i=Sx(e.converter,t);return Ox(n,[tx(ex(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,UC.exists(!1))]).then((()=>r))}function Ox(e,t){return function(e,t){const n=new Xb;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=dI(e);try{const e=await function(e,t){const n=Gb(e),r=cw.now(),i=t.reduce(((e,t)=>e.add(t.key)),_C());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=uC(),l=_C();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=WC(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new GC(e.key,t,gE(t.value.mapValue),UC.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:fC(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new Lw(aw)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await lI(r,e.changes),await mT(r.remoteStore)}catch(e){const t=NT(e,"Failed to persist write");n.reject(t)}}(await EI(e),t,n))),n.promise}(qI(e),t)}function Dx(e,t,n){const r=n.docs.get(t._key),i=new Rx(e);return new Tx(e,i,t._key,r,new kx(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ub=e}(Me),Pe(new G("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new zI(new ew(e.getProvider("auth-internal")),new iw(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Yb(Qb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zw(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Ue(Lb,"4.4.0",e),Ue(Lb,"4.4.0","esm2017")}();let Mx=null;function Lx(e){const t=[];return e.forEach((e=>{t.push({id:e.id,...e.data()})})),t}function Fx(e,t){return og(function(e,t){e=K(e),pm("push",e._path),um("push",t,e._path,!0);const n=Tm(e._repo),r=Ym(n),i=rg(e,r),o=rg(e,r);let s;return s=null!=t?og(o,t).then((()=>o)):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(ng(gg(),e)),t)}function Ux(e,t){return ug(ng(gg(),e),(e=>{const n=[];e.forEach((e=>{n.push({...e.val(),ref:e.ref})})),t(n)}))}const jx={signIn(){const e=Mu();if(null!=e.currentUser)return;const t=new cc;t.setCustomParameters({prompt:"select_account"}),async function(e,t,n){const r=Vl(e);Ua(e,t,sc);const i=qc(r,n);new Xc(r,"signInViaPopup",t,i).executeNotNull()}(e,t)},signOut(){K(Mu()).signOut()},onAuthStateChanged:e=>function(e,t,n,r){return K(e).onAuthStateChanged(t,n,r)}(Mu(),(t=>e(t))),register:(e,t)=>function(e,t,n){e=AI(e,LI);const r=AI(e.firestore,zI),i=Sx(e.converter,t,n);return Ox(r,[tx(ex(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,UC.none())])}(jI(BI(),"googlers",e),{name:t,elo:1e3,role:"member"}),getGoogler:async e=>({user:e,...(await function(e){e=AI(e,LI);const t=AI(e.firestore,zI);return SI(qI(t),e._key).then((n=>Dx(t,e,n)))}(jI(BI(),"googlers",e.uid))).data()}),getAllMembers:async()=>Lx(await Px(UI(BI(),"googlers"))),async getMembersById(e){const t=await Px(function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof gx&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof _x)).length,n=e.filter((e=>e instanceof vx)).length;if(t>1||t>0&&n>0)throw new Yb(Qb.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}(UI(BI(),"googlers"),function(e,t,n){const r=t,i=px("where",e);return vx._create(i,r,n)}(new KI("__name__"),"in",e)));return Lx(t)},async updateSessionMembers(e){var t;const n={},r=null!==(t=(await sg(ng(gg(),"members"))).val())&&void 0!==t?t:{};e.forEach((e=>{n[e]=e in r?r[e]:{played:0,upcoming:0}})),console.log(n);try{await og(ng(gg(),"members"),n)}catch(i){console.error(i)}},async getSessionMembers(){var e;const t=null!==(e=(await sg(ng(gg(),"members"))).val())&&void 0!==e?e:{};return Object.keys(t)},listenToSessionMembers:e=>ug(ng(gg(),"members"),(t=>{e(t.val())})),async isSessionOpen(){const e=(await sg(ng(gg(),"sessionId"))).val();return null==e?(Mx=null,!1):(Mx=e,!0)},async createSession(){Mx=Date.now().toString(),await og(ng(gg(),"sessionId"),Mx)},async closeSession(){const e=(await sg(ng(gg(),"members"))).val();await Ax(UI(BI(),"session"),{id:Mx,members:Object.keys(e)}),await ig(ng(gg(),"sessionId")),await ig(ng(gg(),"members")),await ig(ng(gg(),"upcoming")),await ig(ng(gg(),"playing")),Mx=null},addUpcomingGame:(e,t)=>Fx("upcoming",{team1:e,team2:t}),listenToUpcomingGames:e=>Ux("upcoming",e),addPlayingGame:(e,t)=>Fx("playing",{team1:e,team2:t}),listenToPlayingGames:e=>Ux("playing",e),async addGameResult(e,t){await Ax(UI(BI(),"gameResult"),{win:e,lose:t,sessionId:Mx})},update:(e,t)=>og(e,t),delete:e=>ig(e)},Vx=jx,zx=(0,Ze.createContext)({googler:null,refetch:()=>{}});function Bx(e){let{children:t}=e;const[n,r]=(0,Ze.useState)(null),[i,o]=(0,Ze.useState)(null),s=(0,Ze.useCallback)((()=>{null!=n?Vx.getGoogler(n).then((e=>{o(e)})):o(null)}),[n]);return(0,Ze.useEffect)((()=>{const e=Vx.onAuthStateChanged((e=>{r(e)}));return()=>e()}),[]),(0,Ze.useEffect)((()=>s()),[s]),(0,zs.jsx)(zx.Provider,{value:{googler:i,refetch:s},children:t})}const qx=(0,Ze.createContext)({isLoaded:!1,members:[],getMemberById:()=>{}});function Wx(e){let{children:t}=e;const{googler:n}=(0,Ze.useContext)(zx),[r,i]=(0,Ze.useState)([]),[o,s]=(0,Ze.useState)(new Map),[a,l]=(0,Ze.useState)(!1),c=(0,Ze.useCallback)((e=>o.get(e)),[o]);return(0,Ze.useEffect)((()=>{null!=n?Vx.getAllMembers().then((e=>{i(e);const t=new Map;for(const n of e)t.set(n.id,n);s(t),l(!0)})):i([])}),[n]),(0,zs.jsx)(qx.Provider,{value:{isLoaded:a,members:r,getMemberById:c},children:t})}const Hx={Members:"Members_Members__9ElTb",TotalMembers:"Members_TotalMembers__9YAIW",MemberList:"Members_MemberList__c0JDj",Checkbox:"Members_Checkbox__mkv+1",Label:"Members_Label__uwVUG"};function Kx(e){let{mode:t,onSelectedMemberIdsChange:n,selectedMemberIds:r}=e;const{members:i}=(0,Ze.useContext)(qx);return(0,zs.jsxs)("div",{className:Hx.Members,children:[(0,zs.jsxs)("span",{className:Hx.TotalMembers,children:["Total ",i.length," Members"]}),(0,zs.jsx)("ol",{className:Hx.MemberList,children:i.map((e=>(0,zs.jsxs)("li",{children:["select"===t&&(0,zs.jsx)("input",{type:"checkbox",id:e.id,className:Hx.Checkbox,defaultChecked:r.has(e.id),onChange:()=>{n(e.id)}}),(0,zs.jsx)("label",{className:Hx.Label,htmlFor:e.id,children:e.name})]},e.id)))})]})}const Gx={HomePage:"HomePage_HomePage__dhKCI",Title:"HomePage_Title__JjqXY",MembersContainer:"HomePage_MembersContainer__EVZQT",GoogleSignIn:"HomePage_GoogleSignIn__C3Wxq",Button:"HomePage_Button__0vULc",ButtonGroup:"HomePage_ButtonGroup__vZkuU"},Qx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAB4CAYAAABxaMHPAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACU6SURBVHgB7Z0NdJX1fcd/z02AGwgQXFUIHojB4iZMYolOIUA8p9quMl92uo3OTrBnWlvnqjVAXM8EPNsMkDk8XTenWwvuuNGu3aqlL76cI5RAqYCNHnGKhUaria0ruWokEZI8e75P8r958uf/3Ps89/W5yfdzzs29z73PW56X///7/N7+lowBNm7cWNXT11dnidRY9uCiAbGr3M9i1eB325l23qqEEEIIyRNOn9Ph9DgJWyThfE7Ylrwgg4MJiZW3V8bj7U5flZASx5ISpKm5uVEG++ssK7bCmaxzREGNEEIIIRHG6XA7nL/ttj24B0KitaVlt5QYJSEaXEvCyZ41YlnXOZN1QqsBIYSQ0gcWid1i2Y+XSdnulpaWDok4kRUNmlBoTDVvPB6XGTNmyOzq2e47XmfNOMt5zXB/r6iocOchhBBC8kV3d7f09vZKb1+fnOg+4U53dnY6073ue5/zfRp2W5bsiLKAiJxogOvBsgdWOz6h68XHogBRMK92ntTW1soFzvuMYXFACCGERBUIh86uTjl2/LjzOuaKCj+cznm7bZXtiJoLIzKiwY1TsAc2iI9VAQJh4UULZOGChRQJhBBCSh6IBoiHg4cPyXFHSJhwOul258+DW1u2bpcIUHTRMGxZ+IZjWajRf1NC4dL6S+leIIQQMmZRAuLHbXulq6vrjN/dIEpLNhVbPBRNNPhZFiAOIBIWOGJhniMaCCGEkPEE3Bh797XJIccCoQPx4Lgtbi6W26LgoqG5ubmm37EsiEEsLGtYJsudF60KhBBCxjuwPvx43145cuTIGfEPiHkos8o2FTpgsqCiYe36tV9y3BAbxRPgSLFACCGE+APBgLiHp595Wv8pIba1rXXLlk1SIAoiGvysC/WL6+W6P7iWYoEQQghJA8TDU45w0N0WcFk4VocrC2F1yLtoMFkXqqur5dqV1zJmgRBCCAkJxMM/P/yQ7rKA1WGTY3XYJnkkb6LBLc7Ue3KDiH2n9/urPn6VXO28CCGEEJI5sDroLouYWNu2bN5yl+SJvIgGuCMG7IH/sYdKPrugtsKaP1vtWhkIIYQQkj0mq0M+3RU5Fw1r166tc6TO/3jrLixraHCsC1czdoEQQgjJMShTDatDW1tb8rt8CYcyySHr1q273nYEg/NxpvoOsQtwR5SXlwshhBBCcsuE8gny2/MvdMdZevXoq+rrqkGx1zQsbXh13759r0iOyJlouHvdutVi2Tudj645AVaFO774F7JwwQIhhBBCSH6ZO2eOW0UZwmF4cKy4bcmqK5Y3dPykbd8LkgNyIhogGCzL3q6mEb/wl7ffIeecc44QQgghpDBMnTrVHaPppZePJEfVtGy5PlfCIWvRYBIMX7j1Ng4qRQghhBQBuCnyJRyyEg2IYRh2SbhQMBBCCCHFx084NCxteCGbGIeMRYObVimDP5ThGAYKBkIIISQ6mISDbcknl65Y+uT+vfvflgzISDQM12F4VoazJCgYCCGEkOhhEA5xx+LwyeXLlj/e1taWkJDEJAMgGFQdBgoGQgghJLqofrpiuFYS+m8UYETlZglJaNHQtH7dP3gLN6HKIwUDIYQQEl3QT9/mCAcFKjafdId6CEco9wQGn5KhwadcULiJdRgIIYSQ6IN0TG8BKEc4XL5kacO7+/ftOxB0HYFFA+IYBmWkeNNQaWgOPEUIIYSUCigAhbLTb7zxxtAXlly+fNnybwaNbwjsnhgOfHT9HzBzYCwJQgghhJQWeOD3hBVU9dsD3wi6bCBLQ9O6dRscNXK9mv7yl+5yzRyEEEIIKS0wVsW82nly4KdJr0RNUDdFWtEw5JYY3C7DbgkolAWMYyCEEEJKFvXgf/z48aEvArop0ronHLcEoiuTbomrGMdACCGElDwwAlTPmqUmA7kprFQ/NjU3N8pQLIPLX62/p2TTKwd73pfT7c9L/7GjMvirLjn986Ni9/TIwK86R81Xdm61WJWVUjazWsrnfdR5zZfyCz7qThNCCCFjiWOOpeGhhx8a+cKyr2xtad3tN3+5pMByVIc9/Ll+cX3JCQYIhd7v7JTTLzwvp144HGgZV0T8Slxx8eG+3cnvIR4m1n1MKv5wFQUEIYSQMcG82lq3fz90+NDQF7YF78Juv/l9LQ1rm9eusW1JmipKycpwyrEonHz0kcBCISwTFy2W+CeucV4rhRBCCCllkIJ5f8v9zvvQ+BSprA3+MQ22JCtFaekZkQViIfHlL0ji7tvyJhjc7Tjrfm/LffKbG6+Tvid3CSGEEFKqVMQrpKFhWXLasi3f2AZj9oRrZRBZg88QC9f9wbVuFamoMvB2l7x37zr5wLEuDPyqSwoFYiI+3LfH3SbiH2KVTEMlhBBSelRXV8uBAwekv78fk1VLli3Zs79tf4c+n9HS4LglvqQ+L7xoQaStDCe/s1O6P//ZvFoW0gFrQ+LuL9DqQAghpCTRrQ3DsQ1ncIalwc2YELtZTX/2T2+MrJWh52sPuNYF+9QpKTbK6gAm1i0WQgghpJTQrA01JmvDGZYGyx5YrT5HNWMCWREnHOvCyf/eKVEDIgbxDthHQgghpFSAtWFxfX1y2rKt1fo8o0QDqj+qWAawbGmDRA3EL3R//s+k/+dHJaqUzZzF+AZCCCElx8KLFiY/O3rg+o0bN1Z5fx8lGgZkoFF9rp5V7ZoqogQEA2IHBt7ulKgyZfUtMuWmW4QQQggpNVC3odZ5DVPVc/LkGu/vo0SDbUvSFIGhr6PGuxvWUjAQQggheQQJEEks+zrvb0nRANeE89aopjECVpRA0GO+XBKW40qwsnQnUDAQQggZC9R74hocGr0uimQZaa9rAuaJKAVAIpUxV0GPGFtiUsNymbBosZRfMN+ZnjXqdwQw9h97TU63H3azIVBOOh0UDIQQQsYKCIiEi0KNgDnsotiGzyNjT9iSNEEgayIqII7hg0f/VbIFpZ8nO537xEUfSzkfAhgxD14QA0Pbf8S3BgMFAyGlz5tvvinf/va3R3130UUXydVXXy1kfLNt27YzvrvzzjtlrAMXxciw2a6LYrRosCPqmnCrPGYRxxBULPiBTIhp6+51hUH33V+QQc++jAfB8N5777kNKt4VaEynTZsmYUGjjBxgLPu5z31OzjvvPBnP4Fg89dRT7rG9/PLL5dOf/rQQf7zXD44VrsNcgWtc7xywjaiKBuwvXgock1weDzLCuBUNCxbKE7u+pybr1AdXNAwPge36LOCWiIprAmNJZFNlMZedOsTDRx77ritiPtjxyJgWDKozw8vbMHlBh4+ODjdPkM7/vvvuk69//evJaXz+wQ9+MG4bOhzXVatWJafRIUI8QEyRM0HD7W28cf3s3LnTvQbHC7hG8Hr55ZdHiXgvyjoCwTPeRTnJDqUFuru7MVnV1NzUiEGshgIhB/uTKiJKVoaTjzZLpkxbf29eOnWss+qBh8akYFAdGV5olP0Eg5oXDVhDQ4M0NTWlnBd4BYNCNwePJ0zHw/REQ4aAgNUxHcOxCES8us/w2U8wAAgKXEeYn9cTyZZRemAw5uoE19JgWdYKOzlTrUQBu3uPVF7zrPROmym9e2eFWhaCIX51/oatztTVEWXQ2Nx6661pO38TymyMJz+/pxuYT1M1duMNHotwhD1e6GB1WltbpdTQLSxhl4XYwn2ZiTuREARDHjp8aGjCshudv9tUymXS0oCiTlHA/uVX3feKZW/LlJWvixUfCLRc5e1fzqtgGItAKKQSDBACMHvCFOzX+Cgrhd86dLO7imsYr+B/148lXRP+mI5NquOlTPneV6mRTjDgvlQvP9TDACGZcIHH0mCJLMJ7ueOTrnKsDDWYwMBUkagC2fe6DL7zeHJy0sUnZMLcHnnvsY/KYGKi72LxT6yUyX+4Skg40DCZOns0yqaARRU0pjfE+B5PeHiy0VGxD2jEVCDbePa5QoQhpkPFMsAPPZ7882FR16EKhMSxGsvHCxYCk2BQYtskOnEtme5lHDO4cihKSVgQ01ARj0tvXx+SJWpQr6G8PB6vE3voKb56Vjg3QL4Y7N5zxnex6adk+udecV0VfQfPPvP3mbNkyk1/LiQcplQzgE7eL0IYjTdMvXjXGzY0UHiZGnRmB4wGx288RGHnCgir8ZICicBhHVwvqVyAKtsDFj+Icy+4T/E73RQkLFWOcOjt6nI/9/T11MW8QZAV8ckSBeyuR43fw0Ux+ao3HZdF1xm/Vd50i5TNjNZYGaWAKcAsaGeGeUziwLROQkgwIOJNlr9UgkEBUWCKYYA1SxcShARhdvXs5GdLrJpyicWqMOgEmFUdAUtDf8INgkwF4hwmzn9X3v9OreuugJUBrgkSHlOAWZg0SDzZwLLgxdTgmdLEgtZ7wHIq/RMvLKNSPr37qu+Hyd+r57fr+6EaV6zLuy0V05ErTI24X669/n/p82E/1fHBetX+4pULF5Dp3KU7Ft59DlJDIMj/qJ837/k1/Z5uG2HPp7KiqesiX24Sk+UvjDtPuTB0KyDWG2Zf8b/i3KvrKtf3gt/69fs6LKZ72HSugrQXuUC/P/PVpuSLUSUYbKkrt2x7kcqcOCsC9Rns918INF/Zub0y7cbXpGfXXJm0goIhl4QxYeKi1280kxCBuVW/SdPl2WM98MXi5Rc9j+XhKsHv3roHAN/rLhHl9/XS1tbm/s/YDn7z21Y683AY0IjoEf7YV1OEv/5/Qag9/PDDyRgS/bh6SeVmCorp3L344ou+1wkabO8+Yz7M7wfWrf+P2Gdvx2GKofGeX9PvOt5t4BzivAcB5wrHIFWgMPYlFx0AtmE6n2HjEUz7kuo68aLuuVQiTFkjw7ocg9zT2aw/yD2MewfXlumay6W7EMcb+5LquGf6fxYSr2gYtGR6uSMYqkZ+PEuKTTorgxfEOUA4xBb/vmTLjr2npJA0zC+XeefGpNiYOkBVpTCIeMDNF7TxDYPK6EhnUsUN+alPfSqrmx3bSNf5qn3CthDAWMwgTpwbdJDoyNKlIqrAuGzSDdEB6ccG037xBfq82Ee/OBfT/GqbUSBIyqPKHEJnlG3Mhel6V0+lYcD8poDkVAQRofq8ODZBhXS6DCu/fbn33nsDtUWYP51wVPdwvmOJ9GJ2qfYH+402F/doFGNOzvLoAkukBnUakqIBUZJFp+fFcPNXzJVYVfYN+KN7T0shqYxbkRANpkZOPbWjESxW5xhEMCiwv9kUskn1FGnall+GSKFQIicoaEizCSL0e2r1W58ppgXfBRUNypRcbJR4DgrOibJaZYqpw87EVB/2GIbp0E3LpRMOma5fVcBMV2sC93CYtNp8Fr4KKhi8KMsj2tyo4fVAWLYjGhzlUKXcE0i5LDZ2fyLU/FZlnZQib787KFFApT/qN5wyMcMsis6hkOIBN5xJMOhjDnh9zNkUS1INWar1e0mVIVIIvP8r9gHnRxXPQuNj6nhwTLMRDXpxLj9Bp6wKOtgvPDGa0NeVyXHFefMul664U9BYGjUvjp2KfcH+mkqsKwtQNqmNpk61EPeeX9q1fn2pEvNelFUQFjg//ASDd8wV5brQ51NVLv2uHxxzUyetzpu6LvzOWy5RrhedIMcR06WQGluuajSASIw50ft6qNmtquVSinzQJ5EBN6Opc8Q0VDNeKp0rVYGnXGG66dBg65YP7JPax2wzNvB/Yf3e/02tH+ZMXZSkenIuFKaYDRUAZ0qFDepyMoFz7xWWfqLB7zyoQEW9A8wkyNKEvoxJNGTiN/aLY4F525TaiP8/m0bfJH7zfb/5Fb/yu75wf+opoTgOfh2eSZDgf8L9pp83v+tXiV7TtWGyGvidN7R12VTZTAX+R1PbZYqV8DuOUUyNjVeMeCAQzlB8+7iG3dchoXDcE6XI2wlbooJK00r1RINGBU8TF198sfuerwp7pnQzFbxk2j9vzYhMUes33ah+6af5fFoJAho/v04Q+2v6X7LZZ91E7mdRSOUPNwkKk/iISjxDqsBXHF/Tk28+0hrzbWnw6+j8ri90eKb/3a8jNrUVWN7vPGPbfuJDR2Vf6KRqz/xSxbPFZMXAMfSLn1BFurxEMTW2Ij7KAxE90RAWq7xKSPbgBoN5MchTkvK/YVCcXIsHU8eSzj2i3AqZ4tfJerevU2zRkO48mfY5m8Yo6Pr0VEsvfrEOXjIJ+ssXpswg/XdTPYRCjiuixFvQlw6uY/08BqnTYqoUaxKSpo40yDDwpnvSNFiX6ZoKkp6aj2wFk/jK5D6Nep2bkhcNJHeopycEcwW5qVTkL8RDri50U0cUxXSk8TbglCmH3ZRR4e0gdLFnckWYOpRSwiQ2C3lt4L5TI9MGeZmW1wl6Dkz3pb4+k1AJcj/7BXIGWX8xqoaaLB5BBLBJeAZNjS0WJS8a7JAxECQ9yuQP8RAk/1wFQmXrJ0Rja/J9RuXJc7yjN8amp0ovKg5GoZteTabY8VImOiqYLGZBz4HpvjQFMQZZzoSp3dHX5xdcWWj8AlhVLE+qly4aim3FTAdSLpGu4Nr4e/t6df9FwbHiNeHiGkJmW5Dg4KJHw68CAtFJqGGwTUA0ZDN6pekJrZj1EMho0Bh7TbBK5KlzpLsmVOPtXcYbQJqr9MKxTj4tF35ZSkEwnasgnXrQe9o0XzpLFShGEKGfqw5W2LBE3YoZs4ZEg0tfbwRC+sunh5rd7glWQZJkhxIQCDBK5b5IVY0tE6JY7GS8kqrKoO4bV/Pq5ldvDIwuGnJV9rqUMf3/6SozKmHvfWVjscn3PRd0/ZkE8/IhI/d0d3cnPzt6oaNcIoY1dVEoIRCmgmSUmFllSami3Bdo5PWUIZVrzdEbxx7KeuDt7JVQ0AWAt9NCJ6asDd7qkLmozzDWCNtR+o19ocY7yNU+kPELPBAjWAnUaeiQ4VoNJxxFUfRaDY5okK4Q8/e97roz4NYoJc6dXrqiQQE3BBp+PYMil4E8UffvjTd00aCKNunXgLcjg4DwuiiUaEglNMYrQQYsyyV+IiXIE3umNSWC1gvJxF0ZpfZirAzl3uvxQNiWnSgXy3pdjXLZ3X3C+VsrxcSKB6+78L49QZrfu0wW//w5uXVhjWTDf9yeXSzHrf/WJz19wWsvXBCBEtKm4iJqMKSg6EV/QKY3brEj0Ul69KdaFczl7dj0VEVVSVGdS7/0P1oa/Mu656sCaVh3iJcgnboKBtTXHyR2JUg8hN/6C+2m8KvlEeWBqIJywtUFw9jybsy27cTIj91SbKwZKwLN91r/dFmdaJTnT39Edh79vrx/+qRkw7nTYxm/3nesN2EEg7u9CJTIMHXSYXP5c2nKVEPGevErIkSKgylFTM+a0Ts+PQPGJBooGIbwSzXM11gJ2Vg2TO4PfX1RXn8uMe1H1OstBMUb0+AYGdpjMUvajT8Wi/KqtMLhm73z5CZHMHQNTHan3z/9gfznq7ukWOx7rT/U/Bis6oJzii8a/HyhYW66bKKvTZietCgaooV+3eiWJtM51L9LJzTGM6Z4INNYBbnAr7hQEAufXyG2VNN+y+n4tUP6tWdqw4IUnMu1BVNZ0/RthDlnUbWqdnZ1jkwMSiJmi92R/LGzU6KAdfa1xu/hjvib9y+RbR8sPOO3XFgbMuWpF8OJhkVzyiQK4KnedNOhYFMQE6UKetTJJm3O1MiYBrHxgt/yVdaanEkqq4CpCBRIZ6alpWEEv+BG3JdBLYFBXQwmy0aQUWNN40mYihn5FS9KNwqkafumMRlM15Wf+0vh125liynVPOgIuji3KL4VReHQ2+sJhIwNtsf6+/pHLA2JCFgaHGKzbjrjO1gV4I74/odzjMvA2vDAz3J/IaTjO8/1y9vvhnNNLJ0fDdEA/MZVwAWcqiPGTek3cl02fjxT6V41VLdpW6n2g+SHVFYBv9/8zO4gH6WjTcKllCxWpvsS9wEGT/MbkVLNg99N1R/DbAudqp9w8BvwyS9jyvS93/DR2H+/Ya5N6/G7rvzGx8l0iO4gQDSYCjVhe34WB9V+qSHAoygcujzGhMp4ZXu5c/ITa9ev7cBol1AU3VHIoBh2Uah0yj2nZsnfOhYGWBpSsesXu+XCqvNl1fxrpBBg0Kn/PnhKwrJobnQKceKGw82oNwKqRDRuYD1/3jQipkIfojgTkM6pN3rYHgqleEVFWFcKyQ3KmhC2miB+K1RBJ6xT3z9cU+r6QcOMrI+o5vVjP7F/eqAyUJ22ui/RUXkrDPrhV3QN21KjLurbQWeG7ajj6ee6UPUh/LZrGrJdCQc1ZHSq9aON8jtXaC/0kWjxGe0X1q+ur3y3F/gfsJ/6OVMVc7Ef3mHmIRL0/VHZaFEZHhuuid6+oewJS6yOjRs3JlSdBlgbavDh2PFjUr+4XopN7Py/lgFHNMAVgRiGoPz9z74hlRMny8qaKyWfIPDx7sd6Q1sZ4JqYOT1a1buVgjc9PYQJRMRN4TfmfRj8hAygSIgGehol8HN3eZcxdYL5iGfAOk1Pd97rJxfXaj5Bx5HKVYAOJqi7wm9kSgV+M3ViSoik8s0Hue/Vg4Ap0yGdqyDVSJFADbBlurbCHKNckOqcBdkXvxE+i4U3ZMEW2y2g5PZetm0nKyQdO35cogAsDQ9OuD2UYFBs+unXZFfHs5IvIBi27DoVWjCAT1wcuXpaLrhY0w2PnQpc6Fg+V9kUpjHo/UCjNRZSm0oJk3UgnYXJL94hH/EMubB4RQHcA6jAmul9qYb3DiKQMF/YDktViU1336v9CHufYn8gOILMF7S9CDKKZzZg3djnsOcM5yhqRfFG6QHb2o23oUfe2EgGBSwNUaHxt2+RTIFweOTItyTXwCVx92N9su9ouOBHMHO6FVnRANDIooFCnQZlMkyFGmcCy+CCz3UlOXXz+ZmvlTkQQ3qzil1hCZIhEWS5fJaOxnU8FsQkjk/QweMA7gUcZ1XyPYx4UqPcpjuXWCfWj30Keu+pSrLp/g8VpxBU7CiUwPJbt7e9yLdbSompdMN0e9vQKFkYFKP0QGzQ1QnJsoRN69ciCtIduOqv1t9T/LiGYW57doMc/vURyZRZU86Rh67cKNXOe7bsPLpLtu97V053XS+ZsG7lpEiLBhNqyFevv1Dl3RfSH6zGNlD7ofysCvgMdROqEj9kfKNfO6pTKlWhqfzheM/nfam243Up5PLYmdbvjdPIBv2cq2BbtV5TMGcY62ZYTO2o3oZFDRR1un9zi5pMtG7e6ooCbw8GFdGIDy8dOSLLMhidKx9suOx2ufHJtW52RCZ0ffBruW7XF2Xl+Y3ymfkrZX5VTZjF3e3uefOg6+5wxctk56BV/69U/PoWsfo/Eng9Ubcy+BGVC9vPtK2Iymh3JHqku3ZKjVSZKKW0nXyuP905z2bI7kyIukAwcXx0qEIyhGEkIs+2H1cfj7z8kkQFWApuWfjHki3IrLjxySa51hEQCJaEAOh0BIUORMLRRIf856vfl03P/aNc970vuu9ea0d/xSvywez7ZXDSGxKUv/9sXEhwguSKK2Bh0BuBQjWshJBoEHSEXb/ATg7LPpqDhw8lP1uWfFd9Tj769p/q314+acI/4DOCHzCyVUU8u/EYcsVn5l/jdvAo4JQtXcPr8a5r6oQp7nsYa8Zg+f9Jz3l/LZNOXC+Tum9IOe/qZRMilzERdVSuNsRAqtQ4NACFisgnhEQT5W5Am5EqoBuiAq5MHVN9mPEMXBNeS0OZlO0e+TzMgQMH+pY0LG2U4dTLqZXTZO6cORIVlsy6RPZ0Pie/6UtIrjk1eNp9ZcKAY3WwYyel7MMLxDLUkYBb4r5P08oQBtz8Kg3r2LFjSUuCcjcoXygaCORiv/POO6OWx3xf/epX6Z4gZByA9uErX/mK+1lVe8TDhLe9wPRjjz0md9xxh9GVifins88+W8gQR14+4r5cLNm9pWXLg+q30U52uCgsq3FooZciE9egeOjKTfLZJ9ca3QrF5FTVU9Jf+bxMeeueUXEOEAx0S4RHNzGqMtFBS0WnKgRDCBlbmERA2PaCronR/Lhtb/KzJbLD+9uoesaXXXrZK7Hystucj3FUhpxXO0/OikgWBZhUNlEaZ18qe946mHFgZL6AteH0tDaJDUyXslNzk4KBbonwrFgxNGBZ2EJOeLJYv359JFOXCCH54ZJLLnHfMyn8ls+MiVIFVSCffuaZ5HS5VXZXW1tb0sQ/SjS4LoplS37H0RZ1mK6oiMuF8y+UKDF14hRXOBx+50heXBVZYZ2W/inPy8yplfLgHy2gYMgC+BiR46ynZKWaf8eOHUnBQQgZP6j2Qrkug8yPehEsCncmP/jRD5MjW1qWbHdcE6MsDZa+QFNzU6PYlltOsaKiQu5Z3xyZgEgdZEHkIjgyl+SyLgQZQtWM95ZhhVVB5V4HKURFCBkfqBoNqs0AaB9UHQu0F3RfmtFqMzgKwb6ytaV1t3cey7Rg0/q1EA2N+Hz1x6+Sq5xXVEEqJSo/RiHOAeNdfPlja5LZGIQQQkip8PiuJ9zqlMASq33r5i2X6POY7eeWvUl93LuvzU2/jCoo2oQn+5U1jVIsIBI2XPYXsuH3bqdgIIQQUnLAynDkiKf6smU/aJqvzPTl/rb9HUsbGtY4H6v6+/tlQvkENygyqrhxDuddJvNn1MiR37xWsCBJCITVv3OD/O2Su+R3f2u+EEIIIaUIDAQqzRLDYG/dvPVm03y+dY1ta/BmFduAlTU0NEQ2tkHROPsy94XqjY+89C03WDIfQCysmn+NfObCa2hZIIQQUtLAyvD0M0+PfOHxNuhYkgJvbEP94nr5kz/KvpxzIUH1x91vHpQ9bz2XtYCAOFgx+1LHHXKlLD5ngRBCCCFjgW/+17fk0HDZ6CErw5bz/eZNPYIS1IY9VOwJK4RwmFdbK6UCMhlgDcDLHVOiu8O1QrzW/Qtn+qR0nXznjABKlfUwf/pcmVl5jlxYdb587JyLmA1BCCFkzAErwyHPOBOulyEFKS0NwGttqK6ulrv+koUwCCGEkLHA322+X1DMEaAuw9aWrSlFQ9rqQ+VWGVbgVlHq7Owc7fcghBBCSEnylNOfK8HgkCiTsk3plkkrGlpaWjrEHgmKwEYgHgghhBBSmhiCHx90+/s0lEkA9u/bf8A7AuarR1+V+vp6NxWTEEIIIaUDai/94z99Tfr6+txpBD+2bt56Q5BlAw+O4HVTwJzx9NN0UxBCCCGlxtO6W8KKXRl02UCWBoBRrpYsXfKhWNYnMf3GL9+QyfEKmTNnjhBCCCEk+uxt2ztqFEux7Xu2bN7yo6DLBxYNAG6KKxqumOGYMi7HNNwUCy9aIFOnThVCCCGERJe3Ot+SHf/+aHLaEnmwdUvrRglB6LGbBz4c2Oi8tavphx75FzegghBCCCHRBP30aMHglooOXUMhtGjYtm1botwquwEbxHRvb6889DCFAyGEEBJF0D+jn07WY3D67zBxDF5CuScUiG9YumTJHmfLq5zJOCIwMdDFggULpKIi2uNTEEIIIeMFXTA44MH/iiDplSYyEg1g//79b1+x9IpXLcuCcBAKB0IIISQ6GASDxGzrM5s3bz4gGZKxaAA/2feTV5YuW/q68/F6TFM4EEIIIcXHJBgGrYGbWze37pQsyEo0gP1t+9spHAghhJBo4CcYHmh5YLtkSdaiAfgJh3m185iOSQghhBQIpFWi2mNPT0/yu1wJBpAT0QAgHK5YesUL1lDxJzc48sBPD7AAFCGEEFIAULgJaZX9/f3qqwRiGLJ1SXjJmWgAiHFYvmz5N+0hi0MVvkMBqL7eXpkzdw7HqiCEEEJyDMaS+OGPfjiq0iPSKq1B+f2tW7fulhxiSR5obm6uGbAHn7XFrlHfzZgxQ2679fNy1oyzhBBCCCHZo6o8euMXnI69vcwquyHTtMpU5EU0KO5ef/c2S2Jf8n539cevkqucFyGEEEIyBwNPPfXM6MEjURp6SsWUjQ4JyQN5FQ2gaV3TnWJZG2TYXQFodSCEEEIy49jx4/LErieks7PT+3VCbHtT65bWbZJH8i4agMldAeoX1ztWh49TPBBCCCFpQOzCE9/7nhw6fGj0D5bsLpeym/PhjtApiGhQNDU3bRTbgruiyvs9XBaLFy+meCCEEEI0IBba2trkx2173ZIGHgpiXfBSUNEAYHXol36Ih9Xe7+GyWLhggTQsbaB4IIQQMu5JIRYKal0Yvdki4VgdGi079g3dZQHgtljmiIfq6mohhBBCxhOIWUCBxIOHDhrFgohjXWhp3S1FoGiiQbG2ee0ax+qwwSQeIBogHmpra2l9IIQQMmaBVeHQoUOuWIBo0EHdBdsavLlYYmFkPyICxINtC+Id6ky/z3OEAywQFBCEEELGAqit8NKRl3yFgkuRLQs6kRENCrgtnLc1esyDF8Q/YFwLCInqWdV0YxBCCIk8EAk/P35MjjsC4Zjz7i3IpJGwLPmuY4HfERWxoIicaFC4aZoy0GiLrBZbGlPNG4/HZbYjHCriFTLLeYeogDWiwvkeI21imhBCCMkXcC/09Q7FH5xwxABGmoQowKuzq1NOnDhxZnyCDqwKg/bjlZMrt+erOFO2RFY0eFECwhEP1zkiolG0lE1CCCGkBEk4vXB71IWCl5IQDTquC2NQ6izLWuH8C3WmIEpCCCEkSjh9VofYdrtt23skJu1Rcz0EoSRFg46jzqp6+nrqICQkFquybHuRbTnWCFuqnJNU5ZygGiGEEELyR8Lpb1xLgfMg2+FYxTtitrwLSwKmK+OV7aVgSUjH/wNYqpOY9fQ4PQAAAABJRU5ErkJggg==",Yx="edit_session";function Xx(){const e=new URLSearchParams(Gt().search),{googler:t,refetch:n}=(0,Ze.useContext)(zx),[r,i]=(0,Ze.useState)(!1),[o,s]=(0,Ze.useState)(null),[a,l]=(0,Ze.useState)(new Set),c=Yt();return(0,Ze.useEffect)((()=>{Vx.isSessionOpen().then((e=>{s(e)}))}),[]),(0,Ze.useEffect)((()=>{o&&Vx.getSessionMembers().then((n=>{l(new Set(n)),"organizer"===(null===t||void 0===t?void 0:t.role)&&"true"===e.get(Yx)&&i(!0)}))}),[o]),(0,zs.jsxs)("div",{className:Gx.HomePage,children:[(0,zs.jsx)("div",{className:Gx.Title,children:"GMASH"}),null!=t&&(0,zs.jsx)("div",{className:Gx.MembersContainer,children:(0,zs.jsx)(Kx,{mode:r?"select":"view",onSelectedMemberIdsChange:function(e){l((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))},selectedMemberIds:a})}),null==t&&(0,zs.jsx)("img",{alt:"Sign in",className:Gx.GoogleSignIn,src:Qx,onClick:function(){Vx.signIn()}}),null!=t&&null==t.name&&(0,zs.jsx)("button",{className:Gx.Button,onClick:()=>{null!=t&&Vx.register(t.user.uid,t.user.displayName).then((()=>{n()}))},children:"Register"}),(0,zs.jsxs)("div",{className:Gx.ButtonGroup,children:[null!=t&&o&&(0,zs.jsx)(xa,{className:Gx.Button,variant:"outlined",size:"large",onClick:()=>{c("/session")},children:"View Session"}),"organizer"===(null===t||void 0===t?void 0:t.role)&&!r&&!1===o&&(0,zs.jsx)(xa,{className:Gx.Button,variant:"contained",size:"large",onClick:()=>{Vx.createSession(),i(!0)},children:"Start Session"}),"organizer"===(null===t||void 0===t?void 0:t.role)&&o&&!r&&(0,zs.jsx)(xa,{className:Gx.Button,variant:"contained",size:"large",onClick:()=>{i(!0)},children:"Edit Session"}),"organizer"===(null===t||void 0===t?void 0:t.role)&&r&&(0,zs.jsxs)(xa,{className:Gx.Button,variant:"contained",size:"large",disabled:0===a.size,onClick:()=>{Vx.updateSessionMembers(Array.from(a)).then((()=>{c("/session")}))},children:["Proceed with ",a.size," members"]})]})]})}let Jx=0;const Zx=$e["useId".toString()];function $x(e){if(void 0!==Zx){const t=Zx();return null!=e?e:t}return function(e){const[t,n]=Ze.useState(e),r=e||t;return Ze.useEffect((()=>{null==t&&(Jx+=1,n("mui-".concat(Jx)))}),[t]),r}(e)}function eN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function tN(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const nN=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function rN(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=yn(e,nN),a=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:l,internalRef:c}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=bn(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=vn({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=vn({},n,i,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=eN(vn({},i,r)),a=tN(r),l=tN(i),c=t(s),u=bn(null==c?void 0:c.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),h=vn({},null==c?void 0:c.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),d=vn({},c,n,l,a);return u.length>0&&(d.className=u),Object.keys(h).length>0&&(d.style=h),{props:d,internalRef:c.ref}}(vn({},s,{externalSlotProps:a})),u=function(e,t,n){return void 0===e||"string"===typeof e?t:vn({},t,{ownerState:vn({},t.ownerState,n)})}(n,vn({},l,{ref:ms(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref)}),i);return u}function iN(e){return e&&e.ownerDocument||document}function oN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function sN(e){return iN(e).defaultView||window}function aN(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function lN(e){return parseInt(sN(e).getComputedStyle(e).paddingRight,10)||0}function cN(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&aN(e,i)}))}function uN(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function hN(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=iN(e);return t.body===e?sN(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=function(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}(iN(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(lN(r)+e,"px");const t=iN(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(lN(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=iN(r).body;else{const t=r.parentElement,n=sN(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const dN=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&aN(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);cN(t,e.mount,e.modalRef,r,!0);const i=uN(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=uN(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=hN(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=uN(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&aN(e.modalRef,t),cN(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&aN(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function fN(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=dN,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:h}=e,d=Ze.useRef({}),f=Ze.useRef(null),p=Ze.useRef(null),m=ms(p,h),[g,y]=Ze.useState(!u),v=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let _=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(_=!1);const b=()=>(d.current.modalRef=p.current,d.current.mount=f.current,d.current),w=()=>{i.mount(b(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},E=vs((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||iN(f.current).body;i.add(b(),e),p.current&&w()})),C=Ze.useCallback((()=>i.isTopModal(b())),[i]),S=vs((e=>{f.current=e,e&&(u&&C()?w():p.current&&aN(p.current,_))})),k=Ze.useCallback((()=>{i.remove(b(),_)}),[_,i]);Ze.useEffect((()=>()=>{k()}),[k]),Ze.useEffect((()=>{u?E():v&&o||k()}),[u,k,v,o,E]);const T=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&C()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},I=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=eN(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=vn({},n,t);return vn({role:"presentation"},r,{onKeyDown:T(r),ref:m})},getBackdropProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vn({"aria-hidden":!0},e,{onClick:I(e),open:u})},getTransitionProps:()=>({onEnter:oN((()=>{y(!1),s&&s()}),null==l?void 0:l.props.onEnter),onExited:oN((()=>{y(!0),a&&a(),o&&k()}),null==l?void 0:l.props.onExited)}),rootRef:m,portalRef:S,isTopModal:C,exited:g,hasTransition:v}}const pN=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function mN(e){const t=[],n=[];return Array.from(e.querySelectorAll(pN)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function gN(){return!0}function yN(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=mN,isEnabled:s=gN,open:a}=e,l=Ze.useRef(!1),c=Ze.useRef(null),u=Ze.useRef(null),h=Ze.useRef(null),d=Ze.useRef(null),f=Ze.useRef(!1),p=Ze.useRef(null),m=ms(t.ref,p),g=Ze.useRef(null);Ze.useEffect((()=>{a&&p.current&&(f.current=!n)}),[n,a]),Ze.useEffect((()=>{if(!a||!p.current)return;const e=iN(p.current);return p.current.contains(e.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}}),[a]),Ze.useEffect((()=>{if(!a||!p.current)return;const e=iN(p.current),t=t=>{g.current=t,!r&&s()&&"Tab"===t.key&&e.activeElement===p.current&&t.shiftKey&&(l.current=!0,u.current&&u.current.focus())},n=()=>{const t=p.current;if(null===t)return;if(!e.hasFocus()||!s()||l.current)return void(l.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==c.current&&e.activeElement!==u.current)return;if(e.activeElement!==d.current)d.current=null;else if(null!==d.current)return;if(!f.current)return;let n=[];if(e.activeElement!==c.current&&e.activeElement!==u.current||(n=o(p.current)),n.length>0){var i,a;const e=Boolean((null==(i=g.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=g.current)?void 0:a.key)),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,i,s,a,o]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,zs.jsxs)(Ze.Fragment,{children:[(0,zs.jsx)("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),Ze.cloneElement(t,{ref:m,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,d.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,zs.jsx)("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelEnd"})]})}const vN=Ze.forwardRef((function(e,t){const{children:n,container:r,disablePortal:i=!1}=e,[o,s]=Ze.useState(null),a=ms(Ze.isValidElement(n)?n.ref:null,t);if(ys((()=>{i||s(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,i]),ys((()=>{if(o&&!i)return ps(t,o),()=>{ps(t,null)}}),[t,o,i]),i){if(Ze.isValidElement(n)){const e={ref:a};return Ze.cloneElement(n,e)}return(0,zs.jsx)(Ze.Fragment,{children:n})}return(0,zs.jsx)(Ze.Fragment,{children:o?tt.createPortal(n,o):o})}));const _N=!1;var bN="unmounted",wN="exited",EN="entering",CN="entered",SN="exiting",kN=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=wN,r.appearStatus=EN):i=CN:i=t.unmountOnExit||t.mountOnEnter?bN:wN,r.state={status:i},r.nextCallback=null,r}Ps(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===bN?{status:wN}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==EN&&n!==CN&&(t=EN):n!==EN&&n!==CN||(t=SN)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===EN){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:tt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wN&&this.setState({status:bN})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[tt.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||_N?this.safeSetState({status:CN},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:EN},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:CN},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:tt.findDOMNode(this);t&&!_N?(this.props.onExit(r),this.safeSetState({status:SN},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:wN},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:wN},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:tt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===bN)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,yn(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return Ze.createElement(As.Provider,{value:null},"function"===typeof n?n(e,r):Ze.cloneElement(Ze.Children.only(n),r))},t}(Ze.Component);function TN(){}kN.contextType=As,kN.propTypes={},kN.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:TN,onEntering:TN,onEntered:TN,onExit:TN,onExiting:TN,onExited:TN},kN.UNMOUNTED=bN,kN.EXITED=wN,kN.ENTERING=EN,kN.ENTERED=CN,kN.EXITING=SN;const IN=kN;function xN(){const e=hs(is);return e[os]||e}function NN(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const RN=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],PN={entering:{opacity:1},entered:{opacity:1}},AN=Ze.forwardRef((function(e,t){const n=xN(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:s,easing:a,in:l,onEnter:c,onEntered:u,onEntering:h,onExit:d,onExited:f,onExiting:p,style:m,timeout:g=r,TransitionComponent:y=IN}=e,v=yn(e,RN),_=Ze.useRef(null),b=gs(_,s.ref,t),w=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},E=w(h),C=w(((e,t)=>{(e=>{e.scrollTop})(e);const r=NN({style:m,timeout:g,easing:a},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),c&&c(e,t)})),S=w(u),k=w(p),T=w((e=>{const t=NN({style:m,timeout:g,easing:a},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),d&&d(e)})),I=w(f);return(0,zs.jsx)(y,vn({appear:o,in:l,nodeRef:_,onEnter:C,onEntered:S,onEntering:E,onExit:T,onExited:I,onExiting:k,addEndListener:e=>{i&&i(_.current,e)},timeout:g},v,{children:(e,t)=>Ze.cloneElement(s,vn({style:vn({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},PN[e],m,s.props.style),ref:b},t))}))})),ON=AN;function DN(e){return Ks("MuiBackdrop",e)}Gs("MuiBackdrop",["root","invisible"]);const MN=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],LN=ls("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return vn({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),FN=Ze.forwardRef((function(e,t){var n,r,i;const o=fs({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:c={},componentsProps:u={},invisible:h=!1,open:d,slotProps:f={},slots:p={},TransitionComponent:m=ON,transitionDuration:g}=o,y=yn(o,MN),v=vn({},o,{component:l,invisible:h}),_=(e=>{const{classes:t,invisible:n}=e;return En({root:["root",n&&"invisible"]},DN,t)})(v),b=null!=(n=f.root)?n:u.root;return(0,zs.jsx)(m,vn({in:d,timeout:g},y,{children:(0,zs.jsx)(LN,vn({"aria-hidden":!0},b,{as:null!=(r=null!=(i=p.root)?i:c.Root)?r:l,className:bn(_.root,a,null==b?void 0:b.className),ownerState:vn({},v,null==b?void 0:b.ownerState),classes:_,ref:t,children:s}))}))})),UN=FN;function jN(e){return Ks("MuiModal",e)}Gs("MuiModal",["root","hidden","backdrop"]);const VN=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],zN=ls("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return vn({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),BN=ls(UN,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),qN=Ze.forwardRef((function(e,t){var n,r,i,o,s,a;const l=fs({name:"MuiModal",props:e}),{BackdropComponent:c=BN,BackdropProps:u,className:h,closeAfterTransition:d=!1,children:f,container:p,component:m,components:g={},componentsProps:y={},disableAutoFocus:v=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:b=!1,disablePortal:w=!1,disableRestoreFocus:E=!1,disableScrollLock:C=!1,hideBackdrop:S=!1,keepMounted:k=!1,onBackdropClick:T,open:I,slotProps:x,slots:N}=l,R=yn(l,VN),P=vn({},l,{closeAfterTransition:d,disableAutoFocus:v,disableEnforceFocus:_,disableEscapeKeyDown:b,disablePortal:w,disableRestoreFocus:E,disableScrollLock:C,hideBackdrop:S,keepMounted:k}),{getRootProps:A,getBackdropProps:O,getTransitionProps:D,portalRef:M,isTopModal:L,exited:F,hasTransition:U}=fN(vn({},P,{rootRef:t})),j=vn({},P,{exited:F}),V=(e=>{const{open:t,exited:n,classes:r}=e;return En({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},jN,r)})(j),z={};if(void 0===f.props.tabIndex&&(z.tabIndex="-1"),U){const{onEnter:e,onExited:t}=D();z.onEnter=e,z.onExited=t}const B=null!=(n=null!=(r=null==N?void 0:N.root)?r:g.Root)?n:zN,q=null!=(i=null!=(o=null==N?void 0:N.backdrop)?o:g.Backdrop)?i:c,W=null!=(s=null==x?void 0:x.root)?s:y.root,H=null!=(a=null==x?void 0:x.backdrop)?a:y.backdrop,K=rN({elementType:B,externalSlotProps:W,externalForwardedProps:R,getSlotProps:A,additionalProps:{ref:t,as:m},ownerState:j,className:bn(h,null==W?void 0:W.className,null==V?void 0:V.root,!j.open&&j.exited&&(null==V?void 0:V.hidden))}),G=rN({elementType:q,externalSlotProps:H,additionalProps:u,getSlotProps:e=>O(vn({},e,{onClick:t=>{T&&T(t),null!=e&&e.onClick&&e.onClick(t)}})),className:bn(null==H?void 0:H.className,null==u?void 0:u.className,null==V?void 0:V.backdrop),ownerState:j});return k||I||U&&!F?(0,zs.jsx)(vN,{ref:M,container:p,disablePortal:w,children:(0,zs.jsxs)(B,vn({},K,{children:[!S&&c?(0,zs.jsx)(q,vn({},G)):null,(0,zs.jsx)(yN,{disableEnforceFocus:_,disableAutoFocus:v,disableRestoreFocus:E,isEnabled:L,open:I,children:Ze.cloneElement(f,z)})]}))}):null})),WN=qN,HN=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function KN(e){return Ks("MuiPaper",e)}Gs("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const GN=["className","component","elevation","square","variant"],QN=ls("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return vn({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&vn({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(Nn("#fff",HN(n.elevation)),", ").concat(Nn("#fff",HN(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),YN=Ze.forwardRef((function(e,t){const n=fs({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:s=!1,variant:a="elevation"}=n,l=yn(n,GN),c=vn({},n,{component:i,elevation:o,square:s,variant:a}),u=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return En({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},KN,i)})(c);return(0,zs.jsx)(QN,vn({as:i,ownerState:c,className:bn(u.root,r),ref:t},l))})),XN=YN;function JN(e){return Ks("MuiDialog",e)}const ZN=Gs("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const $N=Ze.createContext({}),eR=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],tR=ls(UN,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),nR=ls(WN,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),rR=ls("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat(ya(n.scroll))]]}})((e=>{let{ownerState:t}=e;return vn({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),iR=ls(XN,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat(ya(n.scroll))],t["paperWidth".concat(ya(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return vn({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(ZN.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(ZN.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(ZN.paperScrollBody)]:{margin:0,maxWidth:"100%"}})})),oR=Ze.forwardRef((function(e,t){const n=fs({props:e,name:"MuiDialog"}),r=xN(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":s,BackdropComponent:a,BackdropProps:l,children:c,className:u,disableEscapeKeyDown:h=!1,fullScreen:d=!1,fullWidth:f=!1,maxWidth:p="sm",onBackdropClick:m,onClose:g,open:y,PaperComponent:v=XN,PaperProps:_={},scroll:b="paper",TransitionComponent:w=ON,transitionDuration:E=i,TransitionProps:C}=n,S=yn(n,eR),k=vn({},n,{disableEscapeKeyDown:h,fullScreen:d,fullWidth:f,maxWidth:p,scroll:b}),T=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e;return En({root:["root"],container:["container","scroll".concat(ya(n))],paper:["paper","paperScroll".concat(ya(n)),"paperWidth".concat(ya(String(r))),i&&"paperFullWidth",o&&"paperFullScreen"]},JN,t)})(k),I=Ze.useRef(),x=$x(s),N=Ze.useMemo((()=>({titleId:x})),[x]);return(0,zs.jsx)(nR,vn({className:bn(T.root,u),closeAfterTransition:!0,components:{Backdrop:tR},componentsProps:{backdrop:vn({transitionDuration:E,as:a},l)},disableEscapeKeyDown:h,onClose:g,open:y,ref:t,onClick:e=>{I.current&&(I.current=null,m&&m(e),g&&g(e,"backdropClick"))},ownerState:k},S,{children:(0,zs.jsx)(w,vn({appear:!0,in:y,timeout:E,role:"presentation"},C,{children:(0,zs.jsx)(rR,{className:bn(T.container),onMouseDown:e=>{I.current=e.target===e.currentTarget},ownerState:k,children:(0,zs.jsx)(iR,vn({as:v,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":x},_,{className:bn(T.paper,_.className),ownerState:k,children:(0,zs.jsx)($N.Provider,{value:N,children:c})}))})}))}))})),sR=oR,aR=["sx"];function lR(e){const{sx:t}=e,n=yn(e,aR),{systemProps:r,otherProps:i}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:ho;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r})(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return ai(e)?vn({},r,e):r}:vn({},r,t),vn({},i,{sx:o})}function cR(e){return Ks("MuiTypography",e)}Gs("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const uR=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],hR=ls("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(ya(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return vn({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),dR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fR={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},pR=Ze.forwardRef((function(e,t){const n=fs({props:e,name:"MuiTypography"}),r=(e=>fR[e]||e)(n.color),i=lR(vn({},n,{color:r})),{align:o="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:h="body1",variantMapping:d=dR}=i,f=yn(i,uR),p=vn({},i,{align:o,color:r,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:u,variant:h,variantMapping:d}),m=a||(u?"p":d[h]||dR[h])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e;return En({root:["root",o,"inherit"!==e.align&&"align".concat(ya(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},cR,s)})(p);return(0,zs.jsx)(hR,vn({as:m,ref:t,ownerState:p,className:bn(g.root,s)},f))})),mR=pR;function gR(e){return Ks("MuiDialogTitle",e)}Gs("MuiDialogTitle",["root"]);const yR=["className","id"],vR=ls(mR,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),_R=Ze.forwardRef((function(e,t){const n=fs({props:e,name:"MuiDialogTitle"}),{className:r,id:i}=n,o=yn(n,yR),s=n,a=(e=>{const{classes:t}=e;return En({root:["root"]},gR,t)})(s),{titleId:l=i}=Ze.useContext($N);return(0,zs.jsx)(vR,vn({component:"h2",className:bn(a.root,r),ownerState:s,ref:t,variant:"h6",id:null!=i?i:l},o))})),bR=_R;function wR(e){return Ks("MuiDialogActions",e)}Gs("MuiDialogActions",["root","spacing"]);const ER=["className","disableSpacing"],CR=ls("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return vn({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),SR=Ze.forwardRef((function(e,t){const n=fs({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1}=n,o=yn(n,ER),s=vn({},n,{disableSpacing:i}),a=(e=>{const{classes:t,disableSpacing:n}=e;return En({root:["root",!n&&"spacing"]},wR,t)})(s);return(0,zs.jsx)(CR,vn({className:bn(a.root,r),ownerState:s,ref:t},o))})),kR=SR,TR={Member:"MemberItem_Member__dtjWx",Selected:"MemberItem_Selected__mw9QM",MemberRow:"MemberItem_MemberRow__UUqWc",GamesToday:"MemberItem_GamesToday__D1UzG"};function IR(e){let{member:t,isSelected:n,onClick:r}=e;return(0,zs.jsxs)("div",{className:TR.Member+" "+(n?TR.Selected:""),onClick:()=>r(t),children:[(0,zs.jsx)("div",{className:TR.MemberRow,children:(0,zs.jsx)("span",{children:t.name})}),(0,zs.jsxs)("span",{className:TR.GamesToday,children:[t.played," played / ",t.upcoming," upcoming"]})]})}const xR={Hint:"GameDialog_Hint__FHlAg",Versus:"GameDialog_Versus__5Pxma"};function NR(e,t,n){const r=Array.from(e),i=r.indexOf(t);return r[i]=n,r}function RR(e){let{title:t,open:n,onClose:r,game:i,actions:o}=e;const[s,a]=(0,Ze.useState)(i),[l,c]=(0,Ze.useState)(null),[u,h]=(0,Ze.useState)(null),[d,f]=(0,Ze.useState)(null==s.ref);return(0,Ze.useEffect)((()=>{a(i)}),[i]),(0,Ze.useEffect)((()=>{null!=l&&null!=u&&(a((e=>({ref:e.ref,team1:NR(e.team1,l,u),team2:NR(e.team2,u,l)}))),c(null),h(null),f(!0))}),[l,u]),(0,zs.jsxs)(sR,{open:n,onClose:(e,t)=>{"backdropClick"!==t&&r()},children:[(0,zs.jsx)(bR,{children:t}),(0,zs.jsx)("span",{className:xR.Hint,children:"Tap two players to switch team"}),s.team1.map((e=>(0,zs.jsx)(IR,{member:e,isSelected:l===e,onClick:()=>{c(l===e?null:e)}},e.id))),(0,zs.jsx)("span",{className:xR.Versus,children:"vs"}),s.team2.map((e=>(0,zs.jsx)(IR,{member:e,isSelected:u===e,onClick:()=>{h(u===e?null:e)}},e.id))),(0,zs.jsxs)(kR,{children:[(0,zs.jsx)(xa,{onClick:()=>r(),children:"Cancel"}),d&&(0,zs.jsx)(xa,{onClick:()=>{null==s.ref?Vx.addUpcomingGame(s.team1.map((e=>e.id)),s.team2.map((e=>e.id))).then((()=>r(!0))):Vx.update(s.ref,{team1:s.team1.map((e=>e.id)),team2:s.team2.map((e=>e.id))}).then((()=>r(!0)))},children:s.ref?"Update":"Create"}),!d&&(null===o||void 0===o?void 0:o.map(((e,t)=>(0,zs.jsx)(xa,{onClick:async()=>{await e.action(s),r(!0)},children:e.text},"".concat(e.text,"-").concat(t)))))]})]})}const PR={PaddingBottom:"SessionPage_PaddingBottom__psBK-",SectionTitle:"SessionPage_SectionTitle__N6+DD",Members:"SessionPage_Members__HlUS0",Button:"SessionPage_Button__ynzJC",MakeGameButton:"SessionPage_MakeGameButton__QvsUU",ButtonGroup:"SessionPage_ButtonGroup__zEt2p",MembersTab:"SessionPage_MembersTab__oDSo+",EditMembersButton:"SessionPage_EditMembersButton__ySBNK"},AR={ScoreContainer:"FinishDialog_ScoreContainer__O5gB1",Row:"FinishDialog_Row__0p8tb",Players:"FinishDialog_Players__mpIHi",PlayerName:"FinishDialog_PlayerName__UtYRM",Score:"FinishDialog_Score__OKE0n"};function OR(e,t){return{playersId:e.map((e=>e.id)),score:t}}function DR(e){let{game:t,open:n,onClose:r}=e;const i=(0,Ze.useRef)(null),o=(0,Ze.useRef)(null);return(0,zs.jsxs)(sR,{open:n,onClose:(e,t)=>{"backdropClick"!==t&&r()},children:[(0,zs.jsx)(bR,{children:"Finish game"}),(0,zs.jsxs)("div",{className:AR.ScoreContainer,children:[(0,zs.jsxs)("div",{className:AR.Row,children:[(0,zs.jsx)("div",{className:AR.Players,children:t.team1.map((e=>(0,zs.jsx)("span",{className:AR.PlayerName,children:e.name},e.id)))}),(0,zs.jsx)("input",{ref:i,className:AR.Score,type:"number",min:0})]}),(0,zs.jsxs)("div",{className:AR.Row,children:[(0,zs.jsx)("div",{className:AR.Players,children:t.team2.map((e=>(0,zs.jsx)("span",{className:AR.PlayerName,children:e.name},e.id)))}),(0,zs.jsx)("input",{ref:o,className:AR.Score,type:"number",min:0})]})]}),(0,zs.jsxs)(kR,{children:[(0,zs.jsx)(xa,{onClick:()=>r(),children:"Cancel"}),(0,zs.jsx)(xa,{onClick:()=>function(){if(null==i.current||null==o.current)return;const e=Number(i.current.value),n=Number(o.current.value),s=OR(t.team1,e),a=OR(t.team2,n),l=e>n?s:a,c=e>n?a:s;Vx.delete(t.ref),Vx.addGameResult(l,c),r(!0)}(),children:"Finish"})]})]})}const MR={Court:"Court_Court__zzOes",CourtContent:"Court_CourtContent__GNEJZ",Team:"Court_Team__eunhB",Divider:"Court_Divider__LUZRI",Player:"Court_Player__yHF2+"};function LR(e){let{game:t,onClick:n}=e;return(0,zs.jsx)("div",{className:MR.Court,onClick:()=>n?n(t):{},children:(0,zs.jsxs)("div",{className:MR.CourtContent,children:[(0,zs.jsx)("div",{className:MR.Team,children:t.team1.map((e=>(0,zs.jsx)("span",{className:MR.Player,children:e.name},e.id)))}),(0,zs.jsx)("hr",{className:MR.Divider}),(0,zs.jsx)("div",{className:MR.Team,children:t.team2.map((e=>(0,zs.jsx)("span",{className:MR.Player,children:e.name},e.id)))})]})})}const FR={GameRow:"GameRow_GameRow__160tX"};function UR(e){let{games:t,dialog:n}=e;const{googler:r}=(0,Ze.useContext)(zx),[i,o]=(0,Ze.useState)(null);return(0,zs.jsxs)("div",{className:FR.GameRow,children:[t.map(((e,t)=>(0,zs.jsx)(LR,{game:e,onClick:()=>function(e){"organizer"===(null===r||void 0===r?void 0:r.role)&&o(e)}(e)},"upcoming-"+t))),i&&n&&(0,zs.jsx)(RR,{title:n.title,game:i,onClose:()=>o(null),open:null!=i,actions:n.actions})]})}function jR(){const{isLoaded:e,getMemberById:t}=(0,Ze.useContext)(qx),[n,r]=(0,Ze.useState)([]),[i,o]=(0,Ze.useState)(null);return(0,Ze.useEffect)((()=>{if(!e)return;const n=Vx.listenToPlayingGames((e=>{const n=e.map((e=>({team1:e.team1.map((e=>t(e))),team2:e.team2.map((e=>t(e))),ref:e.ref})));r(n)}));return()=>n()}),[e]),(0,zs.jsxs)(zs.Fragment,{children:[(0,zs.jsx)(UR,{games:n,dialog:{title:"Update a playing game",actions:[{text:"Finish",action:async e=>{o(e)}}]}}),i&&(0,zs.jsx)(DR,{game:i,open:null!=i,onClose:()=>{o(null)}})]})}function VR(e,t){var n,r;return(null!==(n=e.played)&&void 0!==n?n:0)+(null!==(r=e.upcoming)&&void 0!==r?r:0)+(t.has(e.id)?1:0)}function zR(e){const t=e.map((e=>e.elo));return.6*Math.min(...t)+.4*Math.max(...t)}function BR(e,t,n){const r=function(e){return Math.abs(zR(e.team1)-zR(e.team2))}(e),i=function(e,t,n){return[...e.team1,...e.team2].map((e=>t-VR(e,n))).reduce(((e,t)=>e+t),0)}(e,t,n);return{game:e,score:-1*r+350*i}}function qR(e,t){const n=function(e,t){return Math.max(...e.map((e=>VR(e,t))))}(e,t);return function(e){return function(e){if(e.length<4)return[];const t=[];for(let n=0;n<e.length;n++)for(let r=n+1;r<e.length;r++)for(let i=r+1;i<e.length;i++)for(let o=i+1;o<e.length;o++)t.push([e[n],e[r],e[i],e[o]]);return t}(e).flatMap((e=>{let[t,n,r,i]=e;return[{team1:[t,n],team2:[r,i]},{team1:[t,r],team2:[n,i]},{team1:[t,i],team2:[n,r]}]}))}(e).map((e=>BR(e,n,t))).sort(((e,t)=>t.score-e.score)).slice(0,10).map((e=>e.game))}function WR(e){let{members:t}=e;const[n,r]=(0,Ze.useState)([]),[i,o]=(0,Ze.useState)(new Set);return(0,Ze.useEffect)((()=>{r(qR(t,i))}),[t,i]),(0,Ze.useEffect)((()=>{const e=Vx.listenToPlayingGames((e=>{o(new Set(e.flatMap((e=>[...e.team1,...e.team2]))))}));return()=>e()}),[t]),(0,zs.jsx)(UR,{games:n,dialog:{title:"Recommended game",actions:[]}})}function HR(e){let{members:t}=e;const[n,r]=(0,Ze.useState)([]),i=(0,Ze.useCallback)((e=>t.find((t=>t.id===e))),[t]);return(0,Ze.useEffect)((()=>{const e=Vx.listenToUpcomingGames((e=>{if(0===t.length)return;const n=e.map((e=>({team1:e.team1.map((e=>i(e))),team2:e.team2.map((e=>i(e))),ref:e.ref})));r(n)}));return()=>e()}),[t,i]),(0,zs.jsx)(UR,{games:n,dialog:{title:"Update an upcoming game",actions:[{text:"Delete",action:async function(e){if(null==e.ref)throw new Error("Game is not registered correctly.");await Vx.delete(e.ref)}},{text:"Play",action:async function(e){if(null==e.ref)throw new Error("Game is not registered correctly.");await Vx.delete(e.ref),await Vx.addPlayingGame(e.team1.map((e=>e.id)),e.team2.map((e=>e.id)))}}]}})}function KR(){const{googler:e}=(0,Ze.useContext)(zx),{members:t}=function(){const{members:e}=(0,Ze.useContext)(qx),[t,n]=(0,Ze.useState)([]);return(0,Ze.useEffect)((()=>{const t=Vx.listenToSessionMembers((t=>{const r=t?e.filter((e=>e.id in t)).map((e=>{const n=t[e.id];return{...e,...n}})):[];n(r)}));return()=>t()}),[e]),{members:t}}(),[n,r]=(0,Ze.useState)(new Set),[i,o]=(0,Ze.useState)(!1),[s,a]=(0,Ze.useState)(!1),l=Yt();function c(t){if("organizer"!==(null===e||void 0===e?void 0:e.role))return;const i=new Set(n);n.has(t)?i.delete(t):n.size<4&&i.add(t),i.size!==n.size&&r(i)}return(0,Ze.useEffect)((()=>{Vx.isSessionOpen().then((e=>{e||l("/")}))}),[l]),(0,zs.jsxs)("div",{className:n.size>0?PR.PaddingBottom:"",children:[(0,zs.jsx)("h4",{className:PR.SectionTitle,children:"Now playing"}),(0,zs.jsx)(jR,{}),(0,zs.jsx)("h4",{className:PR.SectionTitle,children:"Upcoming"}),(0,zs.jsx)(HR,{members:t}),(0,zs.jsx)("h4",{className:PR.SectionTitle,children:"Recommended"}),(0,zs.jsx)(WR,{members:t}),(0,zs.jsxs)("div",{className:PR.MembersTab,children:[(0,zs.jsx)("h4",{className:PR.SectionTitle,children:"Members"}),"organizer"===(null===e||void 0===e?void 0:e.role)&&(0,zs.jsx)(xa,{variant:"text",size:"small",className:PR.EditMembersButton,onClick:()=>{l("/?edit_session=true")},children:"Edit members"})]}),(0,zs.jsx)("div",{className:PR.Members,children:t.map((e=>(0,zs.jsx)(IR,{member:e,isSelected:n.has(e),onClick:c},e.id)))}),n.size>0&&(0,zs.jsxs)(xa,{className:PR.MakeGameButton,variant:"contained",onClick:()=>{o(!0)},disabled:n.size<2||n.size%2===1,children:["Make a game (",n.size,")"]}),"organizer"===(null===e||void 0===e?void 0:e.role)&&(0,zs.jsxs)(zs.Fragment,{children:[(0,zs.jsx)("h4",{className:PR.SectionTitle,children:"Control"}),(0,zs.jsx)(xa,{variant:"outlined",className:PR.Button,onClick:()=>{a(!0)},children:"Close Session"})]}),(0,zs.jsx)(RR,{title:"Make a new game",open:i,onClose:e=>{e&&r(new Set),o(!1)},game:function(){const e=Array.from(n).sort(((e,t)=>t.elo-e.elo));return{team1:[...e.slice(0,1),...e.slice(3)],team2:e.slice(1,3)}}()}),(0,zs.jsxs)(sR,{open:s,onClose:()=>a(!1),children:[(0,zs.jsx)(bR,{children:"Close ongoing session?"}),(0,zs.jsxs)(kR,{children:[(0,zs.jsx)(xa,{onClick:()=>a(!1),children:"Cancel"}),(0,zs.jsx)(xa,{onClick:()=>{Vx.closeSession().then((()=>{l("/")}))},autoFocus:!0,children:"OK"})]})]})]})}const GR=function(){return(0,zs.jsx)(Bx,{children:(0,zs.jsx)(Wx,{children:(0,zs.jsx)(pn,{basename:"/gmash",children:(0,zs.jsxs)(hn,{children:[(0,zs.jsx)(cn,{path:"/",element:(0,zs.jsx)(Xx,{})}),(0,zs.jsx)(cn,{path:"/session",element:(0,zs.jsx)(KR,{})})]})})})})},QR=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};Le({apiKey:"AIzaSyDaVS0MghioqcmFTBdwNrdV9P5Zpu2ilUs",authDomain:"gmash-496a9.firebaseapp.com",projectId:"gmash-496a9",storageBucket:"gmash-496a9.appspot.com",messagingSenderId:"131659335029",appId:"1:131659335029:web:d675ce7e9cbe1dba753f3c",measurementId:"G-X17ZEEE5DZ",databaseURL:"https://gmash-496a9-default-rtdb.asia-southeast1.firebasedatabase.app"});et.createRoot(document.getElementById("root")).render((0,zs.jsx)(GR,{})),QR()})()})();
//# sourceMappingURL=main.0f696d48.js.map